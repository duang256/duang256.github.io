<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://example.com">
  <title>品读《计算机网络 自顶向下方法》 | yueyan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本人浅读《计算机网络 自顶向下方法》，品读经典，大有裨益，梳理前六章，与君分享，才疏学浅，欢迎指正和补充，不胜感激。">
<meta property="og:type" content="article">
<meta property="og:title" content="品读《计算机网络 自顶向下方法》">
<meta property="og:url" content="http://example.com/2021/12/09/%E5%93%81%E8%AF%BB%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B/index.html">
<meta property="og:site_name" content="yueyan">
<meta property="og:description" content="本人浅读《计算机网络 自顶向下方法》，品读经典，大有裨益，梳理前六章，与君分享，才疏学浅，欢迎指正和补充，不胜感激。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img-blog.csdnimg.cn/cc74077a9e044bc08cb366634a49a847.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/bfc14e9e4496439a9aef628c392218d8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/18726ef4e82249f6b34a02193c67cf3f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2000117807d44288bacc7c2ff1f55e65.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_19,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/1442216e147b4e7cbc416fb5528ed26d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/cfd7321f93d0468f84edb831d9c789a4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/318efdedb0f34fe3840abadeca786018.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_19,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/4c183e33bfed4a4c85daa4d0fdeb5d63.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/a42dc61302f84ed481814fe901d9d2d4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/be905d9ee4be488f8590df14ac24dc9c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/da53bd7da4274477bafab83799aae482.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/0d298956e6384175a3ebad3d5457598b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/5d3403343d7146e68c23bd5334cbd591.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20b894e490984c21bc1d4b8801fe6e05.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/713193b2437341308b253c835362540d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/973e74ffc7614454a452aff8cfdb26b4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/f007e1620dba40bcbd518d43d9305236.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/44f6f2a85d624f9fba1da614202b0ddf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/404e48a094a84d9fa268f2b71d085bb2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210523210225120.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210523210609418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dBX01D,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210523210601481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dBX01D,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/782fcf236b734dd1a5ee4280c6e92700.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/dc8cbfdab6b84b74938b8d8b2adf65bf.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/cf631610438c4ab3b9d1649b73e02501.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/7f3df02a94bb46ff80637483b31b0c41.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/6ecfd3711cf44b3599c2a9e994bbc5f9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/c74e0b43756547ec89a6fa6ba93166e9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/6b3e7b961c5742319229c51fd40fb149.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/8838edbb3a1245019eed93aa932ffac4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/cad5ddcfb742429db9310eae65cafcc7.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/f082daf3efe94af983c166210766e6ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/37f2cd82122941289790fdaa486038d7.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/edfb988e9f814091a76a67619c78c730.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_10,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2bdaafdbe1834ab1a9a05726aaf52b1e.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/abaddcb22aae4944ba5e3ced030a0777.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/39f7070b8c25411b962ad062a58de6f3.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/1d524c8fbac04650bd31b902c948ac2e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_11,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/cfa8880a1a2c45808cd0fe15a20717f0.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/3eaec81c55824aa38718abbdfa4100d1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/818077e7e5334d3ea40c59d6993620fe.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/40bb54bd837b4c02b2aa3b410a2464ba.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/9949647616a44345b51f5f77af2b3345.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/3bc401f05cbb4ef2b837749e3676cf08.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/bdfa6df61a894b38a8b48cc19b3d2cdf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/d507caabb83945dab2c460db4e9c4250.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/bbb72a336889427ab5d562939661fda9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/11f149856d234d6b97280c1a6e1bfc8f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2935640c8e694ecc8b5280cb2483ee09.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/5aabd1a51d4441af871a2363acaa68cc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/562a08a1e36d4b2188a1451f102e2099.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/eb9b8b217f4043a293ccfe0206249ead.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/4f331b6a5b7f42c79f61aac447f954c5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/1222b267ef584732ac5377690cd1751e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/cb2f8a7406544b41a2b557ec7d88965e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/29cb347b2a0a4497a11f48591bc438d6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_8,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/6c655b30ec414e629d94d717ded48cff.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/aa9ee6a9e2c548958fcc8d34e610be94.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_10,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/24075ee2faca4996a763a2c4f66a3f1a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_8,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/43d2c5b41509469daf2a768d53ea724d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/1530df4827f3407db89bce4cfc8aec65.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/5e53b77154444d38b81c71a146f2011e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/0bc7cf07f45e42098a8f6d44862ae064.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/d0a2c16360844c7fb7ba73d83617bc2c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/4e7a869c61744504817c4b7f19c44e6a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/95d6f362089e48cfb6660b3c03e49508.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/52b91ccd3a5f4e279de7411a07622911.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/dacc6f706c8b4eeda5f79224fe94a2cb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/d6f5774811fa452fad9e199f97060e7b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/42dc4b547f274be4b19a880a5b1ee9ff.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/5ba8e0aa21e7406d9323cf0c76dee69d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/ba8f1a331a7b467ba563558dc6c8e4b0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_19,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/b3ddd181ecac4a4fa90a262f14caea6a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/7602d5c5ea6e4da29af0d8792fe073ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_11,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2f8f3331a40b4d1fa677b906e0676e31.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2d99ba91ecdc4aa3a4dee5e0c72c08ab.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/906e81cccd734de98fee8789a459f5e0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/746eb28c8d13403eb5df86d66547f513.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/ddd3bb9140a84cb5b8d889aa980e6301.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/d538a3714e7541aebfabdd983aae1722.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/ba6b24e89f1647579ba8732a8fe8c413.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/3f95a787432642a38199b048069d182a.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/c7bcfba36d72489d99353554a524f990.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/92e4c365b5c548c68ea5d4a0741e6cc8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_11,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/0adfa6bb0e7f4e62ad48aac5fc53dd42.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/4ddb5f8fe320437a89cd12cbaf259f17.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/45379b21faa3464890abfabe00b73695.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/90adcacc8b4b4b7b9f262705dce5a193.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/c280b76d2afb4900878032bb21f80d95.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/e6eb32c42bdd4e96be37e1d11669cc02.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_7,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/ddfe5fb2fb3144b99f9f039f46add45a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_8,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/9ad47238a331409784e1b5af61c2d99f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/339d28b34f744e99bda96784fe007097.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/304b13508f2640d6a45a1b3959fcdedf.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/29677418047c411daff71e58f91fa80f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_18,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/a54621ae359743e8bb2ef3b0c676c9f3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://img-blog.csdnimg.cn/3d3d6ec80c784b3f81b43db8530a74b5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16">
<meta property="article:published_time" content="2021-12-09T02:45:34.000Z">
<meta property="article:modified_time" content="2022-02-05T16:50:26.566Z">
<meta property="article:author" content="yueyan">
<meta property="article:tag" content="网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/cc74077a9e044bc08cb366634a49a847.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16">
  
    <link rel="alternative" href="/atom.xml" title="yueyan" type="application/atom+xml">
  
  
    <link rel="icon" href="/assets/webHead.jpg">
  
  <link rel="stylesheet" type="text/css" href="/./main.0cf68a.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/assets/me.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/"></a></h1>
		</hgroup>
		
		<p class="header-subtitle">流水不争先，争的是滔滔不绝</p>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/tags/Java">Java</a></li>
	        
				<li><a href="/tags/JVM">JVM</a></li>
	        
				<li><a href="/tags/%E7%BD%91%E7%BB%9C">网络</a></li>
	        
				<li><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a></li>
	        
				<li><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">操作系统</a></li>
	        
				<li><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95">数据结构与算法</a></li>
	        
				<li><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式</a></li>
	        
				<li><a href="/tags/%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95">职业发展</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		
		
		<nav class="header-nav">
			<div class="social">
				
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/assets/me.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author"></h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>流水不争先，争的是滔滔不绝<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 12.5%"><a href="/tags/Java">Java</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/JVM">JVM</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/%E7%BD%91%E7%BB%9C">网络</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">操作系统</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95">数据结构与算法</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式</a></li>
		        
					<li style="width: 12.5%"><a href="/tags/%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95">职业发展</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            <article id="post-品读《计算机网络 自顶向下方法》" class="article article-type-post " itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      品读《计算机网络 自顶向下方法》
    </h1>
  

        
        <a href="/2021/12/09/%E5%93%81%E8%AF%BB%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B/" class="archive-article-date">
  	<time datetime="2021-12-09T02:45:34.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2021-12-09</time>
</a>
		
		
		  
	   
		
		
		
		
		<span class="archive-article-date">
			阅读量 <span id="busuanzi_value_page_pv"></span>
		</span>
		
		
		
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><font color=brown><strong>本人浅读《计算机网络 自顶向下方法》，品读经典，大有裨益，梳理前六章，与君分享，才疏学浅，欢迎指正和补充，不胜感激。</strong><br></font></p>
<span id="more"></span>

<blockquote>
<p>在本书中，我们使用一种特定的计算机网络，即公共因特网，作为讨论计算机网络及其协议的载体。</p>
</blockquote>
<h1 id="计算机网络和因特网"><a href="#计算机网络和因特网" class="headerlink" title="计算机网络和因特网"></a>计算机网络和因特网</h1><h2 id="什么是因特网"><a href="#什么是因特网" class="headerlink" title="什么是因特网?"></a>什么是因特网?</h2><blockquote>
<p>其一，我们能够描述因特网的具体构成，即因特网的基本硬件和软件组件；其二，我们能够根据为分布式应用提供服务的联网基础设施来描述因特网。</p>
</blockquote>
<h3 id="具体构成描述"><a href="#具体构成描述" class="headerlink" title="具体构成描述"></a>具体构成描述</h3><blockquote>
<p> 因特网是一个世界范围是计算机网络，即它是一个互联了遍及全世界数十亿计算设备的网络。这些设备都称为主机（host）或者端系统（end system）。端系统通过通信链路（communication link）和分组交换机（packet switch）连接到一起。通信链路由不同的物理媒体组成（后面会介绍）。链路的传输速率以比特/s（bit/s 或 bps）度量。当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。由此形成的信息包用计算机网络的术语称为分组（packet）。这些分组通过网络发送到目的端系统，在那里被装配成初始数据。</p>
<p> 分组交换机从它的一条入通信链路接受到达的分组，并从它的一条出通信链路转发该分组。分为路由器（router）和链路层交换机（link-layer switch）。链路层交换机通常用于接入网中，而路由器通常用于网络核心中。从发送端系统到接收端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的路径。</p>
</blockquote>
<p>路由器和链路层交换机的区别？</p>
<p>知乎评论：“你想想教材里的路由协议。家用交换机有哪个能跑的？真的路由器至少都要几千块。支持不同的路由协议，能根据当前网络状况自动协调路由。家里用得着么？”。从我们身边观察，家用路由器不如说是低配交换机加集成较弱的路由功能，正儿八经的路由器是要上千的。</p>
<p>外观：从外观上看，链路层交换机通常接口比较多，体积也相对较大，而路由器的接口就少得多，体积也要小很多。事实上，图（b）并不是真正的路由器，它只是集成了路由器的功能，除此之外它还有交换机的功能（LAN口就是作为交换机接口来使用的，WAN是用于连接外网的接口，而四根天线则是无线接入点，也就是我们通常所说的wifi和热点）。</p>
<p>层次：链路层交换机的原理相对简单，一般都是使用硬件电路来实现数据帧的转发，而路由器一般工作在网络层，肩负着网络互联的重任，需要实现更为复杂的协议，具有更加智能的转发决策功能，通常都会在在路由器中跑操作系统，实现复杂的路由算法。因此，与链路层交换机相比，路由器更加偏向于软件实现其功能。</p>
<p>转发对象：交换机是根据MAC地址转发数据帧，而路由器则是根据IP地址来转发IP数据报/分组。数据帧是在IP数据包/分组的基础上封装了帧头（源MAC和目的MAC等）和帧尾（CRC校验码）。实际上，数据帧中的IP地址决定最终数据包要到达的主机，而MAC地址则是决定下一跳将要将数据传送给哪台设备（路由器或目的主机）。IP地址是软件实现的，可以描述主机所在的网络，而MAC地址是硬件实现的，每一个网卡在出厂的时候都会将全世界唯一的MAC地址固化在网卡的ROM中，因此MAC地址是不可修改的，但是IP地址是可以由网络管理人员配置修改的。</p>
<p>分工：链路层交换机用于组件局域网，路由器主要负责连接外网并寻找网络中最合适数据传输的路径。</p>
<p><img src="https://img-blog.csdnimg.cn/cc74077a9e044bc08cb366634a49a847.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YkLvIRxu-1638518733830)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211202231343136.png)]"></p>
<p>端系统通过因特网服务提供商（Internet Service Provider，ISP）接入因特网。</p>
<p>端系统、分组交换机和其他因特网部件都要运行一系列协议（protocol），这些协议控制因特网中信息的接受收和发送。IETF组织的RFC文档往往是技术性很强并相当详细的。它们定义了TCP、IP、HTTP和SMTP等协议。目前已经有将近7000个RFC。</p>
<h3 id="服务描述"><a href="#服务描述" class="headerlink" title="服务描述"></a>服务描述</h3><p>运行在一个端系统上的应用程序怎样才能指令因特网向运行在另一个端系统上的软件发送数据呢？</p>
<blockquote>
<p>与因特网相连的端系统提供了一个套接字接口（socket interface），该接口规定了运行在一个端系统上的程序请求因特网基础设施向运行在另一个端系统上的特定目的地程序交付数据的方式。因特网套接字接口是一套发送程序必须遵循的规则集合，因此因特网能够将数据交付给目的地。</p>
</blockquote>
<h2 id="网络边缘"><a href="#网络边缘" class="headerlink" title="网络边缘"></a>网络边缘</h2><p>端系统也称为主机（host），因为它们容纳应用程序。主机有时又被进一步划分为两类：客户（client）和服务器（server）。客户通常是桌面PC、移动PC和智能手机等。服务器通常是更为强大的机器，用于存储和发布web页面、流视频。</p>
<h3 id="接入网"><a href="#接入网" class="headerlink" title="接入网"></a>接入网</h3><blockquote>
<p>拨号接入：安装简单但速度最慢，所需介质为电话线，通过拨号ISP提供的电话实现上网。拨号连接占用电话线，即固定电话和上网无法同时进行。</p>
</blockquote>
<blockquote>
<p>DSL：每个用户的调制解调器使用现有的电话线与电话公司的数字用户线接入复用器（DSLAM）交换数据。家庭的调制解调器得到数字数据后将其转换为高频音，以通过电话线传输给本地中心局。来自许多家庭的模拟信号在DSLAM处被转换回数字形式。在用户一侧，一个分配器把到达家庭的数据信号和电话信号分隔开，并将数据信号转发给DSL调制解调器。在电话公司一侧，在本地中心局中，DSLAM将数据和电话信号分隔开，并将数据送往因特网。DSL使用铜制电话双绞线传输。<img src="https://img-blog.csdnimg.cn/bfc14e9e4496439a9aef628c392218d8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-MHJqeINA-1638518733831)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211202231439300.png)]"></p>
</blockquote>
<blockquote>
<p>电缆因特网：电缆因特网接入利用了有线电视公司现有的有线电视基础设施。住宅从提供有线电视的公司获得了电缆因特网接入。电缆将电缆头端接到地区枢纽，从这里使用传统的同轴电缆到达各家各户。经常被称为光纤混合同轴系统（HFC）。电缆因特网需要特殊的调制解调器，这种调制解调器称为电缆调制解调器（数字信号转为模拟信号，是通常所说的猫）。电缆调制解调器通常是一个外部设备通过一个以太网端口连接到家庭PC。在电缆头端，电缆调制解调器端接系统（CMTS）将许多下行家庭中的电缆调制解调器发送的模拟信号转换成数字信号。<img src="https://img-blog.csdnimg.cn/18726ef4e82249f6b34a02193c67cf3f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-myXt6sx9-1638518733832)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211202233559707.png)]"></p>
</blockquote>
<blockquote>
<p>光纤：分为FTTH（Fiber To The Home）和FTTB（Fiber To The Building）。光纤到户和光纤到楼。一般的宽带现在都是光纤到楼，一般所说比较快的光纤就是FTTH。光纤分布体系结构分为AON有源光纤网络和PON无源光纤网络。PON如下图<img src="https://img-blog.csdnimg.cn/2000117807d44288bacc7c2ff1f55e65.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_19,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</blockquote>
<blockquote>
<p>在公司和大学校园以及越来越多的家庭环境中，使用局域网（LAN）将端系统连接到边缘路由器。以太网用户使用双绞铜线与一台以太网交换机相连（平时购买到的路由器主要功能是体现交换机的功能，能，有薄弱的路由器功能，也算边缘路由器）。以太网交换机或这样相连的交换机网络，则与更大的因特网相连。</p>
</blockquote>
<blockquote>
<p>另外，在无线LAN中，无线用户从一个接入点发送分组，该接入点与局域网连接，局域网再与有线因特网连接。一个无线LAN用户通常必须位于接入点的几十米范围内。基于IEEE 802.11技术的无线LAN接入，更通俗的称为WIFI，目前几乎无处不在。<img src="https://img-blog.csdnimg.cn/1442216e147b4e7cbc416fb5528ed26d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-KutSsi8u-1638518733833)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211202234447193.png)]"></p>
</blockquote>
<h3 id="物理媒体"><a href="#物理媒体" class="headerlink" title="物理媒体"></a>物理媒体</h3><blockquote>
<p>物理媒体的例子包括双绞铜线、同轴电缆、多模光纤缆、陆地无线电频谱和卫星无线电频谱。物理媒体分为两种类型：引导性媒体（guided media）和非引导型媒体（unguided media）。对于引导型媒体，电波沿着固体媒体前行，如光缆、双绞铜线或同轴电缆。对于非引导型媒体，电波在空气或外层空间中传播，例如在无线局域网或数字卫星频道中。</p>
</blockquote>
<p>双绞铜线：</p>
<blockquote>
<p>双绞线由两根绝缘的铜线组成，每根大约1mm粗，以规则的螺旋状排列着。这两根线被绞合起来，以减少临近类似的双绞线的电气干扰。一般我们购买到的网线就是双绞线。</p>
</blockquote>
<p>同轴电缆：</p>
<blockquote>
<p>同轴电缆由两个铜导体组成，但是这两个导体是同心的而不是并行的。同轴电缆在电缆电视系统中相当普遍。在电缆电视系统中相当普遍。</p>
</blockquote>
<p>光纤：</p>
<blockquote>
<p>光纤是一种细而柔软的、能够引导光脉冲的媒体，每个脉冲表示一个比特。一根光纤能够支持极高的比特速率，高达数十甚至数百Gbps。它们不收哦电磁干扰，衰减极低，并且很难窃听。高成本使得LAN或接听接入网中不适用它们。</p>
</blockquote>
<p>陆地无线电信道：</p>
<blockquote>
<p>分为三类：一类运行在很短距离（1米或两米），如个人设备头戴式耳机、键盘；另一类运行在局域，通常跨越数十到几百米，比如无线LAN技术；第三类运行在广域跨越数万米，比如蜂窝接入技术，即移动网络。</p>
</blockquote>
<p>卫星无线电信道：</p>
<blockquote>
<p>通信中通常使用两类卫星：同步卫星和近地轨道卫星</p>
<p>同步卫星永久停留在地球上方相同点上。从地面站到卫星再回到地面站的巨大距离引入了可观的280ms信号传播时延。同步卫星最重要的应用之一是传输电视节目。广播信号也被传输。</p>
<p>近地轨道卫星放置的非常靠近地球，为了提供对一个区域的连续覆盖，需要在轨道上放置许多卫星。</p>
</blockquote>
<h2 id="网络核心"><a href="#网络核心" class="headerlink" title="网络核心"></a>网络核心</h2><h3 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h3><blockquote>
<p>在各种网络应用中，端系统彼此交换报文（message）。为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，称之为分组（packet）。在源和目的地之间，每个分组都通过通信链路和分组交换机（路由器和链路层交换机）传送。</p>
</blockquote>
<blockquote>
<p>存储转发传输：在交换机能够开始向输出链路传输该分组的第一个比特之前必须接受到整个分组。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/cfd7321f93d0468f84edb831d9c789a4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RhqDgxp1-1638518733834)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211203112830019.png)]"></p>
<blockquote>
<p>排队时延和分组丢失：对于每条相连的链路该分组交换机具有一个输出缓存（output buffer），它用于存储路由器准备发往那条链路的分组。该输出缓存在分组交换中起着重要的作用。如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待。因此除了存储转发时延外，分组还要承受输出缓存的排队时延。一个到达的分组可能发现该缓存已经被其他等待传输的分组完全充满了，再次情况下，将出现分组丢失（丢包）（packet loss），到达的分组或已经排队的分组之一被丢弃。</p>
<p><img src="https://img-blog.csdnimg.cn/318efdedb0f34fe3840abadeca786018.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_19,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Gcg2Eurw-1638518733834)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211203114208385.png)]"></p>
</blockquote>
<blockquote>
<p>转发表和路由选择协议：在因特网中，每个端系统具有一个IP地址，当源主机要向目的端系统发送一个分组时，源在该分组的首部包含了目的地的IP地址。每台路由器有一个转发表（forwarding table），用于将目的地址映射成输出链路。当某分组到达一台路由器时，路由器检查该地址，并用这个目的地址搜索其转发表，以发现适当的出链路。路由器将该分组导向该出链路。</p>
<p>因特网具有一些特殊的路由选择协议（routing protocol），用于自动地设置这些转发表。例如，一个路由选择协议可以决定从每台路由器到每个目的地的最短路径，并使用这些最短路径来配置路由器中的转发表。</p>
</blockquote>
<h3 id="报文交换"><a href="#报文交换" class="headerlink" title="报文交换"></a>报文交换</h3><p>报文交换相比分组交换，报文交换不拆分报文，以完整报文进行存储转发。</p>
<h3 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h3><blockquote>
<p><strong>传统的电话网络是电路交换网络的例子</strong>。在发送方能够发送消息之前，该网络必须在发送方和接收方之间建立一条连接。这是一个名副其实的连接，因为此时沿着发送方和接收方之间路径上的交换机都将未该连接维护连接状态。该连接被称为一条电路。它在连接期间在该网络链路上预留额恒定的传输速率。</p>
</blockquote>
<blockquote>
<p>电路交换中的电路是通过频分复用（FDM）和时分复用（TDM）来实现的。对于FDM，链路的频谱由跨越链路创建的所有连接共享。特别是，在连接期间链路为每条连接专用一个频段。调频无线电台也使用FDM来共享频谱，每个电台被分配特定频段。对于一条TDM，时间被划分为固定期间的帧，并且每个帧又被划分为固定数量的时隙。网络在每个帧中为该连接指定一个时隙。这些时隙由该连接单独使用。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/4c183e33bfed4a4c85daa4d0fdeb5d63.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-qyPDRNJW-1638518733835)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211203120131453.png)]"></p>
<p><em><strong>分组交换允许更多用户同时使用网络！——网络资源充分共享</strong></em></p>
<h3 id="网络的网络"><a href="#网络的网络" class="headerlink" title="网络的网络"></a>网络的网络</h3><p>让端用户和内容提供商连接到接入ISP仅解决了连接难题中很小的一部分，因为因特网是由数以亿计的用户构成的。要解决这个难题，ISP自身必须互联。通过创建网络的网络可以做到这一点，理解这个短语是理解因特网的关键。</p>
<p><font color=blue>书中逐步递进介绍了因特网网络结构，这里直接介绍今天的因特网结构。</font></p>
<p>如果某个公司建立并运营一个可盈利的全球传输ISP（也称T1，目前中国电信、中国联通已经升级到T1），其他公司建立自己的全球传输ISP并与最初的全球传输ISP是一件自然的事，然而这些全球传输ISP必须是互联的。不然的话，与某个全球传输ISP连接的接入ISP将不能与连接到其他全球传输的ISP的接入ISP进行通信。</p>
<p>区域ISP，在任何给定的区域，可能有一个区域ISP，区域中的接入ISP与之相连。每个区域ISP与第一层ISP相连。第一层ISP是全球传输ISP，尽管它不是在世界上每个城市都存在，但它确实存在。有大约十几个第一层ISP。区域ISP向第一层ISP付费，在某些区域，可能有较大的区域ISP（可能跨越整个国家），该区域中较小是区域ISP与之相连，较大的区域ISP与第一层ISP连接。（例如在中国，有每个城市有接入ISP，它们与省级ISP相连，省级ISP又与国家级ISP连接，国家级ISP最终与第一层ISP连接）。</p>
<p>Pop（Point of Presence）存在于等级结构的所有层次，底层（接入ISP）除外。一个Pop只是提供商网络中的一台或多台路由器群组，其中客户ISP能够与供应商ISP连接。对于要与提供商Pop连接的客户网络，它能将它的路由器直接连接到位于该Pop的一台路由器，任何ISP可以选择多宿，即可以与两个或多个提供商ISP连接。当一个ISP多宿时，即使它的提供商之一出现故障，它仍然能够继续发送和接受分组。</p>
<p>客户ISP向他们的提供商ISP付费以获得全球因特网互联能力。客户ISP支付给提供商ISO的费用数额反映了它通过提供商交换的通信流量。为了减少这些费用，位于相同等级结构层次的临近一堆ISP能够对等，也就是说，能够直接将它们的网络连到一起，使它们之间的所有流量直接连接而不是通过上游的中间ISP传输。当两个ISP对等时，不进行付费。第三方公司创建一个因特网交换点（Internet Exchange Point，IXP），IXP是一个汇合点，多个ISP在这里一起对等。</p>
<p>提供商自给自足：内容提供商网络最典型的比如谷歌，谷歌专用网络仅承载出入谷歌浏览器的流量。谷歌专用网络通过与较低层的ISP对等，尝试绕过因特网的较高层，采用的方式是可以是直接与它们连接，或者在IXP处与它们连接。然而因为许多接入ISP仍然仅能通过第一层网络的传输到达，所以谷歌网络也与第一层ISP连接，并就与这些ISP交换的流量付费。通过创建自己的网络，内容提供商不仅减少了向顶层ISP支付的费用，而且对其服务最终如何交付给端用户有了更多的控制。</p>
<h2 id="时延和吞吐量"><a href="#时延和吞吐量" class="headerlink" title="时延和吞吐量"></a>时延和吞吐量</h2><h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><blockquote>
<p>时延从一台主机出发，通过一系列路由器传输，在另一台主机中结束它的历程。当分组从一个节点沿着这条路径到后继节点，该分组在沿途的每个节点经受了集中不同类型的时延。这些时延最为重要的是节点处理时延（nodal proccessing delay）、排队时延（queuing delay）、传输时延（transmission delay）和传播时延（propagation delay），这些时延总体累加起来是节点总时延。许多因特网应用，如搜索、web浏览、电子邮件、地图、即时通讯和语音，它们的性能受网络时延的影响很大。为了深入理解分组交换和计算机网络，我们必须理解这些时延的性质和重要性。</p>
</blockquote>
<blockquote>
<p>处理时延：检查分组首部和决定将该分组和决定将该分组导向何处所需要的时间是处理时延的一部分。处理时延也能够包括其他因素，如检查比特级别的差错所需要的时间，该差错出现在从上游节点向路由器A传输这些分组比特的过程中。在这种节点处理之后，路由器将该分组引向通往路由器B链路之前的队列。</p>
</blockquote>
<blockquote>
<p>排队时延：在队列中，分组在链路上等待传输时，它经受排队时延</p>
</blockquote>
<blockquote>
<p>传输时延：是路由器推出分组所需的时间。用L比特表示该分组的长度，用Rbps表示从路由器A到路由器B的链路传输速率，传输时延是L/R。</p>
</blockquote>
<blockquote>
<p>传播时延：从该链路的起点到路由器B传播所需要的的时间是传播时延。传播时延取决于该链路的物理媒体和链路距离。</p>
</blockquote>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><blockquote>
<p>考虑主机A到主机B跨越计算机网络传送一个大文件，在任何时间瞬间的<strong>瞬时吞吐量</strong>是主机B接受到该文件的速率。如果该文件F比特，主机B接受到所有F比特用去T时间，则文件传送的<strong>平均吞吐量</strong>是F/T bps</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/a42dc61302f84ed481814fe901d9d2d4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-hgTYWOGM-1638518733836)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211203150613180.png)]"></p>
<blockquote>
<p>如图a，服务器不能以快于Rs的速率通过其链路注入比特（服务器拥塞）；这台路由器也不能以快于Rc的速率转发比特（路由器拥塞）。如果Rs&lt;Rc，由该服务器注入的比特将<strong>顺畅地通过</strong>路由器流动，并以Rs到达客户；另一方面，如果Rc&lt;Rs，则该路由器将不能像接受速率那样快地转发比特。在这种情况下，比特以速率Rc离开该路由器，从而得到端到端吞吐量Rc。（如果比特继续以Rs到达路由器，继续以Rc离开路由器，该路由器中等待传输给客户的积压比特将不断增加），对于这种简单的两链路网络，吞吐量是min{Rc，Rs}</p>
<p>图b显示了一个在服务器和客户之间具有N条链路的网络，这N条链路的传输速率分别是R1，R2，..RN。传输吞吐量为min{R1，R2，..RN}，这同样仍是沿着服务器和客户之间路径的瓶颈链路的速率。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/be905d9ee4be488f8590df14ac24dc9c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YYsc87Do-1638518733837)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211203153508921.png)]"></p>
<blockquote>
<p>如图a中显示了一个服务器和一个客户，因特网的核心中的所有链路都有非常高的传输速率，即该速率比Rs和Rc要高得多。因为因特网的核心就像一个粗大的管子，所以吞吐量=min{Rs，Rc}。</p>
<p>图b，其中有10台服务器和10个客户与某计算机网络核心相连。同时发生10个下载，涉及10个客户-服务器对，在核心中有一条所有10个下载通过的链路。将这条链路R的传输速率表示为R，假定所有服务器接入链路有相同的速率Rs，所有客户接入链路有相同的速率Rc，并且核心除了速率为R的一条共同链路之外的所有链路，它们的传输速率比Rc，Rs，R大得多。如果R很大吞吐量依然是min{Rs，Rc}。如果相同量级瓶颈就可能是R了。</p>
</blockquote>
<h2 id="协议层次"><a href="#协议层次" class="headerlink" title="协议层次"></a>协议层次</h2><p>分层体系结构每层以一下方式提供服务：</p>
<p>1.在这层中执行了某些动作</p>
<p>2.使用直接下层的服务</p>
<blockquote>
<p>这种简化本身由于提供模块化具有很高价值，这使某层所提供的服务实现易于改变，只要该层对上面的层提供相同的服务，并且使用来自下面层次的相同服务，当某层的实现变化时，该系统的其余部分保持不变。</p>
<p>网络设计者以分层的方式组织协议以及实现这些协议的网络硬件和软件，一个协议层能够用软件和硬件或两者的结合来实现。注入HTTP和SMTP这样的应用层协议总是在端系统中用软件实现，运输层协议也是如此。因为物理层和数据链路层负责处理跨越特定链路的通信，它们通常在与给定链路相关联的网络接口卡中实现。网络层通常是硬件和软件实现的混合体。</p>
<p>各层的所有协议被称为协议栈。因特网的协议由5个层次组成（OSI 7层模型去掉了会话层和表示层）：物理层、链路层、网络层、运输层和应用层。</p>
<p><img src="https://img-blog.csdnimg.cn/da53bd7da4274477bafab83799aae482.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-mnQ92eoc-1638518733838)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211203160325270.png)]"></p>
</blockquote>
<h3 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h3><blockquote>
<p>应用层包括许多协议，例如HTTP（提供web文档的请求和传送）、SMTP（提供电子邮件报文的传输）和FTP（提供两个端系统之间的文件传输）。web域名到IP的转换也是借助与特定的应用层协议DNS完成的。应用层协议分布在多个端系统上，而一个端系统中的应用程序<strong>使用协议</strong>与另一个端系统中的应用程序交换信息分组。应用层的信息分组称为报文。</p>
</blockquote>
<h3 id="运输层"><a href="#运输层" class="headerlink" title="运输层"></a>运输层</h3><blockquote>
<p>因特网的运输层在应用程序端点之间传送应用层报文。在英特网中，有两种运输协议，即TCP和UDP，利用其中任何一个都能运输应用层报文。TCP（向上）向他的应用程序提供了面向连接的服务。这种服务包括了应用层报文向目的地 的 确保传递和流量控制（即发送方、接收方速率匹配）。TCP也将长报文划分为短报文，并提供拥塞控制机制，因此当网络拥塞时，源抑制其传输速率。UDP协议向它的应用程序提供无连接服务。这是一种不提供不必要服务的服务，没有可靠性，没有流量控制，也没有拥塞控制。运输层的分组称为报文段。</p>
</blockquote>
<h3 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h3><blockquote>
<p>因特网的网络层负责将称为<strong>数据报</strong>的网络层分组从一台主机移动到另一台主机。在一台源主机中的因特网运输层协议（TCP或UDP）向网络层递交运输层报文段和<strong>目的地址</strong>。<br>因特网的网络层包括著名的网际协议IP，该协议定义了在数据报中的各个字段以及端系统和路由器如何作用于这些字段。IP仅有一个，所有具有网络层的因特网组件必须运行IP。因特网的网络层也包括决定路由的路由选择协议，它根据该路由将数据报从源传输到目的地。因特网有许多路由选择协议。</p>
</blockquote>
<h3 id="链路层"><a href="#链路层" class="headerlink" title="链路层"></a>链路层</h3><blockquote>
<p>因特网的网络层通过源和目的地之间的一系列路由器路由数据报。为了将分组从一个节点移动到路径上的下一个节点，网络层必须依靠链路层的服务，特别是在每个节点，网络层将数据报下传给链路层，链路层沿着路径将数据报传递给下一个节点。在该下一个节点。链路层将数据报上传给网络层。<br>由链路层提供的服务取决于应用于该链路的特定链路层协议。例如，某些协议基于链路提供可靠传递，从<strong>传输节点</strong>跨越一条链路到<strong>接收节点</strong>。这种可靠的传递服务不同于TCP的可靠传递服务，TCP提供从一个<strong>端系统</strong>到另一个<strong>端系统</strong>的可靠交付。链路层的例子包括以太网、WIFI和电缆接入网的DOCSIS协议。因为数据报从源到目的地传送通常需要经过几条链路，一个数据报可能被沿途不同链路上的不同链路层协议处理。链路层分组称为帧。</p>
</blockquote>
<h3 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h3><blockquote>
<p>链路层的任务是将整个帧从一个网络元素移动到临近的网络元素，而物理层的任务是将该帧中的一个个比特从一个节点移动到下一个及诶单。在这层中的协议仍然是链路相关的，并且进一步与该链路的实际传输媒体相关。例如，以太网有许多物理层协议，一个是关于双绞铜线的，另一个是关于同轴电缆的，还有一个是关于光纤的，等等。</p>
</blockquote>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p><img src="https://img-blog.csdnimg.cn/0d298956e6384175a3ebad3d5457598b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<blockquote>
<p>数据从发送端系统的协议栈向下，沿着中间的链路层交换机和路由器的协议栈上上下下，然后向上到达接收端系统的协议栈。链路层交换机实现了第一层和第二层；路由器实现了第一层到第三层。这意味着因特网路由器能够实现IP协议，而链路交换机不能。<br><br>封装：在发送主机端，一个应用报文被传送给运输层。运输层收取到报文并附上附加信息（运输层首部信息），该首部将被接收端的运输层使用。应用层报文和运输层首部信息一道构成了运输层报文段。首部信息也许包括了：允许接收端运输层向上向适当的应用程序交付报文的信息；差错检测位信息，该信息判断报文中的比特是否在图中已被改变。运输层向网络层传递该报文段，网络层增加了如源和目的端系统地址等网络层首部信息，生成网络层数据报。该数据报接下来被传递给链路层，链路层增加它自己的链路层首部信息并生成链路层帧。所以我们看到，在每一层，一个分组具有两种类型的字段：首部字段和有效载荷字段。有效载荷通常是来自上一层的分组。<br><br>封装的过程可以比前面描述的更负载一个报文可能被划分为多个报文段。报文段可能被划分为多个网络层数据报，一个数据报有可能划分为多个帧。在接收端，则必须重构它们。</p>
</blockquote>
<h2 id="面对攻击的网络"><a href="#面对攻击的网络" class="headerlink" title="面对攻击的网络"></a>面对攻击的网络</h2><p>坏家伙如何攻击计算机网络？</p>
<h3 id="恶意软件"><a href="#恶意软件" class="headerlink" title="恶意软件"></a>恶意软件</h3><blockquote>
<p>恶意软件一旦感染我们的设备，就能够做各种不正当的事情，包括删除我们的文件，安装间谍软件来收集我们的隐私信息并发送给坏家伙。我们的受害主机也可能称为数以千计的类似受害设备网络中的一员，坏家伙能够使用僵尸网络展开分布式拒绝服务攻击。<br><br>目前为止的多数恶意软件都是自我复制的：一旦感染一台主机，就会从那台主机寻求进入因特网中的其他主机，从而感染新的主机。病毒需要用户交互来感染用户设备。蠕虫无需任何明显用户交互就能进入设备。比较脆弱的应用程序从因特网接收了恶意软件并运行它，生成了蠕虫。感染设备能扫描因特网，搜索其他运行相同网络应用程序的易受感染的主机，向他们发送一个蠕虫副本。</p>
</blockquote>
<h3 id="攻击服务器和网络基础设施"><a href="#攻击服务器和网络基础设施" class="headerlink" title="攻击服务器和网络基础设施"></a>攻击服务器和网络基础设施</h3><blockquote>
<p>拒绝服务攻击（DOs）使得网络、主机或其他基础设施部分不能由合法用户使用。Web服务器、电子邮件服务器、DNS服务器都能够称为Dos攻击的目标。<br>1.弱点攻击 向一台目标主机上运行的易受攻击的应用工程或操作系统发送制作精细的报文。（这需要比较了解被攻击的目标）<br>2.带宽洪泛 攻击者向目标主机发送大量的分组，分组数量之多使得目标的接入链路变得拥塞，使得合法的分组无法到达服务器。单一的攻击源可能无法产生足够大的流量来伤害该服务器。此外，如果从单一源发出所有流量的话，某上游路由器就能够检测出该攻击并阻挡下来。相比于来自单一主机的DoS攻击，DDoS攻击更难检测和防范<br>3.连接洪泛：攻击者在目标主机中创建大量的半开或全开TCP连接，导致主机停止接受合法的连接。</p>
</blockquote>
<h3 id="嗅探"><a href="#嗅探" class="headerlink" title="嗅探"></a>嗅探</h3><blockquote>
<p>嗅探WIFI或蜂窝网络：在无线传输设备的附近放置一台分组嗅探器，就能得到传输的每个分组的副本。<br>嗅探有线环境：LAN中，分组嗅探器能够获得经该LAN发送的所有分组。</p>
</blockquote>
<h3 id="伪装信任的人"><a href="#伪装信任的人" class="headerlink" title="伪装信任的人"></a>伪装信任的人</h3><blockquote>
<p>生成具有任意源地址、分组内容和目的地址的分组，然后将这个伪装的分组传入因特网，因特网将忠实的将该分组转发到目的地，这一切都极为容易。接收方将该虚假地址作为真实的地址，进而执行该分组中的命令。这种方式称为<strong>IP哄骗</strong>，值是冒充另一个用户许多方式中的一种。</p>
</blockquote>
<h1 id="应用层-1"><a href="#应用层-1" class="headerlink" title="应用层"></a>应用层</h1><p>我们考察集中网络应用程序，包括Web、电子邮件、DNS、对等文件分发、和视频流。然后将涉及开发运行在TCP和UDP上的网络应用程序。</p>
<h2 id="应用层协议原理"><a href="#应用层协议原理" class="headerlink" title="应用层协议原理"></a>应用层协议原理</h2><h3 id="网络应用程序体系结构"><a href="#网络应用程序体系结构" class="headerlink" title="网络应用程序体系结构"></a>网络应用程序体系结构</h3><blockquote>
<p> 两种主流体系结构：客户-服务器体系结构 和 对等体系结构</p>
</blockquote>
<blockquote>
<p>在CS体系结构中，有一个总是打开的主机称为服务器，它服务于来自浏览器的请求。CS体系结构，客户相互之间不进行直接通信。CS体系结构著名的应用程序包括Web、FTP、Telnet和电子邮件。在CS中常常配备大量主机的数据中心被用于创建服务器。如百度、谷歌都有它们的数据中心。</p>
</blockquote>
<blockquote>
<p>在一个P2P体系结构中，对位于数据中心的专用服务器有最小的依赖。相反，应用程序在间断连接的主机对之间使用直接通信，这些主机被称为对等方。许多现在流行的、流量密集型应用都是P2P的。这些应用包括迅雷、网络电话、视频会议。P2P体系最引人入胜的特性之一是它的自扩展性。例如尽管每个对等方都由于请求文件产生工作负载，但每个对等方通过向其他对等方分发文件为系统增加服务能力。</p>
</blockquote>
<blockquote>
<p>QQ聊天工具是p2p和cs混合使用的。p2p(NAT打洞成功)：你的消息直接发给你的聊天对象，同时也发一份到服务器做备份。cs(NAT打洞不成功)：你的消息发给服务器转发</p>
</blockquote>
<h3 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h3><blockquote>
<p>在两个不同端系统上的进程，通过跨越计算机网络交换报文而相互通信。发送进程生成并向网络中发送报文，接收进程接收这些报文并可能通过回送报文进行响应。&gt;<br><br>发起通信的进程被标识为客户，在会话开始时等待联系的进程是服务器。</p>
<p>进程通过一个称为套接字的软件接口向网络发送报文和从网络接收报文（可以将套接字类比成应用层和运输层之间的门）。套接字是一台主机内应用层和运输层之间的接口。应用程序开发者对运输层的控制仅限于：选择运输层协议、也许能设置几个运输层参数。<br><br>使用套接字编程需要标识接收进程，主机地址（IP地址）和目的主机接收进程标识符（端口号）。比如Web服务器默认端口80，FTP为21、SMTP为25.</p>
</blockquote>
<h3 id="运输服务"><a href="#运输服务" class="headerlink" title="运输服务"></a>运输服务</h3><p>  一个运输层协议能够为调用它的应用程序提供什么服务？</p>
<p><strong>可靠数据传输</strong></p>
<p>分组在计算机网络中可能丢失。当一个运输协议提供可靠数据传输，发送进程只要将其数据传递进套接字，就可以完全相信该数据将能无差错的到达接收进程。当一个运输层协议不提供可靠数据传输时，由发送进程发送的有些数据可能到达不了接收进程。这可能被<strong>容忍丢失的应用</strong>所接收，比如交谈式音频、视频。</p>
<p><strong>吞吐量</strong></p>
<p>运输层协议能够以某种特定的速率提供确保的可用吞吐量。使用这种服务，该应用程序能够请求r比特/秒的确保吞吐量，并且该运输协议能确保可用吞吐量至少为r。具有吞吐量要求的应用被称为<strong>带宽敏感的应用</strong>。许多当前多媒体应用是这样 的。<strong>弹性应用</strong> 比如电子邮件、文件传输。</p>
<p><strong>定时</strong></p>
<p>这种服务将对交互式实时应用程序有吸引力，为了有效性而要求数据交付有严格的时间限制。</p>
<p><strong>安全性</strong></p>
<p>运输协议能够加密由发送进程传输的所有数据，在接收主机中，运输层协议能够将数据交付给接收进程之前解密这些数据。</p>
<h3 id="因特网的运输服务"><a href="#因特网的运输服务" class="headerlink" title="因特网的运输服务"></a>因特网的运输服务</h3><p><strong>TCP</strong></p>
<p>TCP模型包括面向连接服务和可靠数据传输服务。</p>
<blockquote>
<p>面向连接：TCP让客户和服务器互相交换运输层控制信息。这个所谓的握手过程提醒客户和服务器，让它们为大量分组的到来做好准备。在握手阶段后，一个TCP连接就在两个进程的套接字之间建立了。这条连接是全双工的，即连接双方的进程可在此连接上同时进行报文收发。当应用程序结束报文发送时，必须拆除该连接。（运输层章讨论具体实现）</p>
</blockquote>
<blockquote>
<p>可靠数据传输：通信进程能够依靠TCP无差错、按适当顺序交付所有发送的数据。</p>
</blockquote>
<blockquote>
<p>TCP协议还有拥塞控制机制，这种服务不一定能为通信进程带来好处，但能为因特网整体带来好处。当发送方和接收方之间的网络拥塞时，TCP的拥塞控制机制会一直发送进程，也视图限制每个TCP连接，使它们达到公平共享网络带宽的目的。</p>
</blockquote>
<blockquote>
<p>TCP安全：安全套接字层（SSL）是加强后的TCP，在TCP基础上提供进程到进程的安全性服务，包括加密、数据完整性和端点鉴别，这种强化是在应用层实现的。SSL有它自己的套接字，发送端先通过SSL套接字加密，然后传送给TCP套接字。接收端TCP套接字传送给SSL套接字解密。</p>
</blockquote>
<p><strong>UDP</strong></p>
<blockquote>
<p>UDP是一种不提供不必要服务的轻量级运输协议，它仅提供最小服务。UDP是无连接的，没有握手过程。UDP是一种不可靠数据传送服务。不保证报文到达接收进程，到达的报文也可能是乱序的。</p>
</blockquote>
<p><strong>因特网提供和不能提供的服务</strong></p>
<blockquote>
<p>TCP提供了可靠数据传输，SSL提供安全服务。因特网运输协议没有提供吞吐量和定时保证服务。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/5d3403343d7146e68c23bd5334cbd591.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="应用层协议"><a href="#应用层协议" class="headerlink" title="应用层协议"></a>应用层协议</h3><blockquote>
<p>应用层协议定义了：</p>
<p>交换的报文类型，例如请求报文和响应报文。</p>
<p>各种报文类型的语法，如报文中的各个字段以及这些字段是如何描述的。</p>
<p>字段的语义，即这些字段中的信息的含义</p>
<p>确定一个进程何时以及如何发送报文，对报文进行响应的规则。</p>
</blockquote>
<blockquote>
<p>Web的应用层协议HTTP，电子邮件应用层协议SMTP。文件传输FTP、目录服务DNS</p>
</blockquote>
<h2 id="Web和HTTP"><a href="#Web和HTTP" class="headerlink" title="Web和HTTP"></a>Web和HTTP</h2><h3 id="HTTP概述"><a href="#HTTP概述" class="headerlink" title="HTTP概述"></a>HTTP概述</h3><blockquote>
<p>Web的应用层协议是超文本传输协议（HyperText Transfer Protocol ，HTTP）。</p>
</blockquote>
<blockquote>
<p>HTTP使用TCP作为它的支撑运输协议。HTTP客户首先发起一个与服务器的TCP连接。一旦连接建立，该浏览器和服务器进程就可以通过套接字接口访问TCP。客户向他的套接字接口发送HTTP请求报文并从他的套接字接口接收HTTP响应报文。一旦客户向他的套接字接口发送一个请求报文，TCP为HTTP提供可靠数据传输，一个客户进程发出的每个HTTP请求都能完整的到达服务器。</p>
<p>HTTP是一个无状态协议，即不保存关于客户的任何信息。</p>
<p><img src="https://img-blog.csdnimg.cn/20b894e490984c21bc1d4b8801fe6e05.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-kgzKIQ7N-1638626497231)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211204101748111.png)]"></p>
</blockquote>
<h3 id="非持续连接和持续连接"><a href="#非持续连接和持续连接" class="headerlink" title="非持续连接和持续连接"></a>非持续连接和持续连接</h3><blockquote>
<p>客户发出一系列请求。（比如打开一个web页面请求多个图片）</p>
<p>每个请求是经一个单独的TCP发送是<strong>非持续连接</strong></p>
<p>所有的请求机响应经相同的TCP连接发送是<strong>持续连接</strong></p>
<p>HTTP在默认情况下使用持续连接，客户和服务器也能配置成非持续连接</p>
</blockquote>
<blockquote>
<p>浏览器和服务器之间建立TCP连接，三次握手过程：客户向服务器发送一个小的TCP报文段（一次），服务器用一个小的TCP报文段做出确认和响应（两次），最后，客户向服务器返回确认（三次）。客户结合第三次握手向该TCP连接发送HTTP请求报文。一旦该请求到达服务器，服务器在该连接上发送HTML文件。该请求响应用去另一个RTT。所以响应时间是两个RTT</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/713193b2437341308b253c835362540d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-BI3BOCmq-1638626497232)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211204105931038.png)]"></p>
<p>非持续连接:</p>
<blockquote>
<p>在浏览器输入URL，向服务器请求一个有一个HTML基本文件和10个JPEG图片的Web页面。</p>
<p>1.HTTP客户进程在端口号80发起一个到服务器的TCP连接</p>
<p>2.HTTP客户经它的套接字向服务器发送一个HTTP请求报文。</p>
<p>3.HTTP服务器进程经它的套接字接收该请求报文，找出该web页面，在一个HTTP响应报文中封装对象，并通过其套接字向客户发送响应报文。</p>
<p>4.HTTP服务器进程通知TCP断开连接（客户完整接收报文后实际断开）</p>
<p>5.HTTP客户接收响应报文，TCP连接关闭。客户得到HTML文件，和10个对JPRG文件的引用。</p>
<p>6。对10个JPEG文件重复前面步骤。</p>
<p>在非持续连接中，产生了11个TCP连接。用户能够配置浏览器连接的并行度（10个JPEG并行连接）。</p>
</blockquote>
<blockquote>
<p>往返时间RTT（Round-Trip Time，RTT）：指一个短分组从客户到服务器然后再返回客户所花费的时间。RTT包括分组<strong>传播时延</strong>、分组在中间路由器和交换机上的<strong>排队时延</strong>和分组<strong>处理时延</strong>（这些时延之前讨论过，可能<strong>传输时延</strong>忽略了）</p>
</blockquote>
<p>持续连接</p>
<blockquote>
<p>非持续连接缺点：必须为每个请求维护一个连接，给web服务器带来严重负担。第二，每个连接都有两个RTT时延</p>
<p>一般来说，如果一条连接经过一段时间间隔仍未被使用，断开连接。</p>
</blockquote>
<h3 id="HTTP报文格式"><a href="#HTTP报文格式" class="headerlink" title="HTTP报文格式"></a>HTTP报文格式</h3><p><strong>request</strong></p>
<p><img src="https://img-blog.csdnimg.cn/973e74ffc7614454a452aff8cfdb26b4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-rTJNItY5-1638626497233)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211204111849225.png)]"></p>
<p><img src="https://img-blog.csdnimg.cn/f007e1620dba40bcbd518d43d9305236.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-pma7r6yk-1638626497235)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211204124512286.png)]"></p>
<blockquote>
<p>HTTP请求报文的第一行叫做请求行（request line，或叫请求头）：方法字段、URL字段、HTTP版本字段</p>
<p>方法字段包括GET/POST/HEAD/PUT/DELETE（比较常用的就get 和 post）。</p>
<p>当用户提交表单时，HTTP客户常常使用POST方法。如果使用get方法表单，将表单信息添加到请求头URL后面。HEAD方法类似GET方法，当服务器收到一个使用HEAD方法的请求时，将会用一个HTTP报文响应，但不返回请求对象。PUT方法允许用户上传对象到指定的Web服务器上指定的路径。DELETE允许用户或者引用程序删除Web服务器上的对象。</p>
</blockquote>
<blockquote>
<p>首部行（或叫消息头）：下面仅仅是众多首部上中的几个</p>
<p>Host：指明对象所在的主机，这个信息是Web代理高速缓存所要求的（后面将会介绍）</p>
<p>Connection：keep-alive 高速浏览器使用持续连接。如果是close，就是不要使用持续连接，在发送完被请求对象后就关闭连接。</p>
<p>User-agent：向服务器发送请求的浏览器的类型，服务器可以对不同类型的浏览器发送相同对象的不同版本</p>
<p>Accept：表示浏览器希望（能够）接收的数据类型，对应content-type。浏览器响应过来的数据类型。</p>
<p>Accept-language：zh-CN得到该对象中文版本</p>
<p>Accept-Encoding：浏览器支持的内容编码格式（压缩格式）列表，服务器在接收请求时，挑选一种用来对响应信息进行编码，并通过Content-Encoding来告诉浏览器服务器选定的编码格式。</p>
<p>首部行最后有一个空行，表示首部行结束。</p>
</blockquote>
<blockquote>
<p>实体体，使用get请求时该实体体为空，使用post方法时才使用该实体体。</p>
</blockquote>
<p><strong>Response</strong></p>
<p><img src="https://img-blog.csdnimg.cn/44f6f2a85d624f9fba1da614202b0ddf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-TawHUaZ5-1638626497239)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211204125302940.png)]"></p>
<blockquote>
<p>状态行（status line）：</p>
<p>协议版本字段、状态码、相应状态信息</p>
<p>常见的状态码：</p>
<p>1××：告知请求的处理进度和情况。</p>
<p>200 OK：请求成功，信息在返回的响应报文中</p>
<p>301 Moved Permanently：请求的对象已经被永久转移了，新的URL定义在响应报文中的Location首部行中。客户端软件将自动获取新的URL</p>
<p>400 Bad Request：一般是客户端错误，比如提交数据字段类型和后台的实体类不一致 </p>
<p>404 NOT FOUND：被请求的文档不在服务器上</p>
<p>505 HTTP Version NOT Supported：服务器不支持请求报文使用的HTTP协议版本</p>
</blockquote>
<blockquote>
<p>首部行（header line，又称响应头）</p>
<p>Connection：keep-alive 表示持续连接，close表示发送报文后就断开连接。</p>
<p>Date：服务器产生并发送该响应报文的日期和时间。</p>
<p>Server：指示发送报文服务器类型</p>
<p>Last-Modified：对象创建或最后修改的日期和时间。对既可能在本地客户也可能在网络缓存服务器上的对象缓存来说非常重要（随后讨论缓存服务器）</p>
<p>Content-Encoding：对应请求的Accept-Encoding，一般有gzip和deflate，浏览器再拿到响应正文后，根据编码格式进行解压，服务器也可以返回未压缩的正文，但这种情况不允许返回Content-Encoding</p>
<p>Content-Type：指示实体体对象中的对象类型</p>
<p>ser-cookie与cookie有关（马上提到）</p>
</blockquote>
<blockquote>
<p>实体体（entity body）</p>
</blockquote>
<p><strong>使用telnet查看真实的报文！</strong>（需要在控制面板、启动或关闭windows功能中开启telnet功能，telnet）</p>
<p>telnet <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> 80</p>
<p>然后在telnet框中输入（我测试的时候不显示输入）</p>
<p>GET / HTTP/1.1</p>
<p>Host:<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> (然后回车两次)</p>
<p><img src="https://img-blog.csdnimg.cn/404e48a094a84d9fa268f2b71d085bb2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-NrCrj8oB-1638626497244)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211204164717065.png)]"></p>
<h3 id="cookie-amp-session"><a href="#cookie-amp-session" class="headerlink" title="cookie &amp; session"></a>cookie &amp; session</h3><blockquote>
<p>cookie技术有四个组件：</p>
<p>1.在HTTP响应报文中的cookie首部行</p>
<p>2.在HTTP请求报文中的cookie首部行</p>
<p>3.用户端系统cookie文件</p>
<p>4.位于web站点的后端数据库</p>
</blockquote>
<blockquote>
<p>Cookie的主要构成如下：（可以对照上面telnet 百度真实报文）</p>
</blockquote>
<blockquote>
<p>name:一个唯一确定的cookie名称。通常来讲cookie的名称是不区分大小写的。</p>
<p>value:存储在cookie中的字符串值。最好为cookie的name和value进行url编码</p>
<p>domain:cookie对于哪个域是有效的。所有向该域发送的请求中都会包含这个cookie信息。这个值可以包含子域(如：yq.aliyun.com)，也可以不包含它(如：.aliyun.com，则对于aliyun.com的所有子域都有效).</p>
<p>path: 表示这个cookie影响到的路径，浏览器跟会根据这项配置，像指定域中匹配的路径发送cookie。</p>
<p>expires:失效时间，表示cookie何时应该被删除的时间戳(也就是，何时应该停止向服务器发送这个cookie)。如果不设置这个时间戳，浏览器会在页面关闭时即将删除所有cookie；不过也可以自己设置删除时间。这个值是GMT时间格式，如果客户端和服务器端时间不一致，使用expires就会存在偏差。</p>
<p>max-age: 与expires作用相同，用来告诉浏览器此cookie多久过期（单位是秒），而不是一个固定的时间点。正常情况下，max-age的优先级高于expires。</p>
<p>HttpOnly: 告知浏览器不允许通过脚本document.cookie去更改这个值，同样这个值在document.cookie中也不可见。但在http请求张仍然会携带这个cookie。注意这个值虽然在脚本中不可获取，但仍然在浏览器安装目录中以文件形式存在。这项设置通常在服务器端设置。</p>
<p>secure: 安全标志，指定后，只有在使用SSL连接（即HTTPS=SSL+HTTP）时候才能发送到服务器，如果是http连接则不会传递该信息。就算设置了secure 属性也并不代表他人不能看到你机器本地保存的 cookie 信息，所以不要把重要信息放cookie。服务器端设置该属性。</p>
</blockquote>
<p><strong>会话</strong>：可以理解为用户打开浏览器，访问该web服务器的多个资源，然后关闭浏览器，这中间的一系列过程称之为一个会话。</p>
<p>Cookie机制：cookie机制采用的是在客户端保持 HTTP 状态信息的方案。当浏览器访问WEB服务器的某个资源时，WEB服务器会在HTTP响应头中添加一个键值对传送给浏览器，再由浏览器将该cookie放到客户端磁盘的一个文件中，该文件可理解为cookie域(键值对的集合)，往后每次访问某个网站时，都会在请求头中带着这个网站的所有cookie值。（至于怎么区分不同网站的cookie的，很简单，每个网站都给他一个唯一标识比如网址等，每次打开某网址时，就查询该网站下的所有cookie值即可。）每一个cookie都有一个name和一个value，且name是唯一的。相同名字时，后者会覆盖掉前者（类似哈希表的key的效果）。一个WEB浏览器也可以存储多个WEB站点提供的Cookie。浏览器一般只允许存放300个Cookie，每个站点最多存放20个Cookie，每个Cookie的大小限制为4KB。</p>
<p><strong>默认情况下它是一个会话级别的cookie,存储在浏览器的内存中，用户退出浏览器之后被删除。</strong></p>
<p><strong>若希望浏览器将该cookie存储在磁盘上，则需要设置该cookie的生命周期setMaxAge，并给出一个以秒为单位的时间。将最大时效设为0则是命令浏览器删除该cookie。</strong></p>
<p><strong>作用域：cookie的domain和path属性定义了cookie的作用范围，即访问哪些网站或url时，会自动的带着该cookie。domain即域名，path默认是(*所有路径)，即域名后面的的路径。大部分情况下我们都是使用默认的设置即可。</strong></p>
<p><strong>原理：当一个浏览器访问某web服务器时，web服务器会调用HttpServletResponse的addCookie()方法，在响应头中添加一个名叫Set-Cookie的响应字段用于将Cookie返回给浏览器，当浏览器第二次访问该web服务器时会自动的将该cookie回传给服务器，来实现用户状态跟踪。</strong></p>
<p><strong>常用API：</strong></p>
<blockquote>
<p><strong>javax.servlet.http.Cookie类</strong>来封装Cookie信息，它包含有生成Cookie信息和提取Cookie信息的各个属性的方法。</p>
<p>1）public Cookie(String name,String value)</p>
<p>2）setMaxAge(int longTime)与getMaxAge方法：设置和获取cookie的最大有效时长。setMaxAge(0)<br>表示删除磁盘上的某个cookie。</p>
<p>注意：</p>
<p>cookie没有提供修改方法，当name一样时，覆盖原来的就算是更新了。</p>
<p>删除也是，setMaxAge(0),当name一样时，原来的会被覆盖掉，新建的没有生命周期，也会被立马删除。</p>
<p>3）setPath与getPath方法 :设置或读取Cookie的作用范围。</p>
<p>4）HttpServletResponse接口中定义了一个addCookie(Cookie<br>cookie)方法，它用于在发送给浏览器的HTTP响应消息中增加一个Set-Cookie响应头字段。</p>
<p>5）HttpServletRequest接口中定义了一个getCookies方法，它用于从HTTP请求消息的Cookie请求头字段中读取所有的Cookie项。</p>
<p>6）getName方法 :获取到cookie的name。</p>
<p>7）setValue(String value)与getValue方法：设置和获取cookie的value。</p>
</blockquote>
<p><strong>Cookie应用</strong>：①判断用户是否登录过网站； ②用来记录购物车或者记录用户使用偏好来制定推送；</p>
<p><strong>Cookie中存储中文问题：</strong> cookie中存储中文会出现中文乱码，需要对value进行额外的编码</p>
<blockquote>
<p>1、base64编码</p>
<p>存储：Base64.getEncoder().encodeToString(content.getBytes(“utf-8”));</p>
<p>读取：new String(Base64.getDecoder().decode(cookie.getValue()),”utf-8”)</p>
<p>2、URLEncoder类</p>
<p>存储：Cookie cookie = new Cookie(“userName”, URLEncoder.encode(“你好世界”,<br>“UTF-8”));</p>
<p>读取：URLDecoder.decode(cookie.getValue(), “UTF-8”)</p>
</blockquote>
<p>Session机制：session机制采用的是在服务器端保持 HTTP 状态信息的方案。为了加速session的读取和存储，web服务器中会开辟一块内存用来保存服务器端所有的session，每个session都会有一个唯一标识sessionid，根据客户端传过来的jsessionid(cookie中)，找到对应的服务器端的session。为了防止服务器端的session过多导致内存溢出，web服务器默认会给每个session设置一个有效期,      （30分钟）若有效期内客户端没有访问过该session，服务器就认为该客户端已离线并删除该session。</p>
<blockquote>
<p>1）cookie中</p>
<p>通过一个特殊的cookie，name为JSESSIONID，value为服务器端某个<br>session的ID，默认的方式。但是当浏览器禁用cookie后session就会失效。</p>
<p>2）url重写</p>
<p>当浏览器Cookie被禁时用。</p>
<p>就是把session的id附加在URL路径的后面。附加的方式也有两种，一种是作为URL路径的附加信息，另一种是作为查询字符串附加在URL后面。</p>
<p>做法：</p>
<p>1、response.encodeURL(String url)用于对表单action和超链接的url地址进行重写</p>
<p>2、response.encodeRedirectURL(String url) 用于对sendRedirect方法后的url地址进行重写。</p>
<p>我们可以对网页中的链接稍作修改，解决以上问题：    修改前：<br> &lt;a href=”maillogin.jsp”&gt;    修改后：<br> &lt;a href=“&lt;%=response.encodeURL(“maillogin.jsp“)%&gt;“&gt; </p>
<p>这两个方法很智能，若浏览器禁用了cookie，就默认会进行url重写(url中带上sessionid)，当用户浏览器没有禁用cookie时，就不在URL后附加sessionid。</p>
</blockquote>
<p><strong>原理：</strong></p>
<p>当用户发送一个请求到服务器端时，服务器会先检查请求中是否含有sessionid(存在cookie中或者在url中)，</p>
<p><strong>》》如果不存在sessionid(说明是第一次请求)，就会为该请求用户创建一个session对象，并将该session对象的sessionid（放到响应头的set-cookie中，格式set-cookie:sessionid,下次再请求时cookie中就会有一个name为jsessionid的cookie，value就是sessionid）响应给客户端。<br>》》如果存在sessionid，就会在服务器端查找是否有该sessionid对应的session，如果有就使用，没有就创建一个。</strong></p>
<p>所以说，服务器端的session和客户端的cookie是息息相关的，若是没有了cookie，又不做其他处理的话，服务器端的session也没了。</p>
<p><strong>session应用场景</strong>：①登录验证信息</p>
<p><strong>常用API：</strong></p>
<blockquote>
<p>1.getId()方法：得到sessionid。</p>
<p>2.invalidate()方法：让session立刻失效。</p>
<p>3.getAttribute(String key)：根据key获取该session中的value。</p>
<p>4.setAttribute(String key,Object value)：往session中存放key-value。</p>
<p>5.removeAttribute(Stringkey)：根据key删除session中的key-value。</p>
<p>6.getServletContext()：得到ServletContext。</p>
<p>7.setMaxInactiveInterval(long timeout)/getMaxInactiveInterval：设置/获取session的最大有效时间。</p>
<p>8.getCreationTime方法：获取session的创建的时间。</p>
<p>9.getLastAccessedTime方法：获取session最后一次访问的时间。</p>
<p>10.getSession()：从HttpServletRequest中获取session。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">session.setMaxInactiveInterval(<span class="number">2</span>*<span class="number">3600</span>);<span class="comment">//session 保存俩小时</span></span><br><span class="line"> </span><br><span class="line">Cookie cookie=<span class="keyword">new</span> Cookie(<span class="string">&quot;JSESSIONID&quot;</span>,session.getId());<span class="comment">//sessionid放到cookie中</span></span><br><span class="line"> </span><br><span class="line">cookie.setMaxAge(<span class="number">2</span>*<span class="number">3600</span>);<span class="comment">//客户端的cookie也保存俩小时</span></span><br><span class="line"> </span><br><span class="line">cookie.setPath(<span class="string">&quot;/&quot;</span>);<span class="comment">//cookie作用范围设为整个项目</span></span><br><span class="line"> </span><br><span class="line">response.addCookie(cookie);<span class="comment">//给浏览器返回该Cookie</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>常见问题</strong></p>
<p>1、关闭浏览器后cookie会消失吗？</p>
<p>cookie默认是存在于浏览器内存中的，若此时cookie没有持久化，浏览关闭后cookie会消失；若此时cookie进行了持久化，浏览器关闭后cookie不会消失。</p>
<p>2、关闭浏览器后session会消失吗？</p>
<p>1）从服务器端考虑</p>
<p>我们知道session是存在于服务器端内存中的，和浏览器没有关系，所以浏览器关闭后，服务器端的session不会消失。（除非服务器重启或session达到了过期时间）</p>
<p>2）从浏览器端考虑</p>
<p>我们知道浏览器是根据cookie中的jesessionid值来唯一找到服务器端的session的，此时若cookie没有持久化，浏览器关闭后cookie也跟着消失。所以当用户再次打开浏览器后，由于没有了cookie中的jesessionid，自然也无法唯一找到服务器端的session，对用户来说，确实是浏览器关闭后再次打开就无法找到上次的会话了，误以为是关闭浏览器后服务器端的session也跟着消失，其实还在。</p>
<h3 id="web缓存"><a href="#web缓存" class="headerlink" title="web缓存"></a>web缓存</h3><blockquote>
<p>web缓存器又叫代理服务器（proxy server），它是能够代表初始web服务器来满足HTTP请求的网络实体。web缓存器有自己的磁盘存储空间，并在存储空间中保存最近请求过的对象的副本。可以配置用户的浏览器，使得用户的所有HTTP请求首先指向代理服务器。<br><br>浏览器创建一个到代理服务器的TCP连接，并向代理服务器中的对象发送一个HTTP请求。<br><br>代理服务器进行检查，看看本地是否存储了该对象副本。如果有，代理服务器就向客户浏览器用HTTP响应报文返回该对象。<br><br>如果代理服务器中没有该对象，它就打开一个与该对象的初始服务器的TCP连接。代理服务器则在到初始服务器的TCP连接上发送一个对该对象的HTTP请求。在收到该请求后，初始服务器向该代理服务器发送具有该对象的HTTP响应。<br><br>当web缓存器接收到该对象时，它在本地存储空间存储一份副本，并向客户的浏览器用HTTP响应报文发送该副本（通过现有的客户浏览器和代理服务器之间的TCP连接）</p>
</blockquote>
<p><strong>正向代理和反向代理</strong></p>
<p>正向代理：目标服务器不知道客户端信息<br><img src="https://img-blog.csdnimg.cn/20210523210225120.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>保证客户端信息安全<br>缓存<br>访问某些访问不到的资源</p>
</blockquote>
<p>反向代理：客户端不知道目的服务器信息（一般架设在服务器端）<br><img src="https://img-blog.csdnimg.cn/20210523210609418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dBX01D,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20210523210601481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1dBX01D,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<blockquote>
<ol>
<li>保护内网安全 </li>
<li>负载均衡 </li>
<li>缓存，减少服务器的压力 </li>
</ol>
</blockquote>
<p>  <strong>Nginx作为反向代理服务器，安装在目的主机端，主要用于转发客户机请求，后台有多个http服务器提供服务，nginx的功能就是把请求转发给后台的服务器，决定哪台目标主机来处理当前请求。</strong></p>
<h3 id="条件GET方法"><a href="#条件GET方法" class="headerlink" title="条件GET方法"></a>条件GET方法</h3><blockquote>
<p>首先，一个代理服务器代表一个请求浏览器，向web服务器发送一个请求报文<br><img src="https://img-blog.csdnimg.cn/782fcf236b734dd1a5ee4280c6e92700.png" alt="在这里插入图片描述"><br>其次该web服务器向代理服务器发送具有被请求对象的响应报文。该代理服务器在将对象转发到请求的浏览器的同时，也在本地缓存了该对象。<img src="https://img-blog.csdnimg.cn/dc8cbfdab6b84b74938b8d8b2adf65bf.png" alt="在这里插入图片描述"><br>一个星期后，浏览器再次请求该对象，代理服务器向web服务器发送一个条件GET执行最新检查。<br><img src="https://img-blog.csdnimg.cn/cf631610438c4ab3b9d1649b73e02501.png" alt="在这里插入图片描述"><br>假设对象内容并未发生变化。web服务器向代理服务器发送304 NOT modified表示内容没有改变，直接返回之前缓存的对象给浏览器。<br><img src="https://img-blog.csdnimg.cn/7f3df02a94bb46ff80637483b31b0c41.png" alt="在这里插入图片描述"></p>
</blockquote>
<h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><p><img src="https://img-blog.csdnimg.cn/6ecfd3711cf44b3599c2a9e994bbc5f9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<blockquote>
<p>电子邮件系统的3个组成部分：用户代理，邮件服务器，简单邮件传输协议（Simple Mail Transfer Protocol，SMTP）<br><br>邮件服务器形成了电子邮件体系结构的核心。每个接收方在其中的某个邮件服务器上有一个邮箱（mailbox），邮箱管理和维护着这些发送给他的报文。一个典型的邮件发送过程是：从发送方的用户代理开始，传输到发送方的邮件服务器，再传输到接收方的邮件服务器，然后在这里被分发到接收方的邮箱中。当接收方要在它的邮箱中读取该报文时，包含它邮箱的邮件服务器通过用户名和口令鉴别它。发送方服务器以电子邮件的形式通知发送方发送的结果。<br>SMTP是一个推的协议，所以从发件人用户代理到发送方邮件服务器和发送方邮件服务器到接收方邮件服务器都是SMTP协议完成，但是接收方要运行用户代理，拉取他的邮箱邮件！需要能进行拉操作的协议！目前流行的就是第三版的邮局协议（POP3）、因特网邮件访问协议（IMAP）</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/c74e0b43756547ec89a6fa6ba93166e9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><strong>telnet 163给qq邮箱发送邮件！（SMTP）</strong></p>
<p>163需要获取授权码<br><img src="https://img-blog.csdnimg.cn/6b3e7b961c5742319229c51fd40fb149.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>这里两个都开启<br><img src="https://img-blog.csdnimg.cn/8838edbb3a1245019eed93aa932ffac4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>cmd 中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet smtp<span class="number">.163</span>.com <span class="number">25</span>  <span class="comment">//建立与发送方服务器TCP连接</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">220</span> <span class="number">163.</span>com Anti-<span class="function">spam GT <span class="keyword">for</span> Coremail <span class="title">System</span> <span class="params">(163com[<span class="number">20141201</span>])</span></span></span><br><span class="line"><span class="function">HELO 163.com</span></span><br><span class="line"><span class="function">250 OK</span></span><br><span class="line"><span class="function">AUTH LOGIN</span></span><br><span class="line"><span class="function">334 dXNlcm5hbWU6</span></span><br><span class="line"><span class="function">eXVleWFuNDMzMDE1QDE2My5jb20</span>= <span class="comment">//账户base64加密</span></span><br><span class="line"><span class="number">334</span> UGFzc3dvcmQ6</span><br><span class="line">S01LV0ZQSVNBT05GTEdDTA==  <span class="comment">//授权码base64加密</span></span><br><span class="line"><span class="number">235</span> Authentication successful</span><br><span class="line"><span class="comment">//如果是qq邮箱发送需要开启tls加密    starttls</span></span><br><span class="line">mail from: &lt;yueyan433015@<span class="number">163.</span>com&gt;</span><br><span class="line"><span class="number">250</span> Mail OK</span><br><span class="line">cpt to:&lt;<span class="number">1165273203</span><span class="meta">@qq</span>.com&gt; <span class="comment">//可以有多个地址</span></span><br><span class="line"><span class="number">250</span> Mail OK</span><br><span class="line">data</span><br><span class="line"><span class="number">354</span> End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span><br><span class="line">from:&lt;yueyan433015@<span class="number">163.</span>com&gt;</span><br><span class="line">to:&lt;<span class="number">1165273203</span><span class="meta">@qq</span>.com&gt;  </span><br><span class="line">SUBJECT:hello liuxuan  <span class="comment">//标题</span></span><br><span class="line"><span class="comment">//这里要空一行，下面是正文！</span></span><br><span class="line">hello liuxuan!  </span><br><span class="line">best wishes</span><br><span class="line">from yanyue</span><br><span class="line">.</span><br><span class="line"><span class="number">250</span> Mail OK queued as smtp7,C8CowAAnM8Q5o6xhvpY4Iw--.38039S2 <span class="number">1638704179</span> </span><br></pre></td></tr></table></figure>

<p><strong>SMTP要求每个报文采取7比特ASCII格式。如果某报文包含非7比特ASCII字符或二进制数据，则该报文必须按照7比特ASCII码进行编码。</strong></p>
<p>上面telnet中，以下部分为完整报文。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from:&lt;yueyan433015@<span class="number">163.</span>com&gt;</span><br><span class="line">to:&lt;<span class="number">1165273203</span><span class="meta">@qq</span>.com&gt;  </span><br><span class="line">SUBJECT:hello liuxuan  <span class="comment">//标题</span></span><br><span class="line"><span class="comment">//这里要空一行，下面是正文！</span></span><br><span class="line">hello liuxuan!  </span><br><span class="line">best wishes</span><br><span class="line">from yanyue</span><br></pre></td></tr></table></figure>

<p><strong>POP3</strong></p>
<blockquote>
<p>接收方当用户代理打开了一个到邮件服务器端口110上的TCP连接后，POP3就开始工作。随着建立TCP连接，POP按照三个阶段工作：<br>1.特许：用户代理发送用户名和口令鉴别用户<br>2.事务处理：用户代理取报文，此阶段可以对报文做删除标记，取消报文删除标记。<br>3.更新：quit命令后，结束会话，服务器删除哪些被标记为删除的报文。<br>用户代理发出一些命令，回答可能有两种：<br>+OK：被服务器用来只是前面的命令是正常的<br>-ERR：被服务器用来指示前面的命令出现了某些差错</p>
</blockquote>
<p>cmd</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet pop<span class="number">.163</span>.com <span class="number">110</span>     </span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">+<span class="function">OK Welcome to coremail Mail Pop3 <span class="title">Server</span> <span class="params">(163coms[10774b260cc7a37d26d71b52404dcf5cs])</span>       <span class="comment">//telnet登录110端口</span></span></span><br><span class="line"><span class="function">user yueyan433015@163.com          <span class="comment">// 不需要base64编码</span></span></span><br><span class="line"><span class="function">+OK core mail</span></span><br><span class="line"><span class="function">pass KGWDXXXXQAFJK         <span class="comment">// 授权码！不是密码  不需要base64编码（我的测试好像一次之后就登不上了）</span></span></span><br><span class="line"><span class="function">+OK 1 <span class="title">message</span><span class="params">(s)</span> [71211 <span class="title">byte</span><span class="params">(s)</span>] </span></span><br><span class="line"><span class="function">STAT                        <span class="comment">//查看邮箱状态 </span></span></span><br><span class="line"><span class="function">+OK 1 71211</span></span><br><span class="line"><span class="function">LIST                  <span class="comment">// 邮件列表                                 </span></span></span><br><span class="line"><span class="function">+OK 1 71211</span></span><br><span class="line"><span class="function">1 71211</span></span><br><span class="line"><span class="function">.</span></span><br><span class="line"><span class="function">TOP 1 0  <span class="comment">// 查看指定邮件的邮件头，0表示查看整个邮件头，其它正整数表示限制返回多少行。</span></span></span><br><span class="line"><span class="function">+OK 71211 octets</span></span><br><span class="line"><span class="function">From: Postmaster@163.com  </span></span><br><span class="line"><span class="function">To: yueyan433015@163.com</span></span><br><span class="line"><span class="function">Subject: </span>=?gb2312?B?z7XNs83L0MU=?=    <span class="comment">// 邮件主题</span></span><br><span class="line"><span class="comment">//省略一些信息</span></span><br><span class="line">.</span><br><span class="line"></span><br><span class="line">RETR <span class="number">1</span>             <span class="comment">// 获取指定邮件</span></span><br><span class="line">+OK <span class="number">71211</span> octets </span><br><span class="line">From: Postmaster@<span class="number">163.</span>com </span><br><span class="line">To: yueyan433015@<span class="number">163.</span>com </span><br><span class="line">Subject: =?gb2312?B?z7XNs83L0MU=?=</span><br><span class="line"><span class="comment">//忽略一些信息</span></span><br><span class="line">.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DELE <span class="number">1</span>                         <span class="comment">// 删除第1封邮件</span></span><br><span class="line">+OK core mail</span><br><span class="line">STAT                             <span class="comment">// 查看邮箱状态</span></span><br><span class="line">+OK <span class="number">0</span> <span class="number">0</span></span><br><span class="line">QUIT                             <span class="comment">// 退出</span></span><br></pre></td></tr></table></figure>
<p>客户端实现了删除该邮件<br><img src="https://img-blog.csdnimg.cn/cad5ddcfb742429db9310eae65cafcc7.png" alt="在这里插入图片描述"></p>
<p><strong>IMAP</strong></p>
<p><strong>IMAP与POP3有什么不同?</strong></p>
<blockquote>
<p>POP3协议允许电子邮件客户端下载服务器上的邮件，但是在客户端的操作（如移动邮件、标记已读等），不会反馈到服务器上，比如通过客户端收取了邮箱中的3封邮件并移动到其他文件夹，邮箱服务器上的这些邮件是没有同时被移动的。</p>
<p><br>而IMAP提供webmail  与电子邮件客户端之间的双向通信，客户端的操作都会反馈到服务器上，对邮件进行的操作，服务器上的邮件也会做相应的动作。</p>
</blockquote>
<blockquote>
<p>IMAP还有允许用户代理获取报文某些部分的命令。<br>收件人能够把邮件移到一个新的、用户创建的文件夹中，阅读邮件，删除邮件等。<br>与POP3不同的是，IMAP服务器维护了IMAP会话的用户状态信息</p>
</blockquote>
<p><strong>MIME：基于web的电子邮件</strong></p>
<p><strong>前面测试的telnet实际上都是本地客户端的邮件！对于常见的163和qq邮箱而言，我们需要开启授权才能收发邮件。但我们平常使用的使用一般都是基于web的（客户端软件也类似）！</strong><br>使用这种服务，用户代理就是普通的浏览器，用户和其他远程邮箱之间的通信使用HTTP进行。当一个收件人向从邮箱中访问报文时，该电子邮件报文从该收件人的邮件服务器发送到它的浏览器（或客户端！）使用的是HTTP而不是POP3或者IMAP协议。当发送电子邮件时，该电子邮件使用HTTP发送到它的邮件服务器。然而，从它的邮件服务器发送到接收方的邮件服务器仍然使用的是SMTP。</p>
<h2 id="DNS-域名系统"><a href="#DNS-域名系统" class="headerlink" title="DNS 域名系统"></a>DNS 域名系统</h2><p><strong>域名与IP的关系类似名字和身份证号的关系</strong></p>
<h3 id="DNS提供的服务"><a href="#DNS提供的服务" class="headerlink" title="DNS提供的服务"></a>DNS提供的服务</h3><blockquote>
<p>人们喜欢便于记忆的主机名标识方式，而路由器喜欢定长的、有着层次结构的IP地址。为了折中这些不同的偏好，我们需要的是一种能进行主机名到IP地址转换的目录服务。这就是域名系统（Domain Name System，DNS）的主要任务。<br>DNS：<br>1.是一个由分层的DNS服务器实现的分布式数据库，DNS服务器通常是运行BIND软件的UNIX机器<br>2.一个使得主机能够查询数据库的应用层协议，DNS协议运行在UDP上，使用<strong>53</strong>号端口<br><br>DNS是应用层协议原因在于裕兴在通信的端系统之间，通过下面的运输层协议来传送DNS报文，但它不直接和用户打交道，通常是由其他应用层协议使用的。</p>
</blockquote>
<blockquote>
<p>我们仍然考虑向浏览器中访问<a target="_blank" rel="noopener" href="http://www.baidu.com会发生什么现象/">www.baidu.com会发生什么现象</a><br>1）同一台用户主机上运行这DNS应用的客户端<br>2）浏览器从上述URL中抽取主机名<a target="_blank" rel="noopener" href="http://www.baidu.com,并将这台主机名传给dns应用客户端./">www.baidu.com，并将这台主机名传给DNS应用客户端。</a><br>3）DNS客户端向DNS服务器发送一个包含主机名的请求<br>4）DNS客户最终会受到一份回答报文，其中有对应该主机名的IP<br>5）浏览器接收到来自DNS的IP，向位于该IP的80端口发起TCP连接。</p>
<p>、、<br><br>DNS为因特网带来了额外的时延，不过DNS还提供了一些重要的服务（需要在万网对你的网站进行设置）：<br><br>主机别名：有着复杂主机名的主机能拥有一个或多个别名。这一特点可以实现多域名指向同一个IP，将一个域名为规范主机名A，其他域名为A的别名。当IP地址更改时，就只需更改规范主机名对应的IP。无论是哪个别名,,被访问时首先指向主机名,,然后对主机名进行解析,,解析结果按原路返回。<br><br><br>负载分配：DNS也用于在冗余的服务器之间进行负载均衡。繁忙的站点被冗余分布在多台服务器上，每台服务器都有不同IP，一个IP地址集合与同一个规范主机名相联系。DNS数据库中存储这这些IP地址集合。当客户对映射到某地址集合的名字发出一个DNS请求时，该服务器用IP地址的整个集合进行响应，但在每个回答中循环这些地址次序（IP轮询）所以DNS就在所有这些web服务器之间分配了负载。</p>
</blockquote>
<h3 id="DNS原理"><a href="#DNS原理" class="headerlink" title="DNS原理"></a>DNS原理</h3><blockquote>
<p>应用程序为了将域名转换为IP调用操作系统函数，用户主机上的DNS接收到后，向网络中发送一个DNS查询报文。所有的DNS请求和回答报文使用UDP数据报经端口53发送。然后，用户主机上的DNS接收到一个提供所希望映射的DNS回答报文。这个映射结果被传递到调用的应用程序</p>
<p>简单设计是因特网中只有一个DNS服务器，所有的映射都在这台服务器上完成，但是面临单点故障、通信容量过大、距离过远、维护困难的问题</p>
</blockquote>
<blockquote>
<p>DNS使用了大量的DNS服务器，它们以层次方式组织分布在全世界范围内。没有一台DNS服务器拥有因特网上所有主机的映射。<br>有三种类型的DNS服务器：<br>1.根DNS服务器：有400多个根名字服务器遍及全世界，这些根名字服务器由不同的组织管理，根名字服务器提供TLD服务器的IP地址。<br>2.顶级域（Top-Level Domain，TLD）DNS服务器：TLD服务器提供权威服务器的IP地址<br>3.权威DNS服务器：web服务器和邮件服务器的每个组织机构必须提供公共可访问的DNS记录（或者放在提供商提供的权威DNS服务器中），这些记录将主机名字映射为IP地址。<br><img src="https://img-blog.csdnimg.cn/f082daf3efe94af983c166210766e6ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</blockquote>
<blockquote>
<p>本地DNS服务器：严格说来，本地DNS服务器不属于DNS的层次结构，每个ISP都有一台本地DNS服务器。当主机与某个ISP连接时，该ISP提供一台主机的IP地址，该主机具有一台或多台其本地DNS服务器的IP地址。当主机发出DNS请求时，该请求发往本地DNS服务器，它起着代理的作用，并将该请求转发到DNS服务器层次结构中</p>
</blockquote>
<p>家庭路由内置了一个DNS转发器。此时由于路由器本身也接管了下挂电脑的DHCP服务，所以它分配给下面电脑的DNS地址就是它路由的DNS，所以你能看到电脑的DNS分配到的可能是192.168.1.1。而路由器的DNS转发器将请求转发到上层ISP的DNS。</p>
<p>DNS过程：假设主机192.168.1.108想知道<a target="_blank" rel="noopener" href="http://www.baidu.com的ip地址.同时本地dns/">www.baidu.com的IP地址。同时本地DNS</a> IP地址为192.168.1.1（即路由的DNS），主机向它的本地DNS服务器发送一个DNS查询报文。该查询报文含有<a target="_blank" rel="noopener" href="http://www.baidu.com.本地dns服务器将该报文转发到根dns服务器(**全世界仅有13个根dns/">www.baidu.com。本地DNS服务器将该报文转发到根DNS服务器（**全世界仅有13个根DNS</a> IP**）。该根DNS服务器注意到com前缀，并向本地DNS服务器返回负责com的TLD。该本地DNS服务器向这个TLD服务器发送查询报文。该TLD服务器注意到baidu.com前缀，用该权威服务器的IP地址进行响应，最后向该权威DNS服务器（可能就是百度自己的）重发报文，该权威DNS服务器用<a target="_blank" rel="noopener" href="http://www.baidu.com的ip进行响应./">www.baidu.com的IP进行响应。</a></p>
<p><strong>在实践中，请求主机与本地DNS服务器之间查询是递归的，其他查询是迭代的</strong></p>
<p><img src="https://img-blog.csdnimg.cn/37f2cd82122941289790fdaa486038d7.png" alt="在这里插入图片描述"><br><strong>DNS缓存</strong></p>
<blockquote>
<p>为了改善时延性能并减少在因特网上到处传输的DNS报文数量，DNS广泛使用了缓存技术。<br>、<br>DNS缓存原理：在一个请求链中，当本地DNS服务器从某个DNS服务器收到回答，它能够缓存包含在该回答中的任何信息。如果在DNS服务器中缓存了一台主机名/IP地址对，另一个对相同主机名的查询到达该DNS服务器时，该DNS服务器能直接提供IP。或者有该主机名的TLD DNS服务器（或者权威服务器）的IP，那么就发送到TLD DNS服务器（或者权威服务器），而不发送到根DNS。</p>
</blockquote>
<p><strong>DNS记录和报文</strong></p>
<blockquote>
<p>所有DNS服务器存储了资源记录（Resource Record，RR），RR提供主机名到IP映射。<br>RR（Name，Value，Type，TTL）<br>Type=A，Name=主机名，Value=主机IP，A类型提供标准的主机名到IP地址的映射，比如记录权威服务器拥有特定主机名的映射（<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a>  IP）<br>Type=NS，Name=域，Value=下级DNS服务器主机名，比如 根DNS或者TLD DNS拥有权威DNS服务器主机名 (com baidu.com)，对于该权威DNS服务器主机名有A记录映射IP<br>Type=CNAME，Name=别名，Value=规范主机名<br>Type=MX，Name=别名，Valu规范主机名（邮件服务器）</p>
</blockquote>
<p>DNS有查询和回答报文，两种报文格式相同。<br><img src="https://img-blog.csdnimg.cn/edfb988e9f814091a76a67619c78c730.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_10,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<blockquote>
<p>前12个字节是首部区域：<br>标识符：标识符用于标识该查询，这个标识符被复制到对查询的回答报文中，用于客户端匹配发送请求和接受到的回答<br>标志：有若干标志<br>问题：包含正在进行的查询信息，1.名字字段，包含正在被查询的主机名字。2.类型字段，该名字正在被询问的问题Type。<br>回答：包含对最初请求名字的资源记录，可以有多条RR。<br>权威区域：其他权威服务器的记录<br>附加区域：例如一个CNAME记录了规范主机名，附加信息中包含A记录，记录该规范主机名的IP地址。</p>
</blockquote>
<p><strong>nslookup测试！</strong><br><img src="https://img-blog.csdnimg.cn/2bdaafdbe1834ab1a9a05726aaf52b1e.png" alt="在这里插入图片描述"><br><strong>当一个人在网上冲浪时，有比满足眼球更多的事情进行！</strong></p>
<p><strong>P2P文件分发</strong></p>
<blockquote>
<p>在客户端-服务器文件分发中，每个对等方能够向任何其他对等方重新分发它已经收到的该文件的任何部分。<br>最流行的P2P文件分发协议是BitTorrent。<br>迅雷是典型的P2P，去中心化，一人下载，多人提供，只不过迅雷在P2P的基础上加了一些业务，改变了纯粹P2P的排队机制。</p>
</blockquote>
<p>BitTorrent协议：</p>
<blockquote>
<p>参与一个特定文件分发的所有对等方的集合被称为一个洪流（比如迅雷一个文件下载者集合）。当一个对等方首次加入洪流时，它没有块，随着时间的流逝，它积累了越来越多的块。当它下载时，也为其他对等方上载了多个块。一旦对等方取得整个文件，它也许离开洪流，也许留在洪流中为其他对等方上载块。<br>每个洪流有一个追踪器，当一个对等方加入洪流时，它向该追踪器注册自己，并周期性的告诉追踪器自己还在该洪流中。<br>当一个新的对等方（张三）加入洪流时，追踪器随机选择子集，将自己的IP地址发送给张三，张三与该自己并行建立TCP连接。张三周期性询问子集中的对等方它们拥有的块列表。张三根据这些列表对它没有的块发出请求。张三应当请求她的邻居中副本最少的块（<strong>最稀缺优先</strong>），这样稀缺块得到更为迅速的分发。其他邻居请求张三的块，张三应当决定响应能够以最高速率（之前向上载给它数据的速率）向她提供数据的邻居。这种效果是对等方能够以趋向于找到彼此的协调的速率上载。</p>
</blockquote>
<h2 id="套接字编程"><a href="#套接字编程" class="headerlink" title="套接字编程"></a>套接字编程</h2><p>书中以Python为例，这里以Java为例，之前博客有写过聊天室的案例，这里仅分析基本的套接字编程流程，TCP和UDP是运输层协议，结合运输层一起看。</p>
<h3 id="UDP套接字编程"><a href="#UDP套接字编程" class="headerlink" title="UDP套接字编程"></a>UDP套接字编程</h3><blockquote>
<p>使用UDP时，必须将目的端口和源端口附在分组上。在该分组传过发送方的套接字之后，因特网将使用该目的地址（IP+端口）为该分组选路到接收进程的套接字。当分组到达接收套接字时，接收进程通过该套接字取回分组，然后检查分组内容并采取适当的动作。<br>发送方的源地址也是由主机IP和套接字端口组成，源IP是由操作系统附上的。<strong>当然源IP和目的IP其实是属于网络层的一部分，UDP和TCP中报文都没有IP信息。属于是网络层的软件部分</strong><br><img src="https://img-blog.csdnimg.cn/abaddcb22aae4944ba5e3ced030a0777.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDPClient</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		DatagramSocket client = <span class="keyword">new</span> DatagramSocket(<span class="number">8888</span>);  <span class="comment">//套接字绑定本机端口</span></span><br><span class="line">		</span><br><span class="line">		String data = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">		<span class="keyword">byte</span>[]datas = data.getBytes();<span class="comment">//数据转换为字节流</span></span><br><span class="line">		</span><br><span class="line">		DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(datas,<span class="number">0</span>,datas.length,</span><br><span class="line">				<span class="keyword">new</span> InetSocketAddress(<span class="string">&quot;localhost&quot;</span>,<span class="number">9999</span>)); <span class="comment">//InetSocketAddress  目的地套接字对象</span></span><br><span class="line">		client.send(packet);</span><br><span class="line">		client.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDPServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		DatagramSocket server = <span class="keyword">new</span> DatagramSocket(<span class="number">9999</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[]container = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">6</span>];</span><br><span class="line">		DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(container,<span class="number">0</span>,container.length);</span><br><span class="line">		</span><br><span class="line">		server.receive(packet); <span class="comment">//一直等待接收往下进行</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[]datas = packet.getData();<span class="comment">//接收套接字包中数据</span></span><br><span class="line">		<span class="keyword">int</span> len = packet.getLength();</span><br><span class="line">		System.out.println(<span class="keyword">new</span> String(datas,<span class="number">0</span>,len));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="TCP套接字编程"><a href="#TCP套接字编程" class="headerlink" title="TCP套接字编程"></a>TCP套接字编程</h3><p><img src="https://img-blog.csdnimg.cn/39f7070b8c25411b962ad062a58de6f3.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>当创建TCP连接时，将客户套接字地址（IP+端口）与服务器套接字地址（IP+端口）关联。<br><strong>当然，这里是IP仍然是属于网络层的软件部分，TCP报文中没有IP信息</strong><br><br>客户进程向服务器发起一个TCP连接，这是由客户程序创建一个TCP套接字实现的。当该客户生成其套接字时，指定服务器中的欢迎套接字的地址(IP+端口)，生成其套接字后，该客户发起一个三次握手并与服务器的一个TCP连接。发生在运输层的三次握手，对于客户和服务器是完全透明的过程。<strong>当服务器听到敲门声时，将生成一个新套接字，它专门对客户进行连接生成的套接字，称为连接套接字（connectionSocket）</strong><br><br><img src="https://img-blog.csdnimg.cn/1d524c8fbac04650bd31b902c948ac2e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_11,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		Socket client = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>,<span class="number">6666</span>);<span class="comment">//自动绑定本地端口</span></span><br><span class="line">		String data = <span class="string">&quot;hello,xuan&quot;</span>;</span><br><span class="line">		OutputStream ins = client.getOutputStream();</span><br><span class="line">		ins.write(data.getBytes());</span><br><span class="line">		ins.flush();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[] datas = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">6</span>];</span><br><span class="line">		client.getInputStream().read(datas);</span><br><span class="line">		System.out.println(<span class="keyword">new</span> String(datas,<span class="number">0</span>,datas.length));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		ins.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">6666</span>);  <span class="comment">//欢迎套接字</span></span><br><span class="line">		Socket server = serverSocket.accept();  <span class="comment">//连接套接字   connectionSocket</span></span><br><span class="line">		<span class="keyword">byte</span>[] datas = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">6</span>];</span><br><span class="line">		server.getInputStream().read(datas);</span><br><span class="line">		System.out.println(<span class="keyword">new</span> String(datas,<span class="number">0</span>,datas.length));</span><br><span class="line">		</span><br><span class="line">		OutputStream os = server.getOutputStream();</span><br><span class="line">		os.write(<span class="keyword">new</span> String(<span class="string">&quot;hello,yan&quot;</span>).getBytes());</span><br><span class="line">		server.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>UDP在目的主机是通过目的IP和目的端口标识套接字的，TCP是通过源IP、源端口、目的IP、目的端口来标识套接字的（因为TCP一个连接就有一个连接套接字，一个连接是由这四个信息唯一确定的）。</strong></p>
<h3 id="web与TCP"><a href="#web与TCP" class="headerlink" title="web与TCP"></a>web与TCP</h3><blockquote>
<p>当今的高性能web服务器通常只使用一个进程，但是为每个新的客户连接创建一个具有新连接套接字的新线程。对于这样一台服务器，在任意给定的时间内都可能有许多连接套接字连接到相同的进程。</p>
<p>如果客户与服务器使用持续HTTP（之前F12百度就是持续连接的），则在整条连接持续期间，客户和服务器之间经由同一个服务器套接字交换HTTP报文。然而，如果客户与服务器使用非持续HTTP，则每一对请求响应都创建一个新的TCP连接并随后关闭。</p>
</blockquote>
<h1 id="运输层-1"><a href="#运输层-1" class="headerlink" title="运输层"></a>运输层</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><blockquote>
<p>运输层与应用层：<br><br>运输层协议为应用层提供了逻辑通信功能。应用进程使用运输层提供的逻辑通信功能彼此发送报文，而无需考虑承载这些报文的物理基础设施的细节。客户进程通过套接字传递数据流，数据一旦通过套接字，就由UDP或TCP控制了。在发送端，运输层从发送应用程序进程接收到的报文转换成运输层分组，即报文段。实现的方法可能是将应用报文分成较小的块，并为每块加上一个运输层首部生成报文段。</p>
</blockquote>
<blockquote>
<p>运输层与网络层：<br><br>运输层协议是在端系统中而不是在路由器中实现的。在发送端系统中，运输层将报文段传递给网络层，网络层将其封装成数据报并向目的地发送。路由器仅作用于数据报的网络层字段，不检查封装在数据报汇总的报文段。在接收端，网络层从数据报中提取报文段，将该报文段给运输层，运输层将报文段中的数据给接收应用程序。</p>
<p><br>将两个端系统间IP的交付服务扩展为运行在端系统上的两个进程之间的交付服务。将主机交付扩展到进程间交付被称为运输层的多路复用（transport-layer multiplexing）与多路分解（demultiplexing）。将在后面进一步讨论。</p>
</blockquote>
<blockquote>
<p>UDP和TCP提供的服务：</p>
<p><br>UDP和TCP可以通过在报文段首部中包括差错检查字段而提供完整性检查。进程到进程的<strong>数据交付</strong>和<strong>差错检查</strong>是两种最低限度的运输层服务（也是UDP仅能提供的两种服务）</p>
<p><br>TCP为应用程序提供了集中附加服务：<br>可靠数据传输（reliable data transfer）：通过使用流量控制、序号、确认、计时器（后面展开这些技术），TCP确保正确的、按序的将数据从发送进程交付给接收进程。TCP将两个端系统间不可靠IP服务转换成进程间的可靠数据传输服务。</p>
<p>拥塞控制：是一种提供给整个互联网的服务，是一种带来通用好处的服务。防止任何一条TCP连接用过多流量来淹没通信主机之间的链路和交换设备。TCP力求为每个通过一条拥塞网络链路的连接平等共享网络连接带宽。这可以通过TCP链接发送端发送速率做到</p>
</blockquote>
<h2 id="多路复用和多路分解"><a href="#多路复用和多路分解" class="headerlink" title="多路复用和多路分解"></a>多路复用和多路分解</h2><blockquote>
<p>在源主机从不同的套接字中收集数据块，并为每个数据块封装上首部信息（用于分解）从而生成报文段，然后将报文段传递到网络层，所有这些工作称为多路复用。</p>
<p>每个报文段中有几个字段。在接收端，运输层检查这些字段，标识出接收套接字，进而将报文段定向到该套接字。将运输层报文段中的数据交付到正确的套接字的工作称为多路分解</p>
</blockquote>
<p><font color='blue'>详细的分析已经在第二章尾部套接字编程中写过，不再赘述。</font></p>
<p>注：这里介绍一下端口，端口号是一个16比特的数，其大小在0-65535之间。0-1023范围的端口号称为周知端口号，是受限制的，它们被保留给注入HTTP（80）、SMTP（25）之类的应用层协议使用。</p>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><h3 id="UDP提供的服务"><a href="#UDP提供的服务" class="headerlink" title="UDP提供的服务"></a>UDP提供的服务</h3><blockquote>
<p>除了复用/分解功能以及少量的差错检测外，UDP几乎没有对IP增加别的东西。</p>
<p>UDP从应用进程得到数据，附加上用于多路复用/分解服务的源和目的端口字段，以及长度和检验和。然后将形成的报文段交给网络层。网络层将该运输层报文段封装到一个IP数据报中，然后尽力而为尝试将此报文段交付给接收主机。如果该报文段到达接收主机，UDP使用的端口号将报文段中的数据交付给正确的应用进程。</p>
</blockquote>
<p><font color='blue'>因特网流行应用使用的协议参见第一章中的图</font></p>
<h3 id="UDP优势"><a href="#UDP优势" class="headerlink" title="UDP优势"></a>UDP优势</h3><p>为什么有些应用宁愿使用UDP，不使用有更多保障的TCP？</p>
<blockquote>
<p>只要应用进程把数据给UDP，UDP就立即打包报文段发送给网络层。另一方面，TCP的拥塞控制机制遏制TCP发送方，不管可靠交付需要多长时间。因为实时应用要求最小的发送速率，且能容忍数据丢失，这些应用可以使用UDP。比如流式多媒体、因特网电话、DNS</p>
<p>无需连接建立导致的时延，这可能是使用UDP的主要原因。</p>
<p>无连接状态。TCP需要在端系统维护连接状态，此连接状态包括接收和发送各种可靠数据服务和拥塞控制所需参数。</p>
<p>分组首部开销小。UDP8字节，TCP20字节。</p>
</blockquote>
<p><strong>UDP报文段结构</strong></p>
<p><img src="https://img-blog.csdnimg.cn/cfa8880a1a2c45808cd0fe15a20717f0.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-f0vK6sla-1638793979674)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211206201248134.png)]"></p>
<p>UDP首部4个字段，一般8个字节（2+2+2+2），源端口和目的端口不用说了。长度字段只是了UDP报文段中的字节数（首部+数据）。接收方用检验和来检查在该报文中是否出现了差错。（实际上计算检验和还需要IP数据报首部的信息，这里忽略这些细节）</p>
<h3 id="UDP检验和"><a href="#UDP检验和" class="headerlink" title="UDP检验和"></a>UDP检验和</h3><p>UDP检验和提供了差错检测功能（但对差错检测无能为力，UDP丢弃受损报文段或交给应用程序）。检验和用于确定当UDP报文段从源到目的地移动时，其中的比特是否发生了改变。</p>
<p>发送方的UDP对报文的所有16比特字的和进行反码运算，求和时遇到的任何溢出都被回卷。得到的结果被放在UDP报文中检验和字段</p>
<p><img src="https://img-blog.csdnimg.cn/3eaec81c55824aa38718abbdfa4100d1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>在接收方全部的4个16比特字（包括检验和）加在一起。如果没有引入差错，那么该和将是111111111111111.</p>
<h2 id="可靠数据传输原理"><a href="#可靠数据传输原理" class="headerlink" title="可靠数据传输原理"></a>可靠数据传输原理</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p><strong>可靠数据传输不仅在运输层出现，虽然这些协议都是划分在运输层的，但是这些技术也可以用在链路层和应用层中（至于怎样应用的先不考虑），只不过其他层没有提供完全可靠的保证。而运输层提供了这样的保证，必须要使用这些协议来实现这样的保证。就我们的目的而言，可以直接将运输层的底层看做不可靠点到点信道</strong></p>
<blockquote>
<p>可靠数据传输为上层提供服务的抽象是：数据可以通过一条可靠的信道进行传输。借助于可靠信道，传输数据比特就不会收到损坏（由0变1，或者相反）或丢失。而且所有数据都是按照其发送顺序进行交付。这恰好就是TCP向调用它的因特网应用提供的服务模型。<strong>实现这种服务抽象是通过可靠数据传输协议（rdt）的责任</strong></p>
<p>我们对底层信道的假设是：分组将以它们发送的次序进行交付，某些分组可能会丢失，也就是说，底层信道不会对分组重排序。</p>
<p>我们应当考虑的是：当底层信道能够损坏比特或者丢失整个分组时，需要什么样的协议机制。</p>
<p>\</p>
<p>对于下图b，做一个简单的解释：这里仅仅表示了单向传输！（这里不用套接字编程对应）</p>
<p>rdt_send：代表可靠传输</p>
<p>udt_send:代表低层信道不可靠传输</p>
<p>deliver_data:将数据给较高层</p>
<p>rdt_rcv:可靠接收</p>
<p>rdt_send和rdt_rev合起来代表了可靠传输协议的两端</p>
<p><img src="https://img-blog.csdnimg.cn/818077e7e5334d3ea40c59d6993620fe.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-DyIlxVAb-1638931721712)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211206222302305.png)]"></p>
</blockquote>
<h3 id="rdt"><a href="#rdt" class="headerlink" title="rdt"></a>rdt</h3><p><strong>rdt1.0</strong></p>
<p><img src="https://img-blog.csdnimg.cn/40bb54bd837b4c02b2aa3b410a2464ba.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-USYZM7x4-1638931721714)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207092422662.png)]"></p>
<blockquote>
<p>在1.0中，发送端发送分组到信号中。在接收端接收分组并将数据上传给较高层</p>
<p>在这个简单的协议中，假定信道是完全可靠的，接收端就不需要提供任何反馈信息给发送方，因为不必担心出错。</p>
</blockquote>
<p><strong>rdt2.0</strong></p>
<blockquote>
<p>底层信道更为实际的模型是分组中比特受损的模型！</p>
</blockquote>
<p>使用肯定确认ACK（positive acknowledgment）和否定确认NAK（negative acknowledgment）。ACK告诉发送方内容被正确接收。NAK让发送方重新发送。基于这样重传机制的可靠数据传输协议称为<strong>自动重传请求协议（ARQ）</strong>。用1比特0表示NAK，1比特1表示ACK。</p>
<p>ARQ三种机制：差错检测、接收方反馈、重传</p>
<p>分析下面该图：</p>
<p>发送端发送分组，带有检验和（就像UDP中使用的检验和），进入到右边等待ACK或NAK状态，如果收到一个ACK，说明正确接收，回到左边状态。如果收到NAK，重传上一个分组并等待ACK和NAK。</p>
<p>当发送方处于等待ACK或NAK时，不能发送新数据，这种行为称为<strong>停等协议（stop-and-wait）</strong></p>
<p><img src="https://img-blog.csdnimg.cn/9949647616a44345b51f5f77af2b3345.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2VNADU3z-1638931721715)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207105515705.png)]"></p>
<p>2.0存在致命的缺陷是，没有考虑ACK和NAK受损！</p>
<p>2.1处理方式是当发送方接收到含糊不清的ACK或NAK，只需重传当前分组。这种方法引入了冗余分组，但接收方不知道这个重传的分组是新分组还是重传分组！</p>
<p>解决这个新问题的简单方法是（几乎现有的数据传输协议都使用这种方法）是在数据分组中添加<strong>序号（sequence number）</strong>。接收方只需要检查序号即可确定收到的分组。</p>
<p>序号1比特即可：对发送方，0表示当前发送的数据，1表示 0发送并接收成功后 下一个发送的数据。对接收方，0表示正在接收的数据，0接收成功，下一个等待接收的数据。</p>
<p>如果发送方发送数据包0，接收方成功接收并返回ACK并等待数据包1，但ACK翻转（变NAK）。发送方收到NAK重传数据包0。接收方不接收该分组，<strong>避免重复</strong>。</p>
<p>如果发送方发送数据包0，该数据翻转，返回NAK，接收方继续等待0号数据包，NAK翻转成ACK，发送方发送1号数据包，接收方拒绝接受，<strong>避免错序</strong>。</p>
<p><img src="https://img-blog.csdnimg.cn/3bc401f05cbb4ef2b837749e3676cf08.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-5ylOdxt3-1638931721716)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207105557013.png)]"></p>
<p>rdt2.2是在rdt2.1的基础之上做了小小的改善，摒弃了NAK，只需采用ACK。我们在ACK的信息上加上了数据报的顺序号，现在假设情景发送方向接收方发送0号数据包，如果接收方接收到0号数据包，返回（ACK，0），发送方接着发送1号数据包。如果接收方接收到0号数据包出现错误，返回（ACK，1），发送方重传0号数据包。</p>
<p><img src="https://img-blog.csdnimg.cn/bdfa6df61a894b38a8b48cc19b3d2cdf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gJIu4mtg-1638931721717)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207105617680.png)]"></p>
<p>2.2之前都没有考虑丢包问题，试想如果发送的分组丢包，接收方一直等待接收分组，会死等导致网络拥塞。rdt3.0解决丢包问题</p>
<p>发送方传输一个数据分组该分组或对该分组的ACK丢失。使用基于时间的重传机制，需要一个倒计数计时器（countdown timer）。发送方每次发送一个分组，启动定时器，定时器时间结束，重传该分组（不管分组是否丢失）。</p>
<p><img src="https://img-blog.csdnimg.cn/d507caabb83945dab2c460db4e9c4250.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-NfkQriil-1638931721718)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207105643310.png)]"></p>
<p><img src="https://img-blog.csdnimg.cn/bbb72a336889427ab5d562939661fda9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-iRNe2yEw-1638931721719)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207104509869.png)]"></p>
<p>至此，我们使用检验和、序号、定时器、ACK，得到了一个可靠数据传输协议! (虽然它是低性能的)</p>
<h3 id="流水线可靠数据传输协议"><a href="#流水线可靠数据传输协议" class="headerlink" title="流水线可靠数据传输协议"></a>流水线可靠数据传输协议</h3><blockquote>
<p>rdt3.0是一个功能正确的协议，但并非人人都对它的性能满意，特别是在今天的高速网络中更是如此。rdt3.0性能问题的核心在于它是一个停等协议。</p>
</blockquote>
<blockquote>
<p>这种特殊的性能问题的一个简单解决方法是：不以停等方式运行，允许发送方发送多个分组而无需等待确认。两种流水线协议实现解决，一种是<strong>GBN（回退N步）</strong>，一种是<strong>SR（选择重传）</strong></p>
</blockquote>
<p>不以停等方式运行，相比于rdt3.0所需的改进有：</p>
<ul>
<li>必须增加序号范围，正在输送的分组必须有唯一序号</li>
<li>协议发送方和接收方必须缓存多个分组，发送方最低应当缓存哪些已发送但没有确认的分组（用于重传）。</li>
<li>所需序号范围和对缓冲的要求取决于数据传输协议如何处理丢失、损坏及延时过大的分组。</li>
</ul>
<p><font color="blue">关于GBN和SR，本书中太过啰嗦，掌握其原理即可</font></p>
<p><strong>GBN</strong></p>
<p>GBN协议也常被称为滑动窗口协议（sliding-window protocol），滑动窗口长度为N，窗口内包括已经发送但还未被确认的分组和可以发送还未发送的分组，<strong>窗口长度可根据接收方接收和缓存报文的能力（流量控制）、网络中的拥塞程度（拥塞控制）或两者情况来设置，设置窗口也是因为这两个因素。</strong></p>
<p>在GBN协议中，对序号为n的分组的确认采取累计确认，表明接收方已经正确接收到序号为n以前且包括n在内的所有分组。如果出现超时，发送方重传所有已发送但还未被确认过的分组。接收方的动作很简单，如果一个序号为n的分组被正确接收到，并且按序，则接收方为分组n发送一个ACK。在其他所有    情况下，丢弃分组。</p>
<p><img src="https://img-blog.csdnimg.cn/11f149856d234d6b97280c1a6e1bfc8f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_9,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-1M0KpStr-1638931721719)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207150907710.png)]"></p>
<p>单个分组的差错会引起GBN重传大量分组，许多分组根本没有必要重传。随着信道差错率的增加，流水线可能被这些不必要的重传分组所充斥。</p>
<p><strong>SR</strong></p>
<p>SR协议接收方确认一个正确接收的分组而不管其是否按序。失序的分组缓存到接收方直到序号更小的所有分组都被收到。</p>
<p><img src="https://img-blog.csdnimg.cn/2935640c8e694ecc8b5280cb2483ee09.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-knvKiLBD-1638931721720)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207150940959.png)]"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="https://img-blog.csdnimg.cn/5aabd1a51d4441af871a2363acaa68cc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-KvIUnmIr-1638931721721)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207211527605.png)]"></p>
<h2 id="拥塞控制原理"><a href="#拥塞控制原理" class="headerlink" title="拥塞控制原理"></a>拥塞控制原理</h2><blockquote>
<p>在实践中，丢包一般是当网络变得拥塞时由于路由器缓存溢出引起的。为了处理网络拥塞原因，需要一些机制以在面临网络拥塞时遏制发送方。</p>
<p>就像可靠数据传输一样，拥塞控制在组网技术中的前10个基础性重要问题清单中位居前列。</p>
</blockquote>
<h3 id="拥塞原因与代价"><a href="#拥塞原因与代价" class="headerlink" title="拥塞原因与代价"></a>拥塞原因与代价</h3><p>我们先不关注如何对拥塞控制方法，讨论三种情况，随着主机增加其发送速率并使网络变得拥塞时发送的情况。根据资源未被充分利用以及端系统得到的低劣服务性能来评价。</p>
<p><strong>情况1：</strong><br><img src="https://img-blog.csdnimg.cn/562a08a1e36d4b2188a1451f102e2099.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-tqGVyr3i-1638951852616)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208125611629.png)]"></p>
<p>假设主机A中的应用程序以in字节/秒的平均速率发送到连接中（应用程序到套接字），假设路由器缓存无限。来自主机A和主机B的分组通过一台路由器，在一段容量（瓶颈链路决定）为R的共享式输出链路上传输。</p>
<p><img src="https://img-blog.csdnimg.cn/eb9b8b217f4043a293ccfe0206249ead.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-R5Z7AxJf-1638951852619)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208125634583.png)]"></p>
<p>当发送速率在0-R/2之间时，接收方的吞吐量等于发送方的发送速率。发送速率超过R/2时，它的吞吐量只能达R/2。这个吞吐量上限是由两条连接之间的共享链路容量（瓶颈链路决定）造成的。当发送速率接近R/2时，平均时延越来越大。<strong>我们发现了拥塞网络的一种代价，分组到达速率接近链路容量，分组经历巨大的排队时延。</strong></p>
<p><strong>情况2：</strong></p>
<p><img src="https://img-blog.csdnimg.cn/4f331b6a5b7f42c79f61aac447f954c5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-eXqYpovq-1638951852620)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208152324188.png)]"></p>
<p>假设路由器缓存是有限的。</p>
<p>我们以in字节/秒表示以你用程序将初始数据发送到套接字中的速率。以in’表示运输层向网络中发送报文段的速率（包括了初始数据和重传数据，有时候被称为网络的<strong>供给载荷</strong>）</p>
<p><img src="https://img-blog.csdnimg.cn/1222b267ef584732ac5377690cd1751e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-S7xnP4If-1638951852621)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208154210118.png)]"></p>
<p>考虑以下三种情况：</p>
<p>1.主机能以某种方式确定路由器中的缓存是否空闲（虽然这是不现实的），仅当缓存空闲时才发送一个分组。在这种情况下，不会丢包in=in’，并且吞吐量等于in，从吞吐量角度看，性能是理想的</p>
<p>2.考虑更为真实的情况，发送方快速重传，考虑供给载荷in’=R/2，在这一供给载荷值时，数据被交付给接收方应用程序的速率是R/3。因此在发送的0.5R单位数据中，0.333R字节/秒是初始数据，而0.166R字节/秒是重传数据。再次看到了另一种网络拥塞的代价，即发送方必须执行重传以补偿因为缓存溢出而丢弃的分组。</p>
<p>3.发送方也许提前发生超时并重传在还未丢失的分组，初始数据分组和重传分组都可能到达接收方。重传的初始分组副本是在做无用功，因为接收方已经接收到了分组的初始版本。再次看到了网络拥塞的另一种代价，即发送方进行的不必要重传会引起路由器利用其链路带宽来转发不必要的分组副本。</p>
<p><strong>情况3：</strong></p>
<p>再次假设每台主机都有相同的in值，所有路由器的链路容量都是R字节/秒。</p>
<p><img src="https://img-blog.csdnimg.cn/cb2f8a7406544b41a2b557ec7d88965e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-5WbRma7d-1638951852622)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208160942635.png)]"></p>
<p>对于很小的in值，路由器缓存溢出很少见，吞吐量大致接近供给载荷。</p>
<p>对于很大的in值，考虑主机A到主机C，主机B到主机C都经过路由器R2，B-D的供给载荷趋近于无穷大时，R2的空闲缓存会立即被B-D连接的分组占满，因而A-C连接在R2上的吞吐量趋近于0。在此，我们看到由于拥塞而丢弃分组的另一种代价，即当一个分组沿一条路径被丢弃时，每个上游路由器用于转发该分组到丢弃该分组的传输容量最终被浪费了。</p>
<h3 id="拥塞控制方法"><a href="#拥塞控制方法" class="headerlink" title="拥塞控制方法"></a>拥塞控制方法</h3><p>在实践中采用的两种主要拥塞控制方法。</p>
<p>1.端到端拥塞控制，IP层不会向端系统提供有关网络拥塞的反馈信息。</p>
<p>2.网络辅助的拥塞控制，路由器向发送方提供关于网络中拥塞状态的显示反馈信息。这种反馈可以简单的用一个比特来指示链路中的拥塞情况。例如，在ATM可用比特率（ABR）拥塞控制中，路由器显示地通知发送方它能在输出链路上支持的最大主机发送速率。对于辅助控制的反馈方式有两种，直接反馈信息可以由网络路由器发送给发送方（<strong>阻塞分组</strong>）。更为通用的第二种形式是路由器标记或更新从发送方流向接收方的分组中的某个字段来指示拥塞的产生。</p>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><h3 id="TCP连接"><a href="#TCP连接" class="headerlink" title="TCP连接"></a>TCP连接</h3><blockquote>
<p>TCP连接是一条逻辑连接，其共同状态仅保留在两个通信端系统的TCP程序中。中间的网络元素不会维持TCP连接状态。事实上，中间路由器（最高网络层）和交换机（最高链路层）对TCP连接完全视而不见。</p>
<p><br>三次握手简述：客户首先发送一个特殊的TCP报文段，服务器用另一个特殊的TCP报文段响应，最后客户再用第三个特殊报文段作为响应。前两个报文段不承载应用层数据，第三个报文段带上应用层数据。</p>
<p><br>数据一旦从应用层通过套接字，就由TCP控制了，TCP将这些数据引导到该连接的<strong>发送缓存</strong>里，接下来TCP不时从缓存取出数据，将数据<strong>取出</strong>加上首部封装成TCP报文段传递到网络层。当TCP另一端收到TCP报文后，报文段中数据被放到接收缓存中。</p>
<p>这个取出值得讨论，取出多少数据？</p>
<p>受限于最大报文段长度MSS（其实是指报文段中数据最大长度，只不过这个名字已经根深蒂固了），MSS通常通过最大链路帧长度即最大传输单元（MTU）来设置。由于IP首部20，TCP首部20，以太网和PPP链路层协议都有1500字节的MTU，所以MSS典型值为1460.</p>
</blockquote>
<h3 id="TCP报文段结构"><a href="#TCP报文段结构" class="headerlink" title="TCP报文段结构"></a>TCP报文段结构</h3><p><img src="https://img-blog.csdnimg.cn/29cb347b2a0a4497a11f48591bc438d6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_8,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-zuCaXRS0-1638931721721)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207201833506.png)]"></p>
<p>与UDP的报文段结构一样，首部包括源端口号32、目的端口号32、检验和16。</p>
<p>TCP报文段首部还包含下列字段：<br>1.32比特的序号字段和32比特的确认号字段，用于可靠数据传输。序号是该报文段首字节的字节流编号。主机A已经接收了0<del>525序号的分组和900</del>1000的分组（失序到达，滑动窗口缓存），主机A填充进报文段的确认号为主机A<strong>期望</strong>从主机B收到的下一字节的序号，526，即<strong>累计确认</strong>的方式。</p>
<p><img src="https://img-blog.csdnimg.cn/6c655b30ec414e629d94d717ded48cff.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-KQA6Z0Pi-1638931721722)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207203157323.png)]"></p>
<p>2.16比特的接收窗口字段，用于流量控制。</p>
<p>3.4比特的首部长度字段，指示了以32比特的字为单位的TCP首部长度</p>
<p>4.TCP选项字段大小可变，通常为空，用于发送方与接收方协商MSS时使用</p>
<p>5.6比特的标志字段，ACK表示该报文段对一个以被成功接收报文段的确认。RST、SYN、FIN比特用于连接建立和拆除。CWR和ECE用于拥塞。还有PSH、URG和紧急数据指针在实践中并没有使用。</p>
<h3 id="TCP可靠数据传输"><a href="#TCP可靠数据传输" class="headerlink" title="TCP可靠数据传输"></a>TCP可靠数据传输</h3><blockquote>
<p>TCP依赖于前一节讨论的许多基本原理，包括检验和、定时器、序号、确认、重传。</p>
</blockquote>
<p><font color="blue">书中递进描述TCP的可靠数据描述，这里只描述最终版本</font></p>
<p>检验和：即差错检测，和上一节讨论一致。</p>
<p>定时器：之前讨论可靠数据传输我们对每个分组的发送都采用定时器，开销太大，TCP采用单一定时器，该定时器从窗口中最先发出且未确认的分组时间开始算。超时重传该报文段。每次超时之后将下一次的超时时间设置为先前值的两倍。（这是一种形式受限的拥塞控制）</p>
<p>序号和确认和重传：TCP确认机制是GBN和SR的混合体，和GBN一样使用冗余ACK，不对失序报文段确认。和SR一样，缓存失序报文段，只重传未确认序号最小的报文段。使用<strong>快速重传</strong>方式，三次冗余确认重传。</p>
<h3 id="TCP流量控制"><a href="#TCP流量控制" class="headerlink" title="TCP流量控制"></a>TCP流量控制</h3><blockquote>
<p>一条TCP连接的每一侧主机都为该连接设置了接收缓存，当该TCP接收到正确的字节后，就将数据放入接收缓存，相关联的应用进程从缓存中读取数据。如果某应用程序读取数据太过缓慢，而发送方发送的太多、太快，发送的数据就会很容易使该连接的接收缓存溢出。<br><br>流量控制是一个速度匹配服务，即发送方的发送速率与接收方应用程序的速率匹配。</p>
<p>TCP通过让发送方维护一个称为<strong>接收窗口（receive window），即可靠数据传输中的滑动窗口</strong> 的变量来提供流量控制。通俗的说，接收窗口用于给发送方一个指示，该接收方还有多少可用的缓存空间，使得发送方动态改变其窗口大小。<strong>发送方发送到连接中但未被确认的数据量&lt;=rwnd</strong></p>
</blockquote>
<h3 id="TCP连接-1"><a href="#TCP连接-1" class="headerlink" title="TCP连接"></a>TCP连接</h3><p>三次握手：</p>
<p><img src="https://img-blog.csdnimg.cn/aa9ee6a9e2c548958fcc8d34e610be94.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_10,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-0sS7DEwM-1638931721723)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208101408385.png)]"></p>
<p>第一步：客户端TCP首先向服务器端的TCP发送一个特殊的TCP报文段。该报文段中不包含应用层数据。在报文段首部SYN=1。客户随机选择一个初始序号seq=client_isn，并将此编号放置于序号字段中。改报文段称为<strong>SYN报文段</strong>。</p>
<p>第二步：服务器主机接收该TCP SYN报文段，为该TCP连接分配TCP缓存和变量，并向该客户TCP发送允许连接的报文段。这个允许连接的报文段也不包含应用层数据。SYN=1，ack=client_isn+1。服务器选择初始序号seq=server_isn，将其放置到序号字段中。该报文段被称为<strong>SYNACK报文段。</strong></p>
<p>第三步：在收到SYNACK报文段后，客户也要给该连接分配缓存和变量。客户向服务器发送另一个报文段，这最后一个报文段对服务器的允许连接报文段进行了确认，ack=server_isn+1.因为连接已经建立，SYN=0,seq=client_isn+1。该第三阶段可以在报文段中携带应用层数据。</p>
<p>一旦完成这三个步骤，以后的报文段中，SYN都被置为0。</p>
<p>天下没有不散的宴席，四次挥手：</p>
<p><img src="https://img-blog.csdnimg.cn/24075ee2faca4996a763a2c4f66a3f1a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_8,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wU1mcv6g-1638931721723)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211208103756648.png)]"></p>
<p>客户应用进程发出一个关闭连接命令。这会引起客户TCP向服务器进程发送一个特殊的TCP报文段，其首部FIN=1。当服务器接收到该报文段后就向发送方回送一个确认报文段。服务器发送它自己的终止报文段，FIN=1。最后客户对该终止报文段确认，至此连接关闭。</p>
<p><strong>客户和服务器连接释放过程状态图</strong></p>
<p><img src="https://img-blog.csdnimg.cn/43d2c5b41509469daf2a768d53ea724d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><blockquote>
<p>TCP必须使用端到端拥塞控制而不是使用网络辅助的拥塞控制，因为IP层不向端系统提供显示的网络拥塞反馈。<br>TCP采用的方法是根据所感知到的网络拥塞程度来限制其能向连接发送流量的速率。如果一个TCP发送方感知从它到目的地之间的路径上没什么拥塞，增加发送速率；如果发送方感知沿着该路径有拥塞，则降低发送速率。<br><br>序号考虑以下三个问题：<br>1.如何限制发送速率：运行在发送方的TCP拥塞控制机制跟踪  <strong>拥塞窗口（congestion window）和 接收窗口（receive window）</strong> 变量，在一个发送方中未被确认的数据量不会超过cwnd与rwnd中的最小值。这里cwnd指的是一个RTT内，允许发送方向向该连接发送cwnd个字节的数据。<br>2.如何感知拥塞：感知丢包事件（超时或者收到接收方的三个冗余ACK）<br>3.如何确认发送速率：<strong>当确认到达，扩大拥塞窗口；当感知到拥塞，缩小拥塞窗口。TCP调节的策略是接收ACK增加速率，直到出现丢包才减小传输速率，接收ACK继续扩张。</strong> </p>
</blockquote>
<p><strong>慢启动：</strong></p>
<p>cwnd的值以1个MSS（报文段中数据最大长度）开始，每次一个ACK就增加1个MSS。1个RTT发送1个MSS，收到ACK。发送两个MSS，收到两个MSS的ACK。发送4个MSS，收到4个 ACK。一直这样下去，以指数增长。</p>
<p>结束：<br>1.当cwnd&gt;ssthresh，结束慢启动并且TCP转移到<strong>拥塞避免模式</strong>。<br>2.超时事件，TCP将cwnd设置为1并重新开始慢启动。状态变量ssthresh设置为拥塞窗口值的一半。<br>3.检测到3个冗余ACK，执行<strong>快速重传</strong>进入<strong>快速恢复状态</strong>。</p>
<p><strong>拥塞避免：</strong></p>
<p>一旦进入拥塞避免状态，cwnd的值大约是上次遇到拥塞时的一半，即距离拥塞可能并不遥远。一种通用的方法是对于TCP发送方无论何时到达一个新的确认，就将cwnd增加一个MSS字节。</p>
<p>结束：<br>1.超时事件发生，TCP将cwnd设置为1并重新开始慢启动。状态变量ssthresh设置为拥塞窗口值的一半。<br>2.检测到三个冗余ACK，执行<strong>快速重传</strong>进入<strong>快速恢复状态</strong>。</p>
<p><strong>快重传和快速恢复：</strong></p>
<p>快重传冗余ACK对应的分组，快恢复cwnd减半，ssthresh的值记录为cwnd一半。快恢复后进入拥塞避免状态。</p>
<p><strong>我们可以看到，在慢启动和拥塞避免状态，如果发生超时，代表网络比较拥堵，ssthresh置为cwnd一半，将cwnd置为1并慢启动。</strong><br><img src="https://img-blog.csdnimg.cn/1530df4827f3407db89bce4cfc8aec65.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><strong>如果检测到拥堵，即三个冗余ACK，说明网络轻微拥堵，ssthresh置为cwnd一半，cwnd减半，我们进行快重传和快恢复。快速恢复后进入拥塞避免状态。</strong><br><img src="https://img-blog.csdnimg.cn/5e53b77154444d38b81c71a146f2011e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><font color=blue><strong>注：这里本书中快恢复是cwnd减半后加了三个冗余ACK的MSS，在其他大部分国内教科书中以及上图是直接减半的。24/2=12</strong></font></p>
<h1 id="网络层：数据平面"><a href="#网络层：数据平面" class="headerlink" title="网络层：数据平面"></a>网络层：数据平面</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><blockquote>
<p>H1向H2发送消息，H1中的网络层取得来自H1运输层的报文段，将每个报文段封装成一个数据报，然后向相邻路由器R1发送该数据报。在接收方主机H2，接收来自相邻路由器R2的数据报，提取出运输层报文段，并将其向上交付给H2的运输层。</p>
<p>网络层实现了主机到主机的通信服务，运输层依赖网络层的主机到主机的通信服务。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/0bc7cf07f45e42098a8f6d44862ae064.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-BCnCTue3-1639192835088)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209143711129.png)]"></p>
<blockquote>
<p>因特网的网络层提供了单一的服务，称为尽力而为服务（best-effort service）。使用尽力而为服务，传送的分组既不能保证以它们发送的顺序被接收，也不能保证它们最终交付；既不能保证端到端时延，也不能保证有最小的带宽，尽力而为服务看起来是根本无服务的一种委婉说法，但这种服务与适当带宽供给相结合已经足够好。</p>
</blockquote>
<h2 id="数据平面与控制平面"><a href="#数据平面与控制平面" class="headerlink" title="数据平面与控制平面"></a>数据平面与控制平面</h2><blockquote>
<p>网络层能够被分为两个相互作用的部分，即<strong>数据平面</strong>和<strong>控制平面</strong>。数据平面决定到达路由器输入链路之一的数据报如何转发到路由器的输出链路之一（<strong>转发</strong>），一般是由硬件实现。本章我们详细学习数据平面的转发，涉及传统的IP转发和通用转发。控制平面的功能是协调这些本地的路由器转发动作，使得数据报沿着源和目的主机之间的路由器路径最终进行端到端传送（<strong>路由选择</strong>）一般由软件实现，通常是一种传统CPU。我们下一章学习控制平面。</p>
</blockquote>
<blockquote>
<p>在因特网中这些控制平面路由选择协议和数据平面转发功能已经被实现为一个整体，位于一台路由器中。</p>
<p>每台路由器中有转发表（forwarding table），路由器检查分组首部值，进而使用首部值在转发表中索引，索引指出将被转发的路由器的输出链路接口。路由选择算法决定了插入该路由器转发表的内容，在一台路由器中的路由选择算法与在其他路由器中的路由选择算法通信，以计算出它的转发表的值。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/d0a2c16360844c7fb7ba73d83617bc2c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Wos357cy-1639192835090)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209144310186.png)]"></p>
<blockquote>
<p>软件定义网络（Software- Defined Networking，SDN）通过将控制平面功能作为一种单独服务，分离数据平面和控制平面，控制平面功能通常置于一台远程控制器中。</p>
<p>注：查阅一些资料发现，SDN并未代替传统网络，目前还处于发展阶段，不过它的设计无疑是先进的，可以将SDN这部分内容独立出来理解。、</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/4e7a869c61744504817c4b7f19c44e6a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><font color=blue><strong>由于SDN还未广泛应用，本文中不引入SDN及通用转发内容</strong></font></p>
<h2 id="路由器工作原理"><a href="#路由器工作原理" class="headerlink" title="路由器工作原理"></a>路由器工作原理</h2><p><img src="https://img-blog.csdnimg.cn/95d6f362089e48cfb6660b3c03e49508.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RknQH4pR-1639192835091)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209152815049.png)]"></p>
<p>注：图中虚线箭头表示处理器中转发表复制到每个输入端口，避免集中式处理的瓶颈。</p>
<blockquote>
<p>输入端口（这里的端口，指物理接口）执行几项重要功能，物理链路的物理层功能（最左侧方框），与数据链路层交互来执行数据链路层功能（中间方框）。执行查找功能（最右侧方框），正是在此，通过查询表决定路由器的输出端口，到达的普通分组通过路由器的交换结构转发到输出端口，控制分组从输入端口转发到路由选择处理器。</p>
<p>输出端口存储从交换结构接收的分组，并通过执行必要的链路层和物理层功能在输出链路上传输这些分组。</p>
<p>交换结构将路由器的输入端口连接到它的输出端口。</p>
<p>路由选择处理器执行控制平面功能，使用路由器选择协议与其他网络路由器中的路由选择处理器进行交互，维护路由选择表与关联链路状态信息，并为该路由器计算转发表。（在SDN中，路由选择处理器与远程控制器通信，接收由远程控制器计算的转发表项，并在该路由器的输入端口安装这些表项）</p>
</blockquote>
<h3 id="输入端口处理和基于目的地转发"><a href="#输入端口处理和基于目的地转发" class="headerlink" title="输入端口处理和基于目的地转发"></a>输入端口处理和基于目的地转发</h3><p><img src="https://img-blog.csdnimg.cn/52b91ccd3a5f4e279de7411a07622911.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gxDLFPo5-1639192835092)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209162457013.png)]"></p>
<p>路由器用用分组目的地址的前缀与该表中的表项进行匹配；如果存在一个匹配项，则路由器向与该匹配项相关联的链路转发分组。如果一个前缀不匹配前3项中的任何一项，则路由器向接口3转发该分组。</p>
<p>目的地址可能与多个表项匹配，路由器使用最长前缀匹配原则，向最长前缀匹配相关联的链路接口转发分组。</p>
<h3 id="交换"><a href="#交换" class="headerlink" title="交换"></a>交换</h3><p><img src="https://img-blog.csdnimg.cn/dacc6f706c8b4eeda5f79224fe94a2cb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-vUKIqqg9-1639192835093)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209162936100.png)]"></p>
<blockquote>
<p><strong>经内存交换：</strong> 一个分组到达输入端口，该端口会先通过中断方式向路由器处理器发出信号。于是，该分组从输入端口被复制到处理器中。路由选择处理器根据其首部找出对应输出端口，将分组复制到输出端口的缓存中。经过共享系统总线一次只能执行一个内存读/写。</p>
<p><strong>经总线交换：</strong> 不需要选择处理器的干预，（猜测是根据复制到输入端口的转发表）预先计划一个交换机内存标签（首部）指示输出端口，该分组传送给所有输出端口，只有与标签匹配的端口保存该分组。一次只有一个分组能够跨越总线。</p>
<p><strong>经互联网络交换：</strong> 由2N条总线组成的互联网络，因为有多条总线，所以可以并行转发多个分组（A-Y，B-X）。</p>
</blockquote>
<h3 id="输出端口处理"><a href="#输出端口处理" class="headerlink" title="输出端口处理"></a>输出端口处理</h3><blockquote>
<p>输出端口处理已经存放在输出端口内存中的分组并将其发送到输出链路上。这包括选择和取出排队的分组进行传输，执行所需的链路层和物理层传输功能。</p>
</blockquote>
<h3 id="排队"><a href="#排队" class="headerlink" title="排队"></a>排队</h3><p>输入排队：线路前部阻塞（Head-Of-the-Line，HOL）。如果链路当前正忙于传输另一个分组，到达链路输出队列的分组要排队等待传输。</p>
<p>输出排队：多个分组到达同一个输出队列。需要从<strong>输出队列中调度分组发送到输出链路</strong>。</p>
<p>如果没有足够的缓存空间容纳到达的分组，队列的分组丢弃策略（<strong>主动队列管理算法（ARQ）</strong>）确定丢弃该分组或者队列其他分组。</p>
<h3 id="调度"><a href="#调度" class="headerlink" title="调度"></a>调度</h3><p><strong>1.先进先出（FIFO，FIrst-In-First-Out）</strong></p>
<p><img src="https://img-blog.csdnimg.cn/d6f5774811fa452fad9e199f97060e7b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-nYN2MmpU-1639192835094)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209183253559.png)]"></p>
<p><strong>2.优先权排队</strong></p>
<p><img src="https://img-blog.csdnimg.cn/42dc4b547f274be4b19a880a5b1ee9ff.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YGDVd7A4-1639192835094)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209183338249.png)]"></p>
<p>分优先级类，先调度优先级高的类，同一优先权类的分组使用FIFO完成。在<strong>非抢占式优先权排队</strong>中，即使在将较低优先级分组传输出链路时，高优先级分组到来也不能打断传输。（下图中1,3,4位高优先级。2,5低优先级）</p>
<p><img src="https://img-blog.csdnimg.cn/5ba8e0aa21e7406d9323cf0c76dee69d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-QD4qdQWQ-1639192835095)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209183609219.png)]"></p>
<p><strong>3.循环和加权公平排队</strong></p>
<p><strong>循环排队规则：</strong> 分类但不分优先级，循环各个类（1,2,4一类，3,5一类）</p>
<p><img src="https://img-blog.csdnimg.cn/ba8f1a331a7b467ba563558dc6c8e4b0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_19,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gbtPOHaG-1639192835096)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209183945660.png)]"></p>
<p><strong>加权公平排队（Weighted Fair Queuing，WFQ）：</strong> 按照优先级顺序循环各个优先级类，<strong>这种方式广泛的实现在路由器中。</strong></p>
<h2 id="IP协议"><a href="#IP协议" class="headerlink" title="IP协议"></a>IP协议</h2><h3 id="数据报格式"><a href="#数据报格式" class="headerlink" title="数据报格式"></a>数据报格式</h3><p><img src="https://img-blog.csdnimg.cn/b3ddd181ecac4a4fa90a262f14caea6a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Dvirat3j-1639192835096)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211209222659144.png)]"></p>
<h3 id="数据报分片"><a href="#数据报分片" class="headerlink" title="数据报分片"></a>数据报分片</h3><blockquote>
<p>每个IP数据报封装在链路层帧中从一台路由器中传输到下一台路由器，故链路层协议的MTU严格限制着IP数据报的长度（以太网帧1500）。对IP数据报长度具有严格限制并不是主要问题。问题在于在于发送方与目的路径上的每段链路可能使用不同的链路层协议，且每种协议可能具有不同的MTU，<strong>问题是如何将较大的数据报挤进较小的MTU</strong>。</p>
</blockquote>
<blockquote>
<p>解决该问题的方法是将IP数据报中的数据分片成多个较小的IP数据报，用单独的链路层帧封装这些较小的IP数据报，然后通过输出链路发送这些帧。这些较小的数据报都称为片。</p>
<p>对于TCP/UDP而言，都希望收到完整的IP数据报，IPv4的设计者决定将数据报的重新组装工作放到端系统中，而不是放到网络路由器中。</p>
<p>IPv4的设计者用标识、标志、偏移字段进行分片和组装。</p>
<p>标识：拥有相同标识的来自于同一数据报</p>
<p>标志：最后一个片标志位0，其他为1</p>
<p>偏移字段：片在初始数据报中的位置</p>
</blockquote>
<h3 id="IPv4编址"><a href="#IPv4编址" class="headerlink" title="IPv4编址"></a>IPv4编址</h3><p>每台主机与路由器都能发送和接受IP数据报，从技术上讲，一个IP地址与一个接口相关联，而不是与包括该接口的主机或路由器相关联。一个接口的IP地址的一部分需要根据其子网来决定。</p>
<p>一台路由器（三个接口）用于互联七台主机，在左侧的三台主机，它们的IP是223.1.1.X。它们的前24位是相同的，这三个主机接口与1个路由器接口的网络形成一个<strong>子网（sub-net）</strong>。该网络可能由一个以太网LAN互联，或者通过无线接入点互联。IP编址为子网分配一个地址223.1.1.0/24（由223.1.1.1、223.1.1.2、223.1.1.3、223.1.1.4组成，任何其他要连到该子网的主机都要求IP为223.1.1.X） ，其中24有时被称为子网掩码。（分开路由器和主机的接口，产生的网络岛的数量即子网数量）</p>
<p><img src="https://img-blog.csdnimg.cn/7602d5c5ea6e4da29af0d8792fe073ed.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_11,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-7TtK9hQu-1639192835097)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211210231112350.png)]"></p>
<blockquote>
<p>在CIDR被采用之前，IP地址的网络部分被限制为长度8（C类网络 /24 254）、16（B类网络/16 65534）、24比特（A类网络 /8），这种不灵活性导致了空间的损耗以及所分配的地址空间利用率低下。<strong>这里为什么是254和65534是因为0和最大值（255/65535）用于特殊用途</strong>。</p>
<p>、</p>
<p>因特网的地址分配策略被称为无类别域间路由选择 <strong>（CIDR）</strong>，形式为a.b.c.d/x的x最高比特形成了IP地址的网络部分，称为该地址的前缀。我们将会在下一章看到，当组织外部的一台路由器转发一个数据报，仅需要考虑该地址的前面x比特。这相当大减少了再这些路由器中转发表的长度。一个地址剩余的32-x比特可认为是用于区分该组织内部设备的，其中的所有设备具有相同的网络前缀。当该组织内部的路由器转发分组时，才会考虑这些比特。这些较低比特可能具有另外的子网结构，比如a.b.c.d/21前21比特定义该网络前缀，该组织内部可以采用右边的11比特再划分，比如a.b.c.d/24表示更低层次的子网。</p>
</blockquote>
<p><strong>一个组织为其设备得到一个地址块，该组织从地址块中给设备分配到一个地址的过程：</strong></p>
<p><strong>1.获取一块地址</strong></p>
<p>ISP从已分给它的更大地址块中提供一些地址。比如ISP自己分到200.23.16.0/20。该ISP可以分为8个长度相等的连续地址块。为本ISP支持的最多达八个组织中的一个分配一块（/20 到 /23   2^3=8）。</p>
<p><img src="https://img-blog.csdnimg.cn/2f8f3331a40b4d1fa677b906e0676e31.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-FdE4muln-1639192835098)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211210235207882.png)]"></p>
<p>还有一种方法是直接通过ICANN组织分配一块IP地址。</p>
<p><strong>2.获取主机地址：DHCP</strong></p>
<p>某组织一旦获得了一块地址，它就可为本组织内的主机与路由器接口逐个分配IP地址。这项任务目前由动态主机配置协议 <strong>（Dynamic Host Configuration ，DHCP）</strong> 完成。DHCP允许主机自动获取IP地址，能够通过配置DHCP使得给定主机每次分配的是相同的IP或临时的IP，DHCP还允许主机得知它的子网掩码、它的第一跳路由器地址（默认网关）与它的本地DNS地址。</p>
<p>在最简单的场合下，每个子网有一个DHCP服务器，如果没有，则需要DHCP中继代理（通常是路由器），这个代理知道用于该网络DHCP的地址。</p>
<p><img src="https://img-blog.csdnimg.cn/2d99ba91ecdc4aa3a4dee5e0c72c08ab.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-JaBYvlpg-1639192835099)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211211000024433.png)]"></p>
<p>在上图中，对于一台新到达主机，DHCP过程如下：</p>
<p>（ IP广播地址255.255.255.255，当一台主机发出一个目的地址为255.255.255.255数据报时，该报文交付给同一网络中的所有主机。路由器有时向临近的子网有选择的转发该报文）</p>
<blockquote>
<p> DHCP服务器发现：一台新到达主机的首要任务是发现一个要与其交互的DHCP服务器。这可通过使用<strong>DHCP发现报文</strong>完成。客户使用UDP分组向端口67发送该发现报文。该UDP分组封装在一个IP数据报中。使用广播目的地址255.255.255.255并使用源IP为0.0.0.0。将IP数据报传递给链路层，链路层将该帧广播到所有与该子网连接的节点。</p>
<p> DHCP服务器提供：收到发现报文时，用<strong>DHCP提供报文</strong>做出响应，仍然使用广播（可能有多个DHCP，多个响应）。服务器提供了报文有收到的发现报文的事务ID，DHCP的IP地址、网络掩码以及IP地址租用期（该IP地址有效时长）。</p>
<p> DHCP请求：从一个或多个服务器响应中选择一个，用<strong>DHCP请求报文</strong>进行响应。</p>
<p> DHCP ACK：服务器用<strong>DHCP ACK报文</strong>对DHCP请求报文进行响应。</p>
<p> 一旦客户接收到ACK，交互完成，客户再租用期内可以使用该IP地址，DHCP只提供了固定地点分配IP</p>
</blockquote>
<p>我们的手机平时用到的是移动IP，移动IP技术是移动节点以固定的网络IP地址，实现跨越不同网段的漫游功能，并保证基于网络IP的网络权限在漫游过程中不发生任何改变。</p>
<h3 id="网络地址转换NAT"><a href="#网络地址转换NAT" class="headerlink" title="网络地址转换NAT"></a>网络地址转换NAT</h3><p><img src="https://img-blog.csdnimg.cn/906e81cccd734de98fee8789a459f5e0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_14,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-mz3ZPEWw-1639192835100)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211211095824648.png)]"></p>
<p>以下列出留用的内部私有地址<br>A类 10.0.0.0–10.255.255.255<br>B类 172.16.0.0–172.31.255.255<br>C类 192.168.0.0–192.168.255.255</p>
<blockquote>
<p>内部私有地址在世界各地主机有很多重复，私有地址只有在给定的子网中才有意义。从本质上讲，NAT隐藏了家庭网络的细节。所有离开家庭NAT路由器流向因特网的报文都有同一个公有IP，所有进入家庭的报文都拥有同一个目的IP地址。这个公有IP是从ISP的DHCP服务器得到的，主机又从NAT路由器中的NAT-DHCP中获取私有IP地址。</p>
<p>、</p>
<p>广域网到达NAT路由器的所有数据报都有相同的目的IP地址，路由器怎样知道应该将分组给哪个主机？</p>
<p><br>NAT路由器上有一张NAT路由表（NAT translation table），在表项中包含了端口号和IP地址。下图中，主机10.0.0.1请求IP地址为128.119.40.86的某台web服务器（80端口）。主机10.0.0.1为其指定了任意端口3345，发送到LAN中，NAT路由器收到该数据报，参照NAT表，更改其源IP地址和源端口号改为138.76.29.7，5001，web服务器发送响应报文，其目的地址是NAT路由器，响应报文到达路由器时，路由器使用目的地址和目的端口从NAT转换表检索出私有IP和端口，重写数据报的目的IP和目的端口，并向家庭网络转发该数据报。</p>
<p>（当生成一个新的LAN源端口号时，NAT路由器可任意选择一个当前未在NAT转换表中的WAN端口号。路由器中的NAT也在转换表转给你增加表项。）</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/746eb28c8d13403eb5df86d66547f513.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-drrzMRel-1639192835101)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211211100804264.png)]"></p>
<h3 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h3><blockquote>
<p>由于新的子网和IP节点以惊人的增长率连接到因特网上（并被分配唯一的IP地址），32比特的IP地址空间即将用尽。为了应对这种对大IP地址空间的需求，开发了一种新的IP协议，即IPv6（其实IPv4离耗尽还有可观的时间）。IPv6的设计者还再IPv4积累的运行经验基础上加进和强化了IPv4的其他方面。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/ddd3bb9140a84cb5b8d889aa980e6301.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-tnUkILem-1639192835102)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211211105305811.png)]"></p>
<p><strong>从IPv4到IPv6的迁移</strong></p>
<blockquote>
<p>在实践中已经得到广泛采用的IPv4到IPv6迁移的方法包括建隧道。建隧道依据的基本思想是：假定两个IPv6（图中BE）要使用IPv6数据报进行交互，但它们是经由中间IPv4路由器互联的。我们将两台IPv6路由器之间的中间IPv4路由器的集合称为一个隧道（tunnel），借助隧道在隧道发送端的IPv6节点（B）将整个IPv6数据报放到IPv4数据报的数据字段中。于是，该IPv4数据报的目的地址设为隧道接收端的IPv6节点（E）。隧道接收端的IPv6节点最终收到该IPv4数据报（它是通过观察IPv4中协议字段为41，指示有效载荷是IPv6），从中取出IPv6数据报，然后再为该IPv6数据报提供路由，好像它是从一个直接相连的IPv6邻居那里接收到该IPv6一样。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/d538a3714e7541aebfabdd983aae1722.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_13,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-7pM7wXNA-1639192835103)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211211110212571.png)]"></p>
<h1 id="网络层：控制平面"><a href="#网络层：控制平面" class="headerlink" title="网络层：控制平面"></a>网络层：控制平面</h1><h2 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h2><p><font color=blue><strong>注：和数据平面一样，省略了SDN及逻辑集中式控制（通用转发）</strong></font></p>
<blockquote>
<p>在数据平面中，我们看到转发表是链接网络层的数据平面和控制平面的首要元素，转发表定义了路由器数据平面转发行为，控制平面中，我们学习这些转发表是如何计算、维护和安装的。</p>
</blockquote>
<blockquote>
<p>控制平面作为一种网络范围的逻辑，不仅控制沿着从源主机到目的主机的端到端路径间的路由器如何转发数据报，而且控制网络层组件和服务如何进行配置和管理。在下一节中，我们将介绍两种路由选择算法，这些算法是因特网路由选择协议<strong>OSPF和BGP</strong>的基础。</p>
<p>OSPF是一种运行在单一节点ISP网络中的路由选择算法。BGP是一种在因特网中用于互联所有网络的路由选择算法。因此常被称为因特网的粘合剂。传统上，控制平面功能与数据平面的转发功能在一起实现，在路由器中作为统一的整体。</p>
<p>最后，我们将涉及管理IP网络的某些具体细节：<strong>ICMP（互联网控制报文协议）</strong> 和 <strong>SNMP（简单网络管理协议）</strong></p>
</blockquote>
<h2 id="路由选择算法"><a href="#路由选择算法" class="headerlink" title="路由选择算法"></a>路由选择算法</h2><h3 id="问题建模"><a href="#问题建模" class="headerlink" title="问题建模"></a>问题建模</h3><p>可以用图来形式化描述路由选择问题。</p>
<p><img src="https://img-blog.csdnimg.cn/ba6b24e89f1647579ba8732a8fe8c413.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-osw1Fr7m-1639390181951)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211212102023722.png)]"></p>
<p>图G=(N，E)是一个N个节点和E条边的集合。节点表示路由器，边表示路由器之间的物理链路，一条边还有一个值c（x，y）表示它的开销（代表链路速度、金钱开销等）。如果节点对（x，y）不属于E，置c（x，y）=∞。最低开销路径就是求图G中的一条路径（x1，x2，x3，…，xp）。</p>
<h3 id="路由算法分类"><a href="#路由算法分类" class="headerlink" title="路由算法分类"></a>路由算法分类</h3><p>根据该算法是集中式还是分散式来分：</p>
<ul>
<li>集中式路由选择算法，具有关于连通性和链路开销方面的完整信息。<strong>链路状态（Link State，LS）算法</strong>。<strong>基于该算法实现协议有OSPF</strong></li>
<li>分散式路由选择算法，以迭代、分布式方式计算出最低开销路径。每个节点仅有与其直接相连链路的开销，通过迭代计算以及与相邻节点信息交换，逐渐计算出最低开销路径，更天然适合路由器直接交互的控制平面。<strong>距离向量（Distance-Vector，DV）算法</strong>。<strong>基于这类算法实现的协议有RIP、BGP</strong></li>
</ul>
<p>根据算法是静态还是动态来分：</p>
<ul>
<li>静态路由选择算法，路由随时间变化非常缓慢，通常人工进行调整。广泛用于军事网络和较小的商业网络</li>
<li>动态路由选择算法，随着网络流量负载或拓扑发生变化（开销变化）而改变路由选择路径，容易受到路由选择循环、路由震荡的影响。LS和DV都是动态路由选择算法。</li>
</ul>
<p>根据它是负载敏感的还是负载迟钝的来分：</p>
<ul>
<li>负载敏感算法，链路开销动态变化反应底层链路的当前拥塞水平</li>
<li>负载迟钝算法，当前因特网路由选择算法（RIP、OSPF、BGP）都是负载迟钝的，某条链路的开销不明确的反应当前的拥塞水平。</li>
</ul>
<h3 id="LS算法"><a href="#LS算法" class="headerlink" title="LS算法"></a>LS算法</h3><blockquote>
<p>实践中通过让每个节点向网络中的所有其他节点广播链路状态分组来完成，其中每个链路状态分组包含它所连接的链路的标识和开销。节点广播的结果是所有节点都具有该网络的统一、完整的视图。每个节点都能运行LS算法并计算出相同的最短路径集合。这个过程可以通过<strong>Dijkstra算法</strong>完成。当LS算法终止时，每个节点的转发表中，对每个目的节点存放最低开销路径的下一跳节点。</p>
<p><img src="https://img-blog.csdnimg.cn/3f95a787432642a38199b048069d182a.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-nl6ocrAJ-1639390181953)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211212221917357.png)]"></p>
<p>源节点为u，</p>
<p>D(v)：到算法的本次迭代，从源节点到目的节点的最低开销路径的开销</p>
<p>p(v)：从源到v沿着当前最低开销路径的前一节点</p>
<p>N’ ：如果从源到v的最低开销路径已经确定，v在N’中</p>
<p>在第0次迭代中，与u直接相连的有v，x，w，已知最低开销为2、1、5。y和z没有直接连接，用无穷表示。</p>
<p>在第一次迭代中，选择与u连接的开销路径最小的假如N’，即x加入N’。与x直接相连的有v、w、y，分别为2、3、1。min uv(2，ux+xv=1+2=3)=2  ;   min uw(5，ux+xw=1+3=4)=4 ; min uy(无穷，ux+xy=1+1=2)=2 ; min uz(无穷，ux+xz=1+无穷=无穷)=无穷 ; </p>
<p>如此等等。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/c7bcfba36d72489d99353554a524f990.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-K1ceV0DD-1639390181953)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211212221323865.png)]"></p>
<p>当LS算法终止时，对于每个节点，我们都得到从源节点沿着它的最低开销路径的前一节点。对于每个前一节点，我们又有它的前一节点，以此方式我们可以构建从源节点到所有目的节点的完整路径。通过对每个目的节点存放从u到目的地的最低开销路径上的下一跳节点，在一个节点中的转发表能够根据此信息构建。（比如u节点到w节点，在u节点转发表中，目的地为w的表项，使用Dijkstra算法计算最短路径的下一跳为x，而在x节点使用Dijkstra算法计算的x到w节点最短路径的下一跳为v，当然这里这条最短路径也是u节点中计算uw路径的一部分，v节点使用Dijkstra算法计算的v到w节点最短路径下一跳为w）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> suanfa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dijkstra</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">boolean</span>[] already_arr; <span class="comment">//节点是否被访问过</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span>[] pre_visited;<span class="comment">//路径前一节点</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span>[] dis; <span class="comment">//出发顶点到其他顶点的距离</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span>[][] edges; <span class="comment">//存储图对应的邻接矩阵</span></span><br><span class="line">	<span class="keyword">int</span> start;</span><br><span class="line">	<span class="keyword">int</span> length;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span>[][] edges)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.length = edges.length;</span><br><span class="line">		<span class="keyword">this</span>.already_arr = <span class="keyword">new</span> <span class="keyword">boolean</span>[length];</span><br><span class="line">		<span class="keyword">this</span>.pre_visited = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">		<span class="keyword">this</span>.edges = edges;</span><br><span class="line">		<span class="keyword">this</span>.start = start;</span><br><span class="line">		<span class="keyword">this</span>.dis = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">		already_arr[start] = <span class="keyword">true</span>;</span><br><span class="line">		pre_visited[start] = <span class="number">65535</span>;</span><br><span class="line">		Arrays.fill(dis, <span class="number">65535</span>);</span><br><span class="line">		dis[start] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dsj</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> index = start;</span><br><span class="line">		update(index);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt; length; j++)&#123;</span><br><span class="line">			index = updateArr();</span><br><span class="line">			update(index);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//到此算法完成</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">updateArr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> min = <span class="number">65535</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; length;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!already_arr[i] &amp;&amp; dis[i]&lt;min)&#123;</span><br><span class="line">				index = i;</span><br><span class="line">				min = dis[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		already_arr[index] = <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">return</span> index;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span>  j = <span class="number">0</span>;j &lt; length;j++)&#123;   <span class="comment">//找出index所有相邻节点，进行一个更新</span></span><br><span class="line">			len = dis[index] + edges[index][j];</span><br><span class="line">			<span class="keyword">if</span>(len &lt; dis[j])&#123;</span><br><span class="line">				pre_visited[j] = index;</span><br><span class="line">				dis[j] = len;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="DV算法"><a href="#DV算法" class="headerlink" title="DV算法"></a>DV算法</h3><p>距离向量算法是一种迭代的、异步的、分布式的算法，说它是分布式的，是因为每个节点都要从一个或多个直接相连的邻居接收某些信息，执行计算，然后将其计算结果发给邻居。说它是迭代的，因为此过程一直要持续到邻居之间无更多信息要交换为止。说它是异步的，是因为它不要求所有节点相互之间步伐一致的操作。<strong>RIP、BGP采用DV算法。</strong></p>
<p><strong>Bellman-Ford方程：dx(y)= minv{ c(x,v) + dv(y) }</strong></p>
<p>dx(y)是从节点x到节点y的最低开销路径的开销</p>
<p>minv{ c(x,v) + dv(y) }   min(x到邻居的开销+该邻居到y的最低开销）</p>
<p>下图举例说明了DV算法的运行：</p>
<p>第一列中显示了三个节点格子的初始路由选择表，初始时是预估的路径开销（这里初始预估为直接连接的长度）。每个节点只有自己和其相邻节点的信息。</p>
<p>第二列中节点x收到y和z的信息，更新2、3两行，根据这个信息，计算：minv( c(x，y) + dy(z)  ，c(x，x) + c(x，z) ) = minv(3，7)=3             minv( c(x，z) + dz(y) ，c(x，x) + c(x，y)) = minv(8，2)=2   ，y、z同理</p>
<p>第三列中x将更新的信息发到y、z，首先更新yz中第一行，然后根据该信息进行更新，计算得没有可以更新的。y、z发送更新信息同理。同样没有可以更新的。所以迭代结束。</p>
<p><img src="https://img-blog.csdnimg.cn/92e4c365b5c548c68ea5d4a0741e6cc8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_11,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-eStdhG9G-1639390181954)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211213112238673.png)]"></p>
<h3 id="LS与DV比较"><a href="#LS与DV比较" class="headerlink" title="LS与DV比较"></a>LS与DV比较</h3><ul>
<li>报文复杂性：LS要求每个节点都知道网络中每条链路的开销。这就要求发送O(NE)个报文。而且无论何时一条链路的开销改变时，必须向所有节点发送新的链路开销。DV要求在每次迭代时，有两个直接相连的邻居之间交换报文。当链路开销改变时，DV算法仅当新的链路开销导致与该链路相连节点的最低开销路径发生改变时，才传播已改变的链路开销（比如上例中xz链路开销变为6，对于x和z均不改变其最低开销，所以不传播）。</li>
<li>收敛速度：我们已经看到LS的实现是一个要求O(NE)个报文的O(N^2)算法。DV算法收敛较慢，且在收敛时会遇到路由选择环路和无穷计数的问题。</li>
</ul>
<h2 id="OSPF、RIP、BGP"><a href="#OSPF、RIP、BGP" class="headerlink" title="OSPF、RIP、BGP"></a>OSPF、RIP、BGP</h2><blockquote>
<p>在我们至今为止的算法研究中，我们将网络只看做一个互联路由器的集合。从所有路由器执行相同的路由选择算法以计算穿越整个网络的路由选择路径的意义上来说，一台路由器很难同另一台路由器区别开来。在实践中，这种一组执行同样路由算法的同质路由器集合的观点有一点简单化。</p>
</blockquote>
<blockquote>
<p>该简单化有一下两个重要原因：</p>
<p>1.规模：在所有路由器之间广播连通性和链路开销更新所要求的负担将是巨大的，在如此大量的路由器中迭代的DV算法肯定永远无法收敛。</p>
<p>2.管理自治，ISP希望按自己的意愿运行和管理器网络，将其网络与其他外部网络连接起来。</p>
<p>这两个问题可以通过将路由器组织进自治系统（Autonomous System，AS）来解决，通常在一个ISP中的路由器以及互联它们的链路构成一个AS（和ISP一样分级）。一个AS由唯一的AS号标识。在相同AS中的路由器运行相同的路由选择算法，叫做<strong>自治系统内部路由选择协议（RIP基于DV、OSPF基于LS，目前OSPF是主流的）</strong>。当分组跨越多个AS进行路由，需要一个<strong>自治系统间路由选择协议（BGP，基于DV）</strong>，在因特网中，所有的AS运行相同的AS间路由选择协议，即BGP。</p>
</blockquote>
<h3 id="自治系统内部路由选择协议：OSPF"><a href="#自治系统内部路由选择协议：OSPF" class="headerlink" title="自治系统内部路由选择协议：OSPF"></a><strong>自治系统内部路由选择协议：OSPF</strong></h3><p>OSPF是一种链路状态协议，它使用洪泛链路状态信息和Dijkstra最低开销路径算法。每台路由器都在本地运行Dijkstra最低开销路径算法，以确定一个以自身为根节点到所有子网的最短路径树。链路开销是由网络管理员配置的。使用OSPF时，路由器向自治系统内所有其他路由器广播路由选择信息，每当一条链路发生变化时，路由器就会广播链路状态信息。即使未发生变化，它也要周期性广播。链路状态通告的这种周期性更新增加了DV算法的健壮性。<strong>OSPF通告包含在OSPF报文中，该报文由IP报文承载，IP上层协议字段为89（OSPF被认为是运输层协议，RIP基于UDP，被认为是应用层协议），因此OSPF协议必须自己实现诸如可靠报文传输、链路状态广播等功能</strong>。</p>
<h3 id="自治系统间路由选择协议（BGP）"><a href="#自治系统间路由选择协议（BGP）" class="headerlink" title="自治系统间路由选择协议（BGP）"></a><strong>自治系统间路由选择协议（BGP）</strong></h3><p>BGP中，分组并不是路由到一个特定的目的地址，相反路由到CIDR化的前缀，其中每个前缀表示一个子网或一个子网的集合。在BGP的世界中，一个目的地可以采用138.16.68/22的形式，对于这个例子来说包括1024个IP地址。因此一台路由器的转发表将具有形式为（x，I）的表项，x表示目的IP前缀，I表示路由器输出链路的接口号。</p>
<p>1.BGP从邻居AS获得前缀的可达性信息。如果没有BGP，每个子网都不能知道其他AS中子网的可达性信息。对于每个AS，与其他AS中路由器有连接的叫做网关路由器，没有连接的叫做内部路由器。BGP通过使用179端口的TCP连接交换路由选择信息（<strong>BGP被认为是应用层协议</strong>），跨越AS的BGP连接称为 <strong>外部BGP连接</strong>，相同AS内的链接称为内部BGP连接。</p>
<p>在下图中，AS3向AS1和AS2中的所有路由器通告AS3子网前缀x的可达性信息。在这个过程中，网关路由器3a先向网关路由器2c发送一个eBGP报文“AS3 x”。网关路由器2c然后向AS2中的所有路由器发送iBGP报文“AS3 x”。网关路由器2a接下来向网关路由器1c发送一个eBGP报文“AS2 AS3 x”。在这个过程完成后，在AS1和AS2中的每个路由器都知道了x的存在并且也都知道了通往x的AS路径。</p>
<p><img src="https://img-blog.csdnimg.cn/0adfa6bb0e7f4e62ad48aac5fc53dd42.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-X6aXmeFg-1639390181954)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211213151917064.png)]"></p>
<p>2.一台路由器可能根据可达性信息知道多条到特定前缀的路由（BGP属性+目的前缀，BGP属性有NEXT-HOP、AS-PATH、等，比如AS1中路由器到目的前缀x的路由为       路由器2a最左侧接口的IP地址：AS2 AS3；x），路由器基于策略选择较好的路由并配置转发表。</p>
<p>在实践中，对于任何给定的目的地前缀，进入BGP路由选择算法的输入是到某前缀的所有路由的集合。如果仅有一条这样的路由，直接选择该条路由；否则按照下列顺序消除直到只剩下一条路由。</p>
<p>1）路由被指派本地偏好值作为其BGP属性之一，该值是一种策略决定，不做讨论。选择最高本地偏好值的路由。</p>
<p>2）在余下的路由中，选择有最短AS-PATH的路由。如果该规则是路由选择的唯一规则，则BGP将使用DV算法决定路径（余下的是开销跳数相同的路径，前面DV中对于开销相同的路径情况中是忽略），其中距离测度是AS的跳数而不是路由器的跳数。</p>
<p>3）从余下的路由中，使用热土豆路由选择（使用OSPF协议尽可能将分组送出本AS），即选择具有最靠近NEXT-HOP路由器的路由。</p>
<p>4）如果仍留下多条路由，该路由器使用BGP标识符来选择路由。</p>
<h3 id="单播、组播、广播、任播"><a href="#单播、组播、广播、任播" class="headerlink" title="单播、组播、广播、任播"></a>单播、组播、广播、任播</h3><ul>
<li>单播：在IPv4网络中，0.0.0.0到223.255.255.255属于单播地址。 现在所有的网络浏览都是单播。网络中的路由器和交换机根据其目标地址选择传输路径，将IP单播数据传送到其指定的目的地。</li>
<li>组播（多播）：使用一个组播地址将数据在同一时间以高效的方式发往多个接受者，网络视频会议适合使用组播方式。组播报文的目的地址使用D类IP地址。消息在每条网络上传递一次，链路分叉时，网络中的路由器有选择复制并传输数据，传输到那些加入组中的主机。</li>
<li>广播：通常广播都限制在局域网中，路由器对每一台主机发出的广播无条件复制转发到其他主机。DHCP中使用了广播。IPv4用全1的地址表示广播，即255.255.255.255</li>
<li>任播：<strong>除了作为因特网的AS间路由选择协议外，BGP常被用于实现IP任播</strong>。其实BGP AnyCast是不同服务器使用了相同的ip地址（比如DNS根服务器！），多台拥有相同IP的服务器向网络发送可达性信息即IP前缀。当发送方发送报文给共享单播地址时，报文会根据BGP协议 从多个目的前缀相同的主机中选择离发送方最近的一台。</li>
</ul>
<h2 id="ICMP：因特网控制报文协议"><a href="#ICMP：因特网控制报文协议" class="headerlink" title="ICMP：因特网控制报文协议"></a>ICMP：因特网控制报文协议</h2><blockquote>
<p>ICMP通常被认为是IP的一部分，它是承载在IP报文中的，当一台主机收到一个指明上层协议为ICMP的IP数据报时（上层协议字段为1），它分解出该数据报的内容给ICMP。</p>
<p>ICMP报文有一个类型字段和一个编码字段指示差错类型，并且包含引起该ICMP报文首次生成的IP数据报的首部和前8个字节以便发送方能确定引发该差错的数据报。当然，ICMP最典型的用途是差错报告，但不仅仅用于此（比如还有用于ping程序的回显请求报文和回显回答报文）。</p>
</blockquote>
<p><font color=blue><strong>注：这里差错报告报文分类使用国内课本说法，本书中说法也许更贴近实践和详细但略显杂乱</strong></font></p>
<p>ICMP 差错报告报文：</p>
<p>1.终点不可达：当路由器或主机不能交付数据报时就向源点发送终点不可达报文</p>
<p>2.源点抑制：实践中很少使用，当路由器或主机由于拥塞而丢弃数据报时，就向源点发送源点抑制报文。</p>
<p>3.时间超过：当路由器收到生存时间TTL=0的数据报，丢弃该数据报，向源点发送时间超过报文，终点在预先规定的时间内不能收到一个数据报的全部数据报片，把已收到的报文片全部丢弃向源点发送时间超过报文。</p>
<p>4.参数问题：路由器或目的主机收到的数据报的首部中有的字段的值不正确，丢弃该数据报，并向源点发送参数问题报文。</p>
<p>5.改变路由：路由器把改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器</p>
<h1 id="链路层和局域网"><a href="#链路层和局域网" class="headerlink" title="链路层和局域网"></a>链路层和局域网</h1><h2 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h2><h3 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h3><p>节点：运行链路层协议的任何设备都称为节点。</p>
<p>链路：我们把沿着通信路径连接相邻节点的通信信道称为链路</p>
<p>链路层帧：在通过特定的链路时，传输节点将数据报封装在链路层帧中，并将该帧传送到链路中。</p>
<h3 id="链路层与网络层"><a href="#链路层与网络层" class="headerlink" title="链路层与网络层"></a>链路层与网络层</h3><p>网络层的路由选择协议负责决定数据报传输的路径，链路层协议决定在链路上的运输方式。</p>
<h3 id="提供的服务"><a href="#提供的服务" class="headerlink" title="提供的服务"></a>提供的服务</h3><blockquote>
<p>尽管任一链路层的基本服务都是将数据报通过单一通信链路从一个节点移动到相邻节点，但所提供的服务细节能够随着链路层协议的不同而变化。链路层能够提供的可能服务包括：</p>
<p><strong>成帧</strong>：网络层数据报在经链路传送之前，几乎所有的链路层协议都要将数据报用帧封装起来。一个帧由一个数据字段和若干首部字段组成，网络层数据报就插在数据字段中。</p>
<p><strong>链路接入</strong>：媒体访问控制<strong>（Medium Access Control，MAC）</strong>协议规定了帧在链路上传输的规则。多个节点共享单个广播链路时，即多路访问问题。MAC协议用于协调多个节点的帧传输。</p>
<p><strong>可靠交付</strong>：当链路层协议提供可靠交付服务时，它保证无差错经链路层移动每个网络层数据报。前面某些运输层（TCP）也提供可靠交付服务。与运输层可靠交付服务类似，链路层的可靠交付服务是通过确认和重传取得的。通常用于易于产生高差错率的链路，例如无线链路，<strong>其目的是在两个节点间进行可靠传输，而不是通过运输层或应用层协议迫使进行端到端的数据重传</strong>。然而，对于低比特差错的链路，包括光纤、同轴电缆和许多双绞铜线链路，链路层可靠交付可能被认为是一种不必要的开销，由于这个原因，许多有线的链路层协议不提供可靠交付服务。（这里本人认为差错）</p>
<p><strong>差错检测和纠正</strong>：（<strong>相比可靠传输，差错纠正不能解决丢失、重复、失序差错，只能检测和纠正比特级差错</strong>）当帧中传输出现比特差错时。这种比特差错是由信号衰减和电磁噪声导致的。许多链路层协议提供一种机制来检测这样的比特差错。通过让发送节点在帧中包括差错检测比特，接收方进行差错检查，来完成这项工作。运输层和网络层也都提供了优先形式的差错检测，即因特网检验和。区别在于链路层的差错检测更复杂，并且用硬件实现，接收方不仅能检测帧中出现的比特差错，而且能够准确确定帧中出现差错的位置并纠正差错。</p>
</blockquote>
<h3 id="何处实现"><a href="#何处实现" class="headerlink" title="何处实现"></a>何处实现</h3><blockquote>
<p>链路层是实现在路由器的线路卡中的。</p>
<p>主机中的链路层是在网络适配器（有时被称为网络接口卡，可以看做I/O设备）中实现的。位于适配器核心的是链路层控制器，该控制器是一个实现了许多链路层服务的专用芯片。</p>
<p>在发送端（主机或路由器），控制器取得由协议栈较高层生成并存储在主机内存中的数据报，在链路层帧中封装该数据报，然后遵循链路层协议将该帧传进通信链路中。在接收端（主机或路由器），控制器接收整个帧，取出IP数据报。如果链路层协议提供了差错检测，需要发送控制器在帧首部设置差错检测比特，由接收控制器执行差错检测和纠正。</p>
</blockquote>
<h2 id="差错检测和纠正技术"><a href="#差错检测和纠正技术" class="headerlink" title="差错检测和纠正技术"></a>差错检测和纠正技术</h2><p>差错检测与纠正的场景，D为数据报+帧首部，EDC Error- Detection and- Correction，检测和纠正比特</p>
<p><img src="https://img-blog.csdnimg.cn/4ddb5f8fe320437a89cd12cbaf259f17.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_12,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="检错编码-奇偶校验码"><a href="#检错编码-奇偶校验码" class="headerlink" title="检错编码-奇偶校验码"></a><strong>检错编码-奇偶校验码</strong></h3><p>假设我们发送信息比特为1100101，有4个1，即偶数个1，我们需要在前面加一个1构成奇数个1（11100101）。当接收方接收到该比特，如果1的个数为偶数，说明出现奇数个差比特错（11100100），不能检测出偶数个比特差错（11100000）。</p>
<p>奇偶校验码用来描述差错检测和纠正背后的思想。</p>
<h3 id="检验和"><a href="#检验和" class="headerlink" title="检验和"></a>检验和</h3><p>数据的字节作为16比特的整数对待并求和，这个和的反码形成了携带在报文段首部的因特网检验和（检验时用新计算的和+检验和=全1）。这种方法已经在运输层讨论过，并且也主要是应用在运输层。运输层使用较简单的检验和是因为使用软件，简单而快速的差错检测是必须的，链路层使用硬件可以使用CRC这种更复杂的操作。</p>
<h3 id="循环冗余检测"><a href="#循环冗余检测" class="headerlink" title="循环冗余检测"></a>循环冗余检测</h3><p><img src="https://img-blog.csdnimg.cn/45379b21faa3464890abfabe00b73695.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ryiLbBoN-1639798434788)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211214091440840.png)]"></p>
<p>（要发送的数据）% 生成多项式 = 冗余码FCS</p>
<p>最终发送的数据=要发送的数据 + FCS</p>
<p>假设要发送数据为1101011011生产多项式为10011   则阶为4（5-1），在要发送数据后面加上4个0，即11010110110000，该数对生成多项式做模2运算（XOR），获得余数1110（校验比特）。</p>
<p>在接收端用11010111011 1110除以多项式，如果余数为0，则无差错，否则有差错直接丢弃。</p>
<p><img src="https://img-blog.csdnimg.cn/90adcacc8b4b4b7b9f262705dce5a193.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-LW85dv7h-1639798434789)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211214090956495.png)]"></p>
<h3 id="向前纠错（Forward-Error-Correction，FEC）"><a href="#向前纠错（Forward-Error-Correction，FEC）" class="headerlink" title="向前纠错（Forward Error Correction，FEC）"></a><strong>向前纠错（Forward Error Correction，FEC）</strong></h3><p>常见的FEC技术有汉明码（能纠正单比特差错）等。</p>
<h2 id="多路访问链路协议"><a href="#多路访问链路协议" class="headerlink" title="多路访问链路协议"></a>多路访问链路协议</h2><p><img src="https://img-blog.csdnimg.cn/c280b76d2afb4900878032bb21f80d95.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-HYo7zbqc-1639798434792)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211214140501789.png)]"></p>
<h3 id="信道划分协议"><a href="#信道划分协议" class="headerlink" title="信道划分协议"></a>信道划分协议</h3><p>FDM和TDM在前面介绍过。</p>
<blockquote>
<p>CDMA(Code Division Multiple Access)对每个节点分配一种不同的编码。然后每个节点用它唯一的编码来对它发送的数据进行编码。不同的节点能够同时传输，并且它们各自相应的接收方仍能正确接收发送方编码的数据比特。目前广泛的用于蜂窝电话中。</p>
</blockquote>
<p>信道划分协议在网络负载重时共享信道效率高且公平。网络负载轻时，共享信道效率低。</p>
<h3 id="随机接入协议"><a href="#随机接入协议" class="headerlink" title="随机接入协议"></a>随机接入协议</h3><blockquote>
<p>信道空闲：半双工，本节点没有其他比特到达，表示信道空闲。</p>
</blockquote>
<p><strong>纯ALOHA</strong>：不监听信道，发送方在一定时间收不到确认随机重发。</p>
<p>时隙ALOHA：把时间分成若干时间片，所有用户在时间片开始时刻同步接入网络信道，若发生冲突（发送方在一定时间收不到确认），则必须等到下一个时间片开始时刻再发送。</p>
<p><strong>CSMA（carrier sense multiple access）： 载波侦听，一个节点在传输前先听信道。如果来自另一个节点的帧正向信道上发送，节点则等待直到检测到一小段时间没有传输，然后开始传输</strong>。CSMA没有碰撞检测，即使已经出现碰撞，仍然继续完整传输它们的帧。如果有发送方在一定时间收不到确认，<strong>等待一个随机时间</strong>后再侦听信道，空闲时重传。</p>
<p>关于CSMA可能你会问，如果所有的节点都进行载波监听了，为什么还会发生碰撞？</p>
<p>时刻t0，B节点侦听到信道空闲，传输它的比特，比特沿着媒体传输所需的时间并不是0。在t1时刻，D节点有一个帧要发送，尽管B在时刻t1正在传输，但B传输的比特还没有到达D，因此D在t1侦听到信道空闲，D传输它的帧，B的传输在D干扰D的传输。在这个过程中，广播信道的端到端信道传播时延是关键的影响。</p>
<p><img src="https://img-blog.csdnimg.cn/e6eb32c42bdd4e96be37e1d11669cc02.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_7,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-0EsGD2ef-1639798434793)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211214124932109.png)]"></p>
<p><strong>CSMA/CD(carrier sense multiple access with Collisiono Dection)：</strong>在载波侦听的基础上，添加碰撞检测！<strong>碰撞检测，当一个传输节点在传输时一直侦听信道，如果它检测到另一个节点在传输干扰帧，它就停止传输。</strong>在重复侦听-当空闲时传输 循环之前<strong>等待一段随机时间</strong>。在CSMA和CSMA/CD中这个等待的随机时间可以用<strong>二进制指数后退算法</strong>来实现。<strong>以太网使用CSMA/CD技术。</strong></p>
<p><img src="https://img-blog.csdnimg.cn/ddfe5fb2fb3144b99f9f039f46add45a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_8,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2tb1bNCV-1639798434794)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211214130929891.png)]"></p>
<p><strong>CSMA/CA(carrier sense multiple access with Collisiono avoidance)：</strong>一般在无线局域网中使用，因为在无线网中使用CD很困难。所以<strong>没办法做检测碰撞</strong>，<strong>只能做碰撞避免</strong>。在发送每个数据之前都检测信道是否空闲，空闲则发出RTS（request to send）；信道忙则等待。接收端收到RTS，响应CTS（clear to send）。接收端收到CTS，开始发送数据帧，同时告知其他站点自己要传多久数据，保证其他站点不会干扰自己。接收端收到数据帧，CRC检验数据是否正确，正确则响应ACK帧，发送方收到ACK就可以进行写一个数据帧的发送。如果没有一直重传到规定重发次数为止（使用二进制指数后退算法来确定随机的推迟重发时间）。</p>
<p><font color=blue><strong>注：省略了书中DOCSIS协议</strong></font></p>
<h3 id="轮流协议"><a href="#轮流协议" class="headerlink" title="轮流协议"></a>轮流协议</h3><p><strong>轮询协议:</strong> 节点之一被指定为主节点，主节点轮询邀请从属节点发送数据，当一个从属节点接收邀请发送数据，其他从属节点不能发送数据，邀请完所有从属节点循环从头再开始邀请。缺点是轮询时延和单点故障。</p>
<p><strong>令牌传递协议：</strong> 一个称为令牌的帧在节点之间以某种固定的次序进行交换。当一个节点收到该令牌时，仅当它有一些帧要发送时，它才持有这个令牌，否则把令牌给下一个节点。令牌传递是分散的，并有很高的效率。</p>
<h2 id="交换局域网"><a href="#交换局域网" class="headerlink" title="交换局域网"></a>交换局域网</h2><p><img src="https://img-blog.csdnimg.cn/9ad47238a331409784e1b5af61c2d99f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_17,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-AURAk3du-1639798434795)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211218110922931.png)]"></p>
<h3 id="MAC与ARP"><a href="#MAC与ARP" class="headerlink" title="MAC与ARP"></a>MAC与ARP</h3><p>主机和路由器的适配器具有链路层地址，即MAC地址。世界上不存在MAC地址相同的适配器。</p>
<p>当某适配器要向目的适配器发送一个帧，发送适配器将目的适配器的MAC地址插入该帧中，并将该帧发送到局域网上，一台交换机将一个入帧广播到它的所有接口。因此适配器可以接收一个并非向它寻址的帧，这样当适配器接收到一个帧时，将检查该帧中的目的MAC地址是否与它自己的MAC地址匹配。如果匹配，该适配器提取出封装的数据报，并将该数据报沿协议栈向上传递。如果不匹配，该适配器丢弃该帧，而不会向上传递该网络数据报。</p>
<p><strong>以一个例子来说明发送数据到 子网内、外的过程</strong></p>
<p><img src="https://img-blog.csdnimg.cn/339d28b34f744e99bda96784fe007097.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-kiof3qUw-1639798434797)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211218092152846.png)]"></p>
<p>现在假设主机220向主机222发送数据，为了发送数据报，该源必须向它的适配器不仅提供IP数据报，而且要提供目的主机222的MAC地址。然后发送适配器将构造一个包含目的MAC地址的链路层帧，并把帧发送进局域网。ARP为同一个子网上的主机和路由器接口解析IP地址，每台主机或路由器在内存中有一个ARP表，这张表包含IP地址到MAC地址的映射关系，每个表项都有寿命TTL。如果ARP中当前没有目的主机表项，比如220向222发送，发送方构造一个ARP分组，ARP查询分组和响应分组有相同的格式，ARP查询分组的目的是询问子网上所有其他主机和路由器（使用MAC广播地址FF-FF-FF-FF-FF-FF），包含该ARP查询的帧能被子网上的所有其他适配器接收到，并且每个适配器都把该帧中的ARP分组向上传递给ARP模块。这些ARP模块中的每个都检查它的IP地址是否与ARP分组中的目的IP地址相匹配，与之匹配的一个给查询主机发送回一个带有所希望映射的响应ARP分组（响应分组是标准帧，而非广播帧），然后查询主机220能够更新它的ARP表，并发送它的IP数据报，该数据报封装在一个链路层帧中，并且该帧的目的MAC就是对先前ARP请求进行响应的主机或路由器的MAC地址。</p>
<p><img src="https://img-blog.csdnimg.cn/304b13508f2640d6a45a1b3959fcdedf.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-1yJCcOYn-1639798434798)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211218093955949.png)]"></p>
<p><img src="https://img-blog.csdnimg.cn/29677418047c411daff71e58f91fa80f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_18,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-GztYECsv-1639798434799)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211218100253550.png)]"></p>
<p>当子网中的某主机要向子网之外的主机发送网络层数据报，一台路由器每个接口有一个IP和一个MAC。假设主机111向主机222发送一个数据报，该数据报必须首先发送给路由器接口110，发送主机可以用ARP得到110的MAC地址，得到MAC地址后就可以将该帧发送给路由器的110接口，路由器将这个帧给路由器的网络层，查询转发表将该数据报传递给接口220，然后该接口将数据报传递给它的适配器，适配器将数据报封装到一个新的帧中，此时目的MAC地址是目的主机的MAC地址（同样使用ARP）。</p>
<h3 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h3><blockquote>
<p>今天，以太网是到目前为止最流行的有限局域网技术，而且到可能预见的未来他可能仍保持这一位置。以太网对本地区域联网的重要性就像因特网对全球联网所具有的地位那样。</p>
</blockquote>
<p><strong>拓扑结构</strong></p>
<ul>
<li>总线拓扑：70年代，一种广播局域网，所有传输的帧传送到与该总线连接的所有适配器并被其处理。</li>
<li>集线器星型拓扑：90年代，基于集线器，集线器（hub）是一种物理层设备，当比特到达一个接口时，集线器重新生成这个比特，并将该比特向其他所有接口传输出去，因此，采用基于集线器的星型拓扑的以太网也是一个广播局域网</li>
<li>交换机星型拓扑：21世纪初，以太网继续使用星型拓扑，但中心的集线器变为交换机（switch）。交换机是无碰撞的，交换机运行在第二层。（网桥，交换机是多个bridge）</li>
</ul>
<blockquote>
<p>多年来以太网经历了一系列的演化步骤，今天的以太网非常不同于使用同轴电缆的初始总线拓扑的设计，在今天大多数的安装中节点经点对点的由双绞铜线或光纤线缆构成的线段与一台交换机相连（比如上面ARP中的图）。在总线拓扑和集线器星型拓扑时代，以太网显然是一种广播链路，多个节点会出现帧碰撞，为了处理这些碰撞，使用CSMA/CD协议。交换机在任何时候绝不会向相同的接口转发超过一个帧，此外现代交换机是全双工的，这使得一台交换机和一个节点能够在同时向对方发送帧而没有干扰，即不会发生碰撞，因此没有必要使用MAC协议了！</p>
</blockquote>
<p><strong>以太网帧结构</strong></p>
<p><img src="https://img-blog.csdnimg.cn/a54621ae359743e8bb2ef3b0c676c9f3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-iQxCzw6y-1639798434800)(C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211218104016041.png)]"></p>
<h3 id="链路层交换机"><a href="#链路层交换机" class="headerlink" title="链路层交换机"></a>链路层交换机</h3><blockquote>
<p>交换机自身对子网中的主机和路由器是透明的（理论意义上的路由器已经被三层交换机取代，高端路由器和高端三层交换机其实是差不多一个东西，路由功能用于算，交换功能用于发），这就是说，某主机向另一个主机发送帧，将该帧发送进局域网，并不知道某交换机会接受该帧并将它转发到另一个节点。这些帧到达该交换机的任何输出接口之一的速率可能暂时会超过该接口的链路容量。为了解决这个问题，交换机输出接口设有缓存。</p>
<p>过滤是决定一个帧应该转发到某个接口还是应当将其丢弃的交换机功能。转发是决定一个帧应该被导向哪个接口，并把该帧移动到那些接口的交换机功能。两个功能都借助交换机表完成，交换机表是自学习的，即一个帧过来，该源MAC地址不再表中，存储该帧源MAC地址以及进入交换机的接口、到达时间。</p>
<p>假定目的地址DD-DD-DD-DD-DD-DD的帧从交换机接口x到达，交换机用该MAC索引表。表中没有该表项，交换机广播该帧。如果有该表项，只向表项对应的接口转发。</p>
</blockquote>
<h1 id="web页面请求的历程"><a href="#web页面请求的历程" class="headerlink" title="web页面请求的历程"></a>web页面请求的历程</h1><p><img src="https://img-blog.csdnimg.cn/3d3d6ec80c784b3f81b43db8530a74b5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX-WHjOaZqOS4pOeCueWNil8=,size_16,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<blockquote>
<p> 我们假定启动电脑，然后将其用一根以太网电缆连接到学校的以太网交换机，交换机又与学校的路由器相连，学校的这台路由器与一个ISP相连。该ISP为学校提供了DNS服务。DHCP服务器运行在路由器中（常见情况也是如此）</p>
</blockquote>
<blockquote>
<p>当电脑与网络连接时，没有IP地址他就不能做任何事情。电脑运行DHCP协议，电脑上的操作系统生成一个目的端口67（DHCP服务器）源端口68（DHCP客户）的<strong>DHCP请求报文</strong>，将这个报文放入UDP报文段。该UDP报文段被放置在一个具有广播IP目的地址（255.255.255.255）和源IP地址（0.0.0.0）的IP数据报中。包含DHCP发现报文的IP数据报被放置在以太网帧中，该以太网帧由目的地址FF:FF:FF:FF:FF:FF，使该帧广播到与交换机连接的所有设备包括DHCP服务器。该帧的源MAC地址是电脑的MAC地址。包含DHCP发现报文的广播以太网帧是第一个由电脑发送到以太网交换机的帧。该交换机在所有的出端口广播，包括连接到路由器的端口。路由器在它的具有MAC地址00:22:6B:45:1F:1B的接口接收到（前面提到DHCP服务器在路由器中），数据报的广播IP目的地址指示了这个IP数据报应当由在该节点的较高层协议处理。因此该数据报的载荷被分解向上到达UDP，DHCP发现报文从UDP报文段中抽取出来，此时DHCP服务器收到该请求报文。</p>
<p>我们假设运行在路由器中的DHCP服务器能够以CIDR块68.85.2.0/24分配IP地址。我们假设DHCP服务器分配地址68.85.2.101给电脑。DHCP服务器生成包含这个IP地址以及DNS服务器的IP地址（68.87.71.226）、默认网关路由器的IP地址（68.85.2.1）和子网块（68.85.2.0/24）的一个<strong>DHCP ACK报文</strong>。该DHCP报文被放入一个UDP报文段中，UDP报文段被放入一个IP数据报中，IP数据报再被放入一个以太网帧中。这个以太网帧的源MAC地址是路由器连到归属网络时接口的MAC地址（00:22:6B:45:1F:1B），目的MAC地址是电脑的MAC地址。</p>
<p>包含DHCP ACK的以太网帧由路由器发送给交换机，因为交换机是自学习的，先前从电脑收到以太网帧，所以该交换机知道寻址到00:16:D3:23:68:8A的帧仅从通向电脑的输出端口转发。</p>
<p>电脑接受到包含DHCP ACK帧，从该以太网帧中抽取IP数据报，从IP数据报中抽取UDP报文段，从UDP报文段中抽取DHCP ACK报文。电脑记录下IP地址和DNS服务器的IP地址，还在其IP转发表中安装默认网关的地址。电脑将 向默认网关发送目的地址为其子网68.85.2.0/24以外的所有数据报。</p>
</blockquote>
<blockquote>
<p>现在我们已经初始化完毕网络组件了。当在电脑浏览器中键入<a href="http://www.baidu.com时，电脑需要知道baidu的IP地址，生成一个**DNS查询报文**，将字符串www.baidu.com放入DNS报文段中，该DNS报文放置在目的端口为53的UDP报文段中。该UDP报文段被放入目的IP地址为68.87.71.226（之前DHCP返回的），和源IP地址68.85.2.101的IP数据报中。将DNS请求数据报放入一个以太网帧中，电脑需要使用**ARP协议**来获得网关路由器的MAC地址，生成一个目的地址68.85.2.1（网关）的ARP查询报文，将该报文放置在一个具有广播目的地址的以太网帧中，并向交换机发送该帧，交换机广播该帧，网关路由器接收该帧，发现在ARP报文中目标IP匹配自己接口IP，网关路由器发送一个ARP回答，指示它的MAC地址00:22:6B:45:1F:1B，目的地址是00:16:D3:23:68:8A，向交换机发送该帧，交换机仅将该帧交付给电脑。电脑收到包含ARP回答报文的帧，并从中抽取网关路由器的MAC地址。现在能够使包含DNS查询的以太网帧寻址到网关路由器的MAC地址。电脑向交换机发送DNS查询帧，交换机将该帧给网关路由器。">www.baidu.com时，电脑需要知道baidu的IP地址，生成一个**DNS查询报文**，将字符串www.baidu.com放入DNS报文段中，该DNS报文放置在目的端口为53的UDP报文段中。该UDP报文段被放入目的IP地址为68.87.71.226（之前DHCP返回的），和源IP地址68.85.2.101的IP数据报中。将DNS请求数据报放入一个以太网帧中，电脑需要使用**ARP协议**来获得网关路由器的MAC地址，生成一个目的地址68.85.2.1（网关）的ARP查询报文，将该报文放置在一个具有广播目的地址的以太网帧中，并向交换机发送该帧，交换机广播该帧，网关路由器接收该帧，发现在ARP报文中目标IP匹配自己接口IP，网关路由器发送一个ARP回答，指示它的MAC地址00:22:6B:45:1F:1B，目的地址是00:16:D3:23:68:8A，向交换机发送该帧，交换机仅将该帧交付给电脑。电脑收到包含ARP回答报文的帧，并从中抽取网关路由器的MAC地址。现在能够使包含DNS查询的以太网帧寻址到网关路由器的MAC地址。电脑向交换机发送DNS查询帧，交换机将该帧给网关路由器。</a></p>
</blockquote>
<blockquote>
<p>网关路由器接收DNS查询的以太网帧抽取IP数据报，路由器查找该数据报目的地址，并根据转发表决定该数据报应当发送到哪个路由器，IP数据报放置在链路层帧中发送。ISP网络中路由器接收到该帧，抽取数据报，检查该数据报的目的地址，根据转发表决定出接口，经过该接口朝着DNS服务器转发数据报，转发表根据OSPF、BGP填写。最后中包含DNS查询的IP数据报到了DNS服务器，DNS服务器抽取DNS查询报文，在它的数据库中查找名字为<a target="_blank" rel="noopener" href="http://www.baidu.com的记录.dns服务器形成一个包含该主机名到ip地址映射的dns回答报文,将该dns回答报文放入udp报文段中,该报文段放入寻址到电脑的ip数据报中,该数据反向到达电脑./">www.baidu.com的记录。DNS服务器形成一个包含该主机名到IP地址映射的DNS回答报文，将该DNS回答报文放入UDP报文段中，该报文段放入寻址到电脑的IP数据报中，该数据反向到达电脑。</a></p>
<p>电脑从DNS报文抽取出服务器<a target="_blank" rel="noopener" href="http://www.baidu.com的ip地址,终于拿到服务器ip了!.有了ip地址,就能够生成tcp套接字,该套接字将用于向www.baidu.com发送http/">www.baidu.com的IP地址，终于拿到服务器IP了！。有了IP地址，就能够生成TCP套接字，该套接字将用于向www.baidu.com发送HTTP</a> GET报文，生成TCP套接字时，必须首先进行三次握手，首先生成一个具有目的端口80的TCP SYN报文段，将该报文段放置在具有目的IP地址64.233.169.105（假设是百度的IP）的IP数据报中，将该数据报放置在MAC地址为网关路由器MAC地址的帧中，向交换机发送该帧。</p>
<p>最终，包含TCP SYN的数据报到达<a target="_blank" rel="noopener" href="http://www.baidu.com,从数据报抽取tcp/">www.baidu.com，从数据报抽取TCP</a> SYN报文并分解到与端口80相联系的欢迎套接字（该套接字是专门用于此电脑和此服务器的一个连接套接字），产生一个TCP SYNACK报文段，放入向电脑寻址的数据包中，放入帧中，最终到达电脑。现在终于可以发送真实数据了，浏览器生成HTTP GET报文，成为一个TCP报文段的载荷，该TCP报文daunt放置进一个数据报中，交付到<a target="_blank" rel="noopener" href="http://www.baidu.com.在百度的http服务器从tcp套接字读取http/">www.baidu.com。在百度的HTTP服务器从TCP套接字读取HTTP</a> GET报文，生成一个HTTP响应报文，将请求的web网页内容放入HTTP响应体中，并将报文发送仅TCP套接字中。包含HTTP回答报文的数据经过转发到达电脑，终于显示了web网页。</p>
</blockquote>
<p>以上过程忽略了DNS层次体系、NAT、web缓存等等，使得表述流程更加清晰，如果这个过程能全部囊括的话，那前面也不用学习那么多的细节了。</p>

      

      
        <div class="page-reward">
          <a href="javascript:;" class="page-reward-btn tooltip-top">
            <div class="tooltip tooltip-east">
            <span class="tooltip-item">
              赏
            </span>
            <span class="tooltip-content">
              <span class="tooltip-text">
                <span class="tooltip-inner">
                  <p class="reward-p"><i class="icon icon-quo-left"></i>谢谢你请我吃糖果<i class="icon icon-quo-right"></i></p>
                  <div class="reward-box">
                    
                    
                    <div class="reward-box-item">
                      <img class="reward-img" src="/assets/wxPay.jpg">
                      <span class="reward-type">微信</span>
                    </div>
                    
                  </div>
                </span>
              </span>
            </span>
          </div>
          </a>
        </div>
      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">网络</a>
        		</li>
      		
		</ul>
	</div>

      

      

      
        
<div class="share-btn share-icons tooltip-left">
  <div class="tooltip tooltip-east">
    <span class="tooltip-item">
      <a href="javascript:;" class="share-sns share-outer">
        <i class="icon icon-share"></i>
      </a>
    </span>
    <span class="tooltip-content">
      <div class="share-wrap">
        <div class="share-icons">
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="icon icon-weibo"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="icon icon-weixin"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="icon icon-qq"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="icon icon-douban"></i>
          </a>
          <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a>
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="icon icon-facebook"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="icon icon-twitter"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="icon icon-google"></i>
          </a>
        </div>
      </div>
    </span>
  </div>
</div>

<div class="page-modal wx-share js-wx-box">
    <a class="close js-modal-close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//pan.baidu.com/share/qrcode?url=http://example.com/2021/12/09/%E5%93%81%E8%AF%BB%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%E3%80%8B/" alt="微信分享二维码">
    </div>
</div>

<div class="mask js-mask"></div>
      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2021/12/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          计算机网络面试题
        
      </div>
    </a>
  
  
    <a href="/2021/11/02/%E5%93%81%E8%AF%BB%E3%80%8A%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">品读《现代操作系统》</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>


<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
        <div class="toc-container tooltip-left">
            <i class="icon-font icon-category"></i>
            <div class="tooltip tooltip-east">
                <span class="tooltip-item">
                </span>
                <span class="tooltip-content">
                    <div class="toc-article">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91"><span class="toc-number">1.</span> <span class="toc-text">计算机网络和因特网</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%A0%E7%89%B9%E7%BD%91"><span class="toc-number">1.1.</span> <span class="toc-text">什么是因特网?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E6%9E%84%E6%88%90%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">具体构成描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.1.2.</span> <span class="toc-text">服务描述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="toc-number">1.2.</span> <span class="toc-text">网络边缘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91"><span class="toc-number">1.2.1.</span> <span class="toc-text">接入网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%AA%92%E4%BD%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">物理媒体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="toc-number">1.3.</span> <span class="toc-text">网络核心</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.3.1.</span> <span class="toc-text">分组交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.3.2.</span> <span class="toc-text">报文交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.3.3.</span> <span class="toc-text">电路交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.3.4.</span> <span class="toc-text">网络的网络</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6%E5%92%8C%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text">时延和吞吐量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">时延</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.4.2.</span> <span class="toc-text">吞吐量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E5%B1%82%E6%AC%A1"><span class="toc-number">1.5.</span> <span class="toc-text">协议层次</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">1.5.1.</span> <span class="toc-text">应用层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%B1%82"><span class="toc-number">1.5.2.</span> <span class="toc-text">运输层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">1.5.3.</span> <span class="toc-text">网络层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">1.5.4.</span> <span class="toc-text">链路层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">1.5.5.</span> <span class="toc-text">物理层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-number">1.5.6.</span> <span class="toc-text">封装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%AF%B9%E6%94%BB%E5%87%BB%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.6.</span> <span class="toc-text">面对攻击的网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%81%B6%E6%84%8F%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.6.1.</span> <span class="toc-text">恶意软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD"><span class="toc-number">1.6.2.</span> <span class="toc-text">攻击服务器和网络基础设施</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%97%85%E6%8E%A2"><span class="toc-number">1.6.3.</span> <span class="toc-text">嗅探</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%AA%E8%A3%85%E4%BF%A1%E4%BB%BB%E7%9A%84%E4%BA%BA"><span class="toc-number">1.6.4.</span> <span class="toc-text">伪装信任的人</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82-1"><span class="toc-number">2.</span> <span class="toc-text">应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">应用层协议原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">2.1.1.</span> <span class="toc-text">网络应用程序体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-number">2.1.2.</span> <span class="toc-text">进程通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.1.3.</span> <span class="toc-text">运输服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E7%9A%84%E8%BF%90%E8%BE%93%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.1.4.</span> <span class="toc-text">因特网的运输服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.1.5.</span> <span class="toc-text">应用层协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Web%E5%92%8CHTTP"><span class="toc-number">2.2.</span> <span class="toc-text">Web和HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E6%A6%82%E8%BF%B0"><span class="toc-number">2.2.1.</span> <span class="toc-text">HTTP概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E6%8C%81%E7%BB%AD%E8%BF%9E%E6%8E%A5%E5%92%8C%E6%8C%81%E7%BB%AD%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.2.2.</span> <span class="toc-text">非持续连接和持续连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.2.3.</span> <span class="toc-text">HTTP报文格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cookie-amp-session"><span class="toc-number">2.2.4.</span> <span class="toc-text">cookie &amp; session</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E7%BC%93%E5%AD%98"><span class="toc-number">2.2.5.</span> <span class="toc-text">web缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6GET%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.6.</span> <span class="toc-text">条件GET方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">2.3.</span> <span class="toc-text">电子邮件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.4.</span> <span class="toc-text">DNS 域名系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.4.1.</span> <span class="toc-text">DNS提供的服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%8E%9F%E7%90%86"><span class="toc-number">2.4.2.</span> <span class="toc-text">DNS原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-number">2.5.</span> <span class="toc-text">套接字编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-number">2.5.1.</span> <span class="toc-text">UDP套接字编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-number">2.5.2.</span> <span class="toc-text">TCP套接字编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web%E4%B8%8ETCP"><span class="toc-number">2.5.3.</span> <span class="toc-text">web与TCP</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%B1%82-1"><span class="toc-number">3.</span> <span class="toc-text">运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%92%8C%E5%A4%9A%E8%B7%AF%E5%88%86%E8%A7%A3"><span class="toc-number">3.2.</span> <span class="toc-text">多路复用和多路分解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP"><span class="toc-number">3.3.</span> <span class="toc-text">UDP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.3.1.</span> <span class="toc-text">UDP提供的服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E4%BC%98%E5%8A%BF"><span class="toc-number">3.3.2.</span> <span class="toc-text">UDP优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%A3%80%E9%AA%8C%E5%92%8C"><span class="toc-number">3.3.3.</span> <span class="toc-text">UDP检验和</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8E%9F%E7%90%86"><span class="toc-number">3.4.</span> <span class="toc-text">可靠数据传输原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">3.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rdt"><span class="toc-number">3.4.2.</span> <span class="toc-text">rdt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.4.3.</span> <span class="toc-text">流水线可靠数据传输协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.4.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86"><span class="toc-number">3.5.</span> <span class="toc-text">拥塞控制原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E5%8E%9F%E5%9B%A0%E4%B8%8E%E4%BB%A3%E4%BB%B7"><span class="toc-number">3.5.1.</span> <span class="toc-text">拥塞原因与代价</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">3.5.2.</span> <span class="toc-text">拥塞控制方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP"><span class="toc-number">3.6.</span> <span class="toc-text">TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.6.1.</span> <span class="toc-text">TCP连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%8A%A5%E6%96%87%E6%AE%B5%E7%BB%93%E6%9E%84"><span class="toc-number">3.6.2.</span> <span class="toc-text">TCP报文段结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-number">3.6.3.</span> <span class="toc-text">TCP可靠数据传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">3.6.4.</span> <span class="toc-text">TCP流量控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">3.6.5.</span> <span class="toc-text">TCP连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">3.6.6.</span> <span class="toc-text">TCP拥塞控制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">网络层：数据平面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2%E4%B8%8E%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2"><span class="toc-number">4.2.</span> <span class="toc-text">数据平面与控制平面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">4.3.</span> <span class="toc-text">路由器工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%AB%AF%E5%8F%A3%E5%A4%84%E7%90%86%E5%92%8C%E5%9F%BA%E4%BA%8E%E7%9B%AE%E7%9A%84%E5%9C%B0%E8%BD%AC%E5%8F%91"><span class="toc-number">4.3.1.</span> <span class="toc-text">输入端口处理和基于目的地转发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2"><span class="toc-number">4.3.2.</span> <span class="toc-text">交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%AB%AF%E5%8F%A3%E5%A4%84%E7%90%86"><span class="toc-number">4.3.3.</span> <span class="toc-text">输出端口处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E9%98%9F"><span class="toc-number">4.3.4.</span> <span class="toc-text">排队</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6"><span class="toc-number">4.3.5.</span> <span class="toc-text">调度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.4.</span> <span class="toc-text">IP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.4.1.</span> <span class="toc-text">数据报格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%88%86%E7%89%87"><span class="toc-number">4.4.2.</span> <span class="toc-text">数据报分片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv4%E7%BC%96%E5%9D%80"><span class="toc-number">4.4.3.</span> <span class="toc-text">IPv4编址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT"><span class="toc-number">4.4.4.</span> <span class="toc-text">网络地址转换NAT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IPv6"><span class="toc-number">4.4.5.</span> <span class="toc-text">IPv6</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%9A%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2"><span class="toc-number">5.</span> <span class="toc-text">网络层：控制平面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-3"><span class="toc-number">5.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95"><span class="toc-number">5.2.</span> <span class="toc-text">路由选择算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E5%BB%BA%E6%A8%A1"><span class="toc-number">5.2.1.</span> <span class="toc-text">问题建模</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E5%88%86%E7%B1%BB"><span class="toc-number">5.2.2.</span> <span class="toc-text">路由算法分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LS%E7%AE%97%E6%B3%95"><span class="toc-number">5.2.3.</span> <span class="toc-text">LS算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DV%E7%AE%97%E6%B3%95"><span class="toc-number">5.2.4.</span> <span class="toc-text">DV算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LS%E4%B8%8EDV%E6%AF%94%E8%BE%83"><span class="toc-number">5.2.5.</span> <span class="toc-text">LS与DV比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF%E3%80%81RIP%E3%80%81BGP"><span class="toc-number">5.3.</span> <span class="toc-text">OSPF、RIP、BGP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F%E5%86%85%E9%83%A8%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE%EF%BC%9AOSPF"><span class="toc-number">5.3.1.</span> <span class="toc-text">自治系统内部路由选择协议：OSPF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE%EF%BC%88BGP%EF%BC%89"><span class="toc-number">5.3.2.</span> <span class="toc-text">自治系统间路由选择协议（BGP）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%92%AD%E3%80%81%E7%BB%84%E6%92%AD%E3%80%81%E5%B9%BF%E6%92%AD%E3%80%81%E4%BB%BB%E6%92%AD"><span class="toc-number">5.3.3.</span> <span class="toc-text">单播、组播、广播、任播</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ICMP%EF%BC%9A%E5%9B%A0%E7%89%B9%E7%BD%91%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.4.</span> <span class="toc-text">ICMP：因特网控制报文协议</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E5%92%8C%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">6.</span> <span class="toc-text">链路层和局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-4"><span class="toc-number">6.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AF%E8%AF%AD"><span class="toc-number">6.1.1.</span> <span class="toc-text">术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E4%B8%8E%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">6.1.2.</span> <span class="toc-text">链路层与网络层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">6.1.3.</span> <span class="toc-text">提供的服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%95%E5%A4%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">6.1.4.</span> <span class="toc-text">何处实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B%E5%92%8C%E7%BA%A0%E6%AD%A3%E6%8A%80%E6%9C%AF"><span class="toc-number">6.2.</span> <span class="toc-text">差错检测和纠正技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E9%94%99%E7%BC%96%E7%A0%81-%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C%E7%A0%81"><span class="toc-number">6.2.1.</span> <span class="toc-text">检错编码-奇偶校验码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E9%AA%8C%E5%92%8C"><span class="toc-number">6.2.2.</span> <span class="toc-text">检验和</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E6%B5%8B"><span class="toc-number">6.2.3.</span> <span class="toc-text">循环冗余检测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E5%89%8D%E7%BA%A0%E9%94%99%EF%BC%88Forward-Error-Correction%EF%BC%8CFEC%EF%BC%89"><span class="toc-number">6.2.4.</span> <span class="toc-text">向前纠错（Forward Error Correction，FEC）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AE%E9%93%BE%E8%B7%AF%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.3.</span> <span class="toc-text">多路访问链路协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.3.1.</span> <span class="toc-text">信道划分协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%8E%A5%E5%85%A5%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.3.2.</span> <span class="toc-text">随机接入协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%B5%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.3.3.</span> <span class="toc-text">轮流协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">6.4.</span> <span class="toc-text">交换局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MAC%E4%B8%8EARP"><span class="toc-number">6.4.1.</span> <span class="toc-text">MAC与ARP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">6.4.2.</span> <span class="toc-text">以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">6.4.3.</span> <span class="toc-text">链路层交换机</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#web%E9%A1%B5%E9%9D%A2%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8E%86%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">web页面请求的历程</span></a></li></ol>
                    </div>
                </span>
            </div>
        </div>
        
    </div>
</aside>




  
  
  

  

  

  




          </div>
        </div>
      </div>
      
<footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2022 yueyan
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
		<span id="busuanzi_container_site_uv"> 
		  本站访客数<span id="busuanzi_value_site_uv"></span>人次
		</span>

    </div>
  </div>
   <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</footer>


    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="./",n(0)}([function(t,n,r){r(195),t.exports=r(191)},function(t,n,r){var e=r(3),i=r(52),o=r(27),u=r(28),c=r(53),f="prototype",a=function(t,n,r){var s,l,h,v,p=t&a.F,d=t&a.G,y=t&a.S,g=t&a.P,b=t&a.B,m=d?e:y?e[n]||(e[n]={}):(e[n]||{})[f],x=d?i:i[n]||(i[n]={}),w=x[f]||(x[f]={});d&&(r=n);for(s in r)l=!p&&m&&void 0!==m[s],h=(l?m:r)[s],v=b&&l?c(h,e):g&&"function"==typeof h?c(Function.call,h):h,m&&u(m,s,h,t&a.U),x[s]!=h&&o(x,s,v),g&&w[s]!=h&&(w[s]=h)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(6);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(126)("wks"),i=r(76),o=r(3).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(94),i=r(33);t.exports=function(t){return e(i(t))}},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(167),o=r(50),u=Object.defineProperty;n.f=r(10)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(14),i=r(22);t.exports=r(12)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(20),i=r(58),o=r(42),u=Object.defineProperty;n.f=r(12)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(40)("wks"),i=r(23),o=r(5).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(67),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(46);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(63),i=r(34);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(21);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(11),i=r(66);t.exports=r(10)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(3),i=r(27),o=r(24),u=r(76)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(52).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(1),i=r(4),o=r(46),u=function(t,n,r,e){var i=String(o(t)),u="<"+n;return""!==r&&(u+=" "+r+'="'+String(e).replace(/"/g,"&quot;")+'"'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(u),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(115),i=r(46);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(116),i=r(66),o=r(30),u=r(50),c=r(24),f=r(167),a=Object.getOwnPropertyDescriptor;n.f=r(10)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(24),i=r(17),o=r(145)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14).f,i=r(8),o=r(15)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(40)("keys"),i=r(23);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(5),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(21);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(36),u=r(44),c=r(14).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){n.f=r(15)},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(53),i=r(115),o=r(17),u=r(16),c=r(203);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),b=i(g),m=e(c,p,3),x=u(b.length),w=0,S=r?v(n,x):f?v(n,0):void 0;x>w;w++)if((h||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(1),i=r(52),o=r(4);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(6);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(91),u=r(13),c="prototype",f=function(t,n,r){var a,s,l,h=t&f.F,v=t&f.G,p=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,b=v?i:i[n]||(i[n]={}),m=b[c],x=v?e:p?e[n]:(e[n]||{})[c];v&&(r=n);for(a in r)(s=!h&&x&&void 0!==x[a])&&a in b||(l=s?x[a]:r[a],b[a]=v&&"function"!=typeof x[a]?r[a]:y&&s?o(l,e):g&&x[a]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[c]=t[c],n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((b.virtual||(b.virtual={}))[a]=l,t&f.R&&m&&!m[a]&&u(m,a,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(26);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(183),i=r(1),o=r(126)("metadata"),u=o.store||(o.store=new(r(186))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){"use strict";if(r(10)){var e=r(69),i=r(3),o=r(4),u=r(1),c=r(127),f=r(152),a=r(53),s=r(68),l=r(66),h=r(27),v=r(73),p=r(67),d=r(16),y=r(75),g=r(50),b=r(24),m=r(180),x=r(114),w=r(6),S=r(17),_=r(137),O=r(70),E=r(32),P=r(71).f,j=r(154),F=r(76),M=r(7),A=r(48),N=r(117),T=r(146),I=r(155),k=r(80),L=r(123),R=r(74),C=r(130),D=r(160),U=r(11),W=r(31),G=U.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K="ArrayBuffer",J="Shared"+K,Y="BYTES_PER_ELEMENT",H="prototype",$=Array[H],X=f.ArrayBuffer,Q=f.DataView,Z=A(0),tt=A(2),nt=A(3),rt=A(4),et=A(5),it=A(6),ot=N(!0),ut=N(!1),ct=I.values,ft=I.keys,at=I.entries,st=$.lastIndexOf,lt=$.reduce,ht=$.reduceRight,vt=$.join,pt=$.sort,dt=$.slice,yt=$.toString,gt=$.toLocaleString,bt=M("iterator"),mt=M("toStringTag"),xt=F("typed_constructor"),wt=F("def_constructor"),St=c.CONSTR,_t=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Pt=A(1,function(t,n){return Tt(T(t,t[wt]),n)}),jt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ft=!!q&&!!q[H].set&&o(function(){new q(1).set({})}),Mt=function(t,n){if(void 0===t)throw z(Et);var r=+t,e=d(t);if(n&&!m(r,e))throw V(Et);return e},At=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Nt=function(t){if(w(t)&&_t in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,n){if(!(w(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(n)},It=function(t,n){return kt(T(t,t[wt]),n)},kt=function(t,n){for(var r=0,e=n.length,i=Tt(t,e);e>r;)i[r]=n[r++];return i},Lt=function(t,n,r){G(t,n,{get:function(){return this._d[r]}})},Rt=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=j(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=d(c.length),i=Tt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Ct=function(){for(var t=0,n=arguments.length,r=Tt(this,n);n>t;)r[t]=arguments[t++];return r},Dt=!!q&&o(function(){gt.call(new q(1))}),Ut=function(){return gt.apply(Dt?dt.call(Nt(this)):Nt(this),arguments)},Wt={copyWithin:function(t,n){return D.call(Nt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Nt(this),arguments)},filter:function(t){return It(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return vt.apply(Nt(this),arguments)},lastIndexOf:function(t){return st.apply(Nt(this),arguments)},map:function(t){return Pt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Nt(this),arguments)},reduceRight:function(t){return ht.apply(Nt(this),arguments)},reverse:function(){for(var t,n=this,r=Nt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,n){var r=Nt(this),e=r.length,i=y(t,e);return new(T(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-i))}},Gt=function(t,n){return It(this,dt.call(Nt(this),t,n))},Bt=function(t){Nt(this);var n=At(arguments[1],1),r=this.length,e=S(t),i=d(e.length),o=0;if(i+n>r)throw V(Et);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return at.call(Nt(this))},keys:function(){return ft.call(Nt(this))},values:function(){return ct.call(Nt(this))}},zt=function(t,n){return w(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},qt=function(t,n){return zt(t,n=g(n,!0))?l(2,t[n]):B(t,n)},Kt=function(t,n,r){return!(zt(t,n=g(n,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?G(t,n,r):(t[n]=r.value,t)};St||(W.f=qt,U.f=Kt),u(u.S+u.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Kt}),o(function(){yt.call({})})&&(yt=gt=function(){return vt.call(this)});var Jt=v({},Wt);v(Jt,Vt),h(Jt,bt,Vt.values),v(Jt,{slice:Gt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ut}),Lt(Jt,"buffer","b"),Lt(Jt,"byteOffset","o"),Lt(Jt,"byteLength","l"),Lt(Jt,"length","e"),G(Jt,mt,{get:function(){return this[_t]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="Uint8Array"!=a,v="get"+t,p="set"+t,y=i[a],g=y||{},b=y&&E(y),m=!y||!c.ABV,S={},_=y&&y[H],j=function(t,r){var e=t._d;return e.v[v](r*n+e.o,jt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,jt)},M=function(t,n){G(t,n,{get:function(){return j(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,i){s(t,y,a,"_d");var o,u,c,f,l=0,v=0;if(w(r)){if(!(r instanceof X||(f=x(r))==K||f==J))return _t in r?kt(y,r):Rt.call(y,r);o=r,v=At(e,n);var p=r.byteLength;if(void 0===i){if(p%n)throw V(Et);if((u=p-v)<0)throw V(Et)}else if((u=d(i)*n)+v>p)throw V(Et);c=u/n}else c=Mt(r,!0),u=c*n,o=new X(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new Q(o)});l<c;)M(t,l++)}),_=y[H]=O(Jt),h(_,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,i){s(t,y,a);var o;return w(r)?r instanceof X||(o=x(r))==K||o==J?void 0!==i?new g(r,At(e,n),i):void 0!==e?new g(r,At(e,n)):new g(r):_t in r?kt(y,r):Rt.call(y,r):new g(Mt(r,l))}),Z(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||h(y,t,g[t])}),y[H]=_,e||(_.constructor=y));var A=_[bt],N=!!A&&("values"==A.name||void 0==A.name),T=Vt.values;h(y,xt,!0),h(_,_t,a),h(_,Ot,!0),h(_,wt,y),(f?new y(1)[mt]==a:mt in _)||G(_,mt,{get:function(){return a}}),S[a]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,a,{BYTES_PER_ELEMENT:n,from:Rt,of:Ct}),Y in _||h(_,Y,n),u(u.P,a,Wt),R(a),u(u.P+u.F*Ft,a,{set:Bt}),u(u.P+u.F*!N,a,Vt),u(u.P+u.F*(_.toString!=yt),a,{toString:yt}),u(u.P+u.F*o(function(){new y(1).slice()}),a,{slice:Gt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Ut}),k[a]=N?A:T,e||N||h(_,bt,T)}}else t.exports=function(){}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),i=r(5).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){t.exports=!r(12)&&!r(18)(function(){return 7!=Object.defineProperty(r(57)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){"use strict";var e=r(36),i=r(51),o=r(64),u=r(13),c=r(8),f=r(35),a=r(96),s=r(38),l=r(103),h=r(15)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n,r){var e=r(20),i=r(100),o=r(34),u=r(39)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(57)("iframe"),e=o.length;for(n.style.display="none",r(93).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(63),i=r(34).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(8),i=r(9),o=r(90)(!1),u=r(39)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){t.exports=r(13)},function(t,n,r){var e=r(76)("meta"),i=r(6),o=r(24),u=r(11).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(4)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),i=r(173),o=r(133),u=r(145)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(132)("iframe"),e=o.length;for(n.style.display="none",r(135).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(175),i=r(133).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(175),i=r(133);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(28);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(3),i=r(11),o=r(10),u=r(7)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7)("unscopables"),i=Array.prototype;void 0==i[e]&&r(27)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(53),i=r(169),o=r(137),u=r(2),c=r(16),f=r(154),a={},s={},n=t.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:f(t),b=e(r,l,n?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===a||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,b,p.value,n))===a||y===s)return y};n.BREAK=a,n.RETURN=s},function(t,n){t.exports={}},function(t,n,r){var e=r(11).f,i=r(24),o=r(7)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(1),i=r(46),o=r(4),u=r(150),c="["+u+"]",f="​",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n,r){t.exports={default:r(86),__esModule:!0}},function(t,n,r){t.exports={default:r(87),__esModule:!0}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(84),o=e(i),u=r(83),c=e(u),f="function"==typeof c.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":typeof t};n.default="function"==typeof c.default&&"symbol"===f(o.default)?function(t){return void 0===t?"undefined":f(t)}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":void 0===t?"undefined":f(t)}},function(t,n,r){r(110),r(108),r(111),r(112),t.exports=r(25).Symbol},function(t,n,r){r(109),r(113),t.exports=r(44).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(9),i=r(106),o=r(105);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(88);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(19),i=r(62),o=r(37);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){t.exports=r(5).document&&document.documentElement},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(60),i=r(22),o=r(38),u={};r(13)(u,r(15)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(9);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){var e=r(23)("meta"),i=r(21),o=r(8),u=r(14).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(18)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n,r){var e=r(14),i=r(20),o=r(19);t.exports=r(12)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(37),i=r(22),o=r(9),u=r(42),c=r(8),f=r(58),a=Object.getOwnPropertyDescriptor;n.f=r(12)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(9),i=r(61).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(8),i=r(77),o=r(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(41),i=r(33);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(41),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(41),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(89),i=r(97),o=r(35),u=r(9);t.exports=r(59)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){},function(t,n,r){"use strict";var e=r(104)(!0);r(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(5),i=r(8),o=r(12),u=r(51),c=r(64),f=r(99).KEY,a=r(18),s=r(40),l=r(38),h=r(23),v=r(15),p=r(44),d=r(43),y=r(98),g=r(92),b=r(95),m=r(20),x=r(9),w=r(42),S=r(22),_=r(60),O=r(102),E=r(101),P=r(14),j=r(19),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(61).f=O.f=Z,r(37).f=X,r(62).f=tt,o&&!r(36)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(13)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){r(43)("asyncIterator")},function(t,n,r){r(43)("observable")},function(t,n,r){r(107);for(var e=r(5),i=r(13),o=r(35),u=r(15)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var a=c[f],s=e[a],l=s&&s.prototype;l&&!l[u]&&i(l,u,a),o[a]=o.Array}},function(t,n,r){var e=r(45),i=r(7)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(30),i=r(16),o=r(75);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){"use strict";var e=r(3),i=r(1),o=r(28),u=r(73),c=r(65),f=r(79),a=r(68),s=r(6),l=r(4),h=r(123),v=r(81),p=r(136);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?"set":"add",w=m&&m.prototype,S={},_=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[x](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),j=h(function(t){new m(t)}),F=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});j||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||E)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return v(m,t),S[t]=m,i(i.G+i.W+i.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){"use strict";var e=r(27),i=r(28),o=r(4),u=r(46),c=r(7);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}
},function(t,n,r){"use strict";var e=r(2);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(6),i=r(45),o=r(7)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(7)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){t.exports=r(69)||!r(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(3)[t]})},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(3),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){for(var e,i=r(3),o=r(27),u=r(76),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},function(t,n){"use strict";var r={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:-1==t.indexOf("MicroMessenger")}}()};t.exports=r},function(t,n,r){"use strict";var e=r(85),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):r[t]||t}function n(t){return e[t]}var r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e={};for(var u in r)e[r[u]]=u;return r["&apos;"]="'",e["'"]="&#39;",{encode:function(t){return t?(""+t).replace(/['<> "&]/g,n).replace(/\r?\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(/<br\s*\/?>/gi,"\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,t).replace(/\u00a0/g," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r+=2)n.push(String.fromCharCode("0x"+t.slice(r,r+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,r=t.length;r>n;n++)t[n]=o.encodeObject(t[n]);else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(var e in t)t[e]=o.encodeObject(t[e]);else if("string"==typeof t)return o.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=o},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(11),i=r(66);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(6),i=r(3).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(7)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){t.exports=r(3).document&&document.documentElement},function(t,n,r){var e=r(6),i=r(144).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){var e=r(80),i=r(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(45);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(70),i=r(66),o=r(81),u={};r(27)(u,r(7)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(69),i=r(1),o=r(28),u=r(27),c=r(24),f=r(80),a=r(139),s=r(81),l=r(32),h=r(7)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(3),i=r(151).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(45)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(o){var s=!0,l=document.createTextNode("");new o(a).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(a)}}else r=function(){i.call(e,a)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(6),i=r(2),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(53)(Function.call,r(31).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n,r){var e=r(126)("keys"),i=r(76);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(2),i=r(26),o=r(7)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(67),i=r(46);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(122),i=r(46);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){"use strict";var e=r(67),i=r(46);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e,i,o,u=r(53),c=r(121),f=r(135),a=r(132),s=r(3),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=0,y={},g="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},m=function(t){b.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete y[t]},"process"==r(45)(l)?e=function(t){l.nextTick(u(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e=g in a("script")?function(t){f.appendChild(a("script"))[g]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";var e=r(3),i=r(10),o=r(69),u=r(127),c=r(27),f=r(73),a=r(4),s=r(68),l=r(67),h=r(16),v=r(71).f,p=r(11).f,d=r(130),y=r(81),g="ArrayBuffer",b="DataView",m="prototype",x="Wrong length!",w="Wrong index!",S=e[g],_=e[b],O=e.Math,E=e.RangeError,P=e.Infinity,j=S,F=O.abs,M=O.pow,A=O.floor,N=O.log,T=O.LN2,I="buffer",k="byteLength",L="byteOffset",R=i?"_b":I,C=i?"_l":k,D=i?"_o":L,U=function(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===P?(i=t!=t?1:0,e=f):(e=A(N(t)/T),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+a>=1?s/o:s*M(2,1-a),t*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*M(2,n),e+=a):(i=t*M(2,a-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u},W=function(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-P:P;e+=M(2,n),s-=u}return(a?-1:1)*e*M(2,s-n)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return U(t,52,8)},K=function(t){return U(t,23,4)},J=function(t,n,r){p(t[m],n,{get:function(){return this[r]}})},Y=function(t,n,r,e){var i=+r,o=l(i);if(i!=o||o<0||o+n>t[C])throw E(w);var u=t[R]._b,c=o+t[D],f=u.slice(c,c+n);return e?f:f.reverse()},H=function(t,n,r,e,i,o){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[C])throw E(w);for(var f=t[R]._b,a=c+t[D],s=e(+i),h=0;h<n;h++)f[a+h]=s[o?h:n-h-1]},$=function(t,n){s(t,S,g);var r=+n,e=h(r);if(r!=e)throw E(x);return e};if(u.ABV){if(!a(function(){new S})||!a(function(){new S(.5)})){S=function(t){return new j($(this,t))};for(var X,Q=S[m]=j[m],Z=v(j),tt=0;Z.length>tt;)(X=Z[tt++])in S||c(S,X,j[X]);o||(Q.constructor=S)}var nt=new _(new S(2)),rt=_[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||f(_[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else S=function(t){var n=$(this,t);this._b=d.call(Array(n),0),this[C]=n},_=function(t,n,r){s(this,_,b),s(t,S,b);var e=t[C],i=l(n);if(i<0||i>e)throw E("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw E(x);this[R]=t,this[D]=i,this[C]=r},i&&(J(S,k,"_l"),J(_,I,"_b"),J(_,k,"_l"),J(_,L,"_o")),f(_[m],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var n=Y(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Y(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return G(Y(this,4,t,arguments[1]))},getUint32:function(t){return G(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,V,n,arguments[2])},setUint16:function(t,n){H(this,2,t,V,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,K,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,q,n,arguments[2])}});y(S,g),y(_,b),c(_[m],u.VIEW,!0),n[g]=S,n[b]=_},function(t,n,r){var e=r(3),i=r(52),o=r(69),u=r(182),c=r(11).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(114),i=r(7)("iterator"),o=r(80);t.exports=r(52).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(78),i=r(170),o=r(80),u=r(30);t.exports=r(140)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){function r(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=r},function(t,n){function r(t,n){if(t.classList)t.classList.remove(n);else{var r=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(r," ")}}t.exports=r},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(n){try{return s.call(null,t,0)}catch(n){return s.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&v&&(d=!1,v.length?p=v.concat(p):y=-1,p.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var n=p.length;n;){for(v=p,p=[];++y<n;)v&&v[y].run();y=-1,n=p.length}v=null,d=!1,o(t)}}function f(t,n){this.fun=t,this.array=n}function a(){}var s,l,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var v,p=[],d=!1,y=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new f(t,n)),1!==p.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){var e=r(45);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n,r){var e=r(79);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(26),i=r(17),o=r(115),u=r(16);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(26),i=r(6),o=r(121),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?f(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){"use strict";var e=r(11).f,i=r(70),o=r(73),u=r(53),c=r(68),f=r(46),a=r(79),s=r(140),l=r(170),h=r(74),v=r(10),p=r(65).fastKey,d=v?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[s],t)});return o(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),v&&e(l.prototype,"size",{get:function(){return f(this[d])}}),l},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){var e=r(114),i=r(161);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){"use strict";var e=r(73),i=r(65).getWeak,o=r(2),u=r(6),c=r(68),f=r(79),a=r(48),s=r(24),l=a(5),h=a(6),v=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._i=v++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){t.exports=!r(10)&&!r(4)(function(){return 7!=Object.defineProperty(r(132)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(6),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(2);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){"use strict";var e=r(72),i=r(125),o=r(116),u=r(17),c=r(115),f=Object.assign;t.exports=!f||r(4)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:f},function(t,n,r){var e=r(11),i=r(2),o=r(72);t.exports=r(10)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(30),i=r(71).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(24),i=r(30),o=r(117)(!1),u=r(145)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(72),i=r(30),o=r(116).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(71),i=r(125),o=r(2),u=r(3).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(3).parseFloat,i=r(82).trim;t.exports=1/e(r(150)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(3).parseInt,i=r(82).trim,o=r(150),u=/^[\-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(16),i=r(149),o=r(46);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){n.f=r(7)},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){r(10)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(120)})},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(48)(0),o=r(28),u=r(65),c=r(172),f=r(166),a=r(6),s=u.getWeak,l=Object.isExtensible,h=f.ufstore,v={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=s(t);return!0===n?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(this,t,n)}},y=t.exports=r(118)("WeakMap",p,d,f,!0,!0);7!=(new y).set((Object.freeze||Object)(v),7).get(v)&&(e=f.getConstructor(p),c(e.prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=y.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!l(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},,,,function(t,n){"use strict";function r(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev"></a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next"></a>'),yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}if(yiliaConfig&&yiliaConfig.toc_hide_index){document.querySelectorAll(".toc-number").forEach(function(t){t.style.display="none"})}var n=document.querySelector("#js-aboutme");n&&0!==n.length&&(n.innerHTML=n.innerText)}t.exports={init:r}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var r=/\/|index.html/g;return t.replace(r,"")===n.replace(r,"")}function o(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,r=0,e=t.length;r<e;r++){var o=t[r];i(n,o.getAttribute("href"))&&(0,h.default)(o,"active")}}function u(t){for(var n=t.offsetLeft,r=t.offsetParent;null!==r;)n+=r.offsetLeft,r=r.offsetParent;return n}function c(t){for(var n=t.offsetTop,r=t.offsetParent;null!==r;)n+=r.offsetTop,r=r.offsetParent;return n}function f(t,n,r,e,i){var o=u(t),f=c(t)-n;if(f-r<=i){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,d.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(r||f)+"px",a.style.left=o+"px",a.style.zIndex=e||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");f(t,document.body.scrollTop,-63,2,0),f(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}var l=r(156),h=e(l),v=r(157),p=(e(v),r(382)),d=e(p),y=r(128),g=e(y),b=r(190),m=e(b),x=r(129);(function(){g.default.versions.mobile&&window.screen.width<800&&(o(),s())})(),(0,x.addLoadEvent)(function(){m.default.init()}),t.exports={}},,,,function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(381),r(391),r(198),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},,,function(t,n,r){r(210),t.exports=r(52).RegExp.escape},,,,function(t,n,r){var e=r(6),i=r(138),o=r(7)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(202);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(2),i=r(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(72),i=r(125),o=r(116);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(72),i=r(30);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){"use strict";var e=r(208),i=r(121),o=r(26);t.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,f=!1;n>u;)(r[u]=arguments[u++])===c&&(f=!0);return function(){var e,o=this,u=arguments.length,a=0,s=0;if(!f&&!u)return i(t,r,o);if(e=r.slice(),f)for(;n>a;a++)e[a]===c&&(e[a]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},function(t,n,r){t.exports=r(3)},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){var e=r(1),i=r(209)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,r){var e=r(1);e(e.P,"Array",{copyWithin:r(160)}),r(78)("copyWithin")},function(t,n,r){"use strict";var e=r(1),i=r(48)(4);e(e.P+e.F*!r(47)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.P,"Array",{fill:r(130)}),r(78)("fill")},function(t,n,r){"use strict";var e=r(1),i=r(48)(2);e(e.P+e.F*!r(47)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(0),o=r(47)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(53),i=r(1),o=r(17),u=r(169),c=r(137),f=r(16),a=r(131),s=r(154);i(i.S+i.F*!r(123)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||v==Array&&c(b))for(n=f(h.length),r=new v(n);n>g;g++)a(r,g,y?d(h[g],g):h[g]);else for(l=b.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(1),i=r(117)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(47)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.S,"Array",{isArray:r(138)})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=[].join;e(e.P+e.F*(r(115)!=Object||!r(47)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(67),u=r(16),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(47)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(1);e(e.P+e.F*!r(47)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(131);e(e.S+e.F*r(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(135),o=r(45),u=r(75),c=r(16),f=[].slice;e(e.P+e.F*r(4)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(3);e(e.P+e.F*!r(47)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(26),o=r(17),u=r(4),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(47)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){r(74)("Array")},function(t,n,r){var e=r(1);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){
if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50);e(e.P+e.F*r(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(7)("toPrimitive"),i=Date.prototype;e in i||r(27)(i,e,r(204))},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(28)(e,o,function(){var t=c.call(this);return t===t?u.call(this):i})},function(t,n,r){var e=r(1);e(e.P,"Function",{bind:r(163)})},function(t,n,r){"use strict";var e=r(6),i=r(32),o=r(7)("hasInstance"),u=Function.prototype;o in u||r(11).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(11).f,i=r(66),o=r(24),u=Function.prototype,c="name",f=Object.isExtensible||function(){return!0};c in u||r(10)&&e(u,c,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(/^\s*function ([^ (]*)/)[1];return o(t,c)||!f(t)||e(t,c,i(5,n)),n}catch(t){return""}}})},function(t,n,r){var e=r(1),i=r(171),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(1),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(1),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(1),i=r(142);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(1),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(1),i=r(141);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(1),i=r(142),o=Math.pow,u=o(2,-52),c=o(2,-23),f=o(2,127)*(2-c),a=o(2,-126),s=function(t){return t+1/u-1/u};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),o=i(t);return e<a?o*s(e/a/c)*a*c:(n=(1+c/u)*e,r=n-(n-e),r>f||r!=r?o*(1/0):o*r)}})},function(t,n,r){var e=r(1),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)r=i(arguments[u++]),f<r?(e=f/r,o=o*e*e+1,f=r):r>0?(e=r/f,o+=e*e):o+=r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(1),i=Math.imul;e(e.S+e.F*r(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log1p:r(171)})},function(t,n,r){var e=r(1);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(1);e(e.S,"Math",{sign:r(142)})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S+e.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(1);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(45),u=r(136),c=r(50),f=r(4),a=r(71).f,s=r(31).f,l=r(11).f,h=r(82).trim,v="Number",p=e[v],d=p,y=p.prototype,g=o(r(70)(y))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(g?f(function(){y.valueOf.call(r)}):o(r)!=v)?u(new d(m(n)),r,p):m(n)};for(var x,w=r(10)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,x=w[S])&&!i(p,x)&&l(p,x,s(d,x));p.prototype=y,y.constructor=p,r(28)(e,v,p)}},function(t,n,r){var e=r(1);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(1),i=r(3).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(1);e(e.S,"Number",{isInteger:r(168)})},function(t,n,r){var e=r(1);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(1),i=r(168),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(1);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(1);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(1),i=r(178);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){"use strict";var e=r(1),i=r(67),o=r(159),u=r(149),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call(l,7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2==1?d(t,n-1,r*t):d(t*t,n/2,r)},y=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),g="",b=l;if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(g="-",f=-f),f>1e-21)if(n=y(f*d(2,69,1))-69,r=n<0?f*d(2,-n,1):f/d(2,n,1),r*=4503599627370496,(n=52-n)>0){for(h(0,r),e=a;e>=7;)h(1e7,0),e-=7;for(h(d(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),h(1,1),v(2),b=p()}else h(0,r),h(1<<-n,0),b=p()+u.call(l,a);return a>0?(c=b.length,b=g+(c<=a?"0."+u.call(l,a-c)+b:b.slice(0,c-a)+"."+b.slice(c-a))):b=g+b,b}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=r(159),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(1);e(e.S+e.F,"Object",{assign:r(172)})},function(t,n,r){var e=r(1);e(e.S,"Object",{create:r(70)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperties:r(173)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperty:r(11).f})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(30),i=r(31).f;r(49)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){r(49)("getOwnPropertyNames",function(){return r(174).f})},function(t,n,r){var e=r(17),i=r(32);r(49)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6);r(49)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(6);r(49)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(6);r(49)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(1);e(e.S,"Object",{is:r(180)})},function(t,n,r){var e=r(17),i=r(72);r(49)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(1);e(e.S,"Object",{setPrototypeOf:r(144).set})},function(t,n,r){"use strict";var e=r(114),i={};i[r(7)("toStringTag")]="z",i+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(1),i=r(178);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){"use strict";var e,i,o,u=r(69),c=r(3),f=r(53),a=r(114),s=r(1),l=r(6),h=r(26),v=r(68),p=r(79),d=r(146),y=r(151).set,g=r(143)(),b="Promise",m=c.TypeError,x=c.process,w=c[b],x=c.process,S="process"==a(x),_=function(){},O=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[r(7)("species")]=function(t){t(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===w&&n===o},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},j=function(t){return E(w,t)?new F(t):new i(t)},F=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},M=function(t){try{t()}catch(t){return{error:t}}},A=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,f=n.reject,a=n.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?r=e:(a&&a.enter(),r=u(e),a&&a.exit()),r===n.promise?f(m("Promise-chain cycle")):(o=P(r))?o.call(r,c,f):c(r)):f(e)}catch(t){f(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,i=t._v;if(T(t)&&(n=M(function(){S?x.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=S||T(t)?2:1),t._a=void 0,n)throw n.error})},T=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!T(n.promise))return!1;return!0},I=function(t){y.call(c,function(){var n;S?x.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},k=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),A(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(k,e,1))}catch(t){k.call(e,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){k.call({_w:r,_d:!1},t)}}};O||(w=function(t){v(this,w,b,"_h"),h(t),e.call(this);try{t(f(L,this,1),f(k,this,1))}catch(t){k.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(73)(w.prototype,{then:function(t,n){var r=j(d(this,w));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=S?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(k,t,1)}),s(s.G+s.W+s.F*!O,{Promise:w}),r(81)(w,b),r(74)(b),o=r(52)[b],s(s.S+s.F*!O,b,{reject:function(t){var n=j(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!O),b,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var n=j(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(O&&r(123)(function(t){w.all(t).catch(_)})),b,{all:function(t){var n=this,r=j(n),e=r.resolve,i=r.reject,o=M(function(){var r=[],o=0,u=1;p(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o&&i(o.error),r.promise},race:function(t){var n=this,r=j(n),e=r.reject,i=M(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n,r){var e=r(1),i=r(26),o=r(2),u=(r(3).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(4)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(1),i=r(70),o=r(26),u=r(2),c=r(6),f=r(4),a=r(163),s=(r(3).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(11),i=r(1),o=r(2),u=r(50);i(i.S+i.F*r(4)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(31).f,o=r(2);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(1),i=r(2),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(139)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(31),i=r(1),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(1),i=r(32),o=r(2);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return a(t)===s?t[n]:(r=i.f(t,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:f(c=o(t))?e(c,n,s):void 0}var i=r(31),o=r(32),u=r(24),c=r(1),f=r(6),a=r(2);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(1),i=r(2),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{ownKeys:r(177)})},function(t,n,r){var e=r(1),i=r(2),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(144);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f,h,v=arguments.length<4?t:arguments[3],p=o.f(s(t),n);if(!p){if(l(h=u(t)))return e(h,n,r,v);p=a(0)}return c(p,"value")?!(!1===p.writable||!l(v)||(f=o.f(v,n)||a(0),f.value=r,i.f(v,n,f),0)):void 0!==p.set&&(p.set.call(v,r),!0)}var i=r(11),o=r(31),u=r(32),c=r(24),f=r(1),a=r(66),s=r(2),l=r(6);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(3),i=r(136),o=r(11).f,u=r(71).f,c=r(122),f=r(120),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(10)&&(!p||r(4)(function(){return v[r(7)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var d=u(s),y=0;d.length>y;)!function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=a,a.prototype=l,r(28)(e,"RegExp",a)}r(74)("RegExp")},function(t,n,r){r(119)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(119)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("split",2,function(t,n,e){"use strict";var i=r(122),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,c,l,h,v,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,d+"g");for(s||(e=new RegExp("^"+b.source+"$(?!\\s)",d));(c=b.exec(r))&&!((l=c.index+c[0][f])>y&&(p.push(r.slice(y,c.index)),!s&&c[f]>1&&c[0].replace(e,function(){for(v=1;v<arguments[f]-2;v++)void 0===arguments[v]&&(c[v]=void 0)}),c[f]>1&&c.index<r[f]&&u.apply(p,c.slice(1)),h=c[0][f],y=l,p[f]>=g));)b[a]===c.index&&b[a]++;return y===r[f]?!h&&b.test("")||p.push(""):p.push(r.slice(y)),p[f]>g?p.slice(0,g):p}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){"use strict";r(184);var e=r(2),i=r(120),o=r(10),u="toString",c=/./[u],f=function(t){r(28)(RegExp.prototype,u,t,!0)};r(4)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=u&&f(function(){return c.call(this)})},function(t,n,r){"use strict";r(29)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(29)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(29)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(29)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="endsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{endsWith:function(t){var n=o(this,t,u),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),f=void 0===r?e:Math.min(i(r),e),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,r){"use strict";r(29)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(29)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(29)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){var e=r(1),i=r(75),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){"use strict";var e=r(1),i=r(148),o="includes";e(e.P+e.F*r(134)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";r(29)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";var e=r(147)(!0);r(140)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";r(29)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){var e=r(1),i=r(30),o=r(16);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){var e=r(1);e(e.P,"String",{repeat:r(149)})},function(t,n,r){"use strict";r(29)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="startsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{startsWith:function(t){var n=o(this,t,u),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(29)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(29)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(29)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){"use strict";r(82)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(10),u=r(1),c=r(28),f=r(65).KEY,a=r(4),s=r(126),l=r(81),h=r(76),v=r(7),p=r(182),d=r(153),y=r(206),g=r(205),b=r(138),m=r(2),x=r(30),w=r(50),S=r(66),_=r(70),O=r(174),E=r(31),P=r(11),j=r(72),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(71).f=O.f=Z,r(116).f=X,r(125).f=tt,o&&!r(69)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(27)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){"use strict";var e=r(1),i=r(127),o=r(152),u=r(2),c=r(75),f=r(16),a=r(6),s=r(3).ArrayBuffer,l=r(146),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||a(t)&&y in t}}),e(e.P+e.U+e.F*r(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(74)(g)},function(t,n,r){var e=r(1);e(e.G+e.W+e.F*!r(127).ABV,{DataView:r(152).DataView})},function(t,n,r){r(55)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){"use strict";var e=r(166);r(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(1),i=r(117)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("includes")},function(t,n,r){var e=r(1),i=r(143)(),o=r(3).process,u="process"==r(45)(o);e(e.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,r){var e=r(1),i=r(45);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Map",{toJSON:r(165)("Map")})},function(t,n,r){var e=r(1);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>16,f=i>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>16)+((o*f>>>0)+(a&r)>>16)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>>16,f=i>>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>>16)+((o*f>>>0)+(a&r)>>>16)}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(1),i=r(176)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){var e=r(1),i=r(177),o=r(30),u=r(31),c=r(131);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=o(t),e=u.f,f=i(r),a={},s=0;f.length>s;)c(a,n=f[s++],e(r,n));return a}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(1),i=r(176)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(52),u=r(143)(),c=r(7)("observable"),f=r(26),a=r(2),s=r(68),l=r(73),h=r(27),v=r(79),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,"Observable","_f")._f=f(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){f(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n="function"==typeof this?this:w,r=d(a(t)[c]);if(r){var e=a(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(74)("Observable")},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,i(r),o(e))}})},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var f=c.get(n);return f.delete(r),!!f.size||c.delete(n)}})},function(t,n,r){var e=r(185),i=r(161),o=r(54),u=r(2),c=r(32),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){
return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function(t,n){return f(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(26),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Set",{toJSON:r(165)("Set")})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(46),o=r(16),u=r(122),c=r(120),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(139)(a,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in f?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new a(e,n)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";r(82)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(82)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){r(153)("asyncIterator")},function(t,n,r){r(153)("observable")},function(t,n,r){var e=r(1);e(e.S,"System",{global:r(3)})},function(t,n,r){for(var e=r(155),i=r(28),o=r(3),u=r(27),c=r(80),f=r(7),a=f("iterator"),s=f("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],v=0;v<5;v++){var p,d=h[v],y=o[d],g=y&&y.prototype;if(g){g[a]||u(g,a,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||i(g,p,e[p],!0)}}},function(t,n,r){var e=r(1),i=r(151);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){var e=r(3),i=r(1),o=r(121),u=r(207),c=e.navigator,f=!!c&&/MSIE .\./.test(c.userAgent),a=function(t){return f?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*f,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,r){r(330),r(269),r(271),r(270),r(273),r(275),r(280),r(274),r(272),r(282),r(281),r(277),r(278),r(276),r(268),r(279),r(283),r(284),r(236),r(238),r(237),r(286),r(285),r(256),r(266),r(267),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(317),r(322),r(329),r(320),r(312),r(313),r(318),r(323),r(325),r(308),r(309),r(310),r(311),r(314),r(315),r(316),r(319),r(321),r(324),r(326),r(327),r(328),r(231),r(233),r(232),r(235),r(234),r(220),r(218),r(224),r(221),r(227),r(229),r(217),r(223),r(214),r(228),r(212),r(226),r(225),r(219),r(222),r(211),r(213),r(216),r(215),r(230),r(155),r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports=r(52)},function(t,n){function r(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var r=t.nextSibling;return r?t.parentNode.insertBefore(n,r):t.parentNode.appendChild(n)}t.exports=r},,,,,,,,,function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new p(e||[]);return u._invoke=s(t,r,c),u}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function n(r,e,o,u){var c=i(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return o=o?o.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var o;this._invoke=e}function s(t,n,r){var e=P;return function(o,u){if(e===F)throw new Error("Generator is already running");if(e===M){if("throw"===o)throw u;return y()}for(r.method=o,r.arg=u;;){var c=r.delegate;if(c){var f=l(c,r);if(f){if(f===A)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===P)throw e=M,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=F;var a=i(t,n,r);if("normal"===a.type){if(e=r.done?M:j,a.arg===A)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=M,r.method="throw",r.arg=a.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===g){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=g,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=i(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,A;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=g),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=g,n.done=!0,n};return e.next=e}}return{next:y}}function y(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},w=x.iterator||"@@iterator",S=x.asyncIterator||"@@asyncIterator",_=x.toStringTag||"@@toStringTag",O="object"==typeof t,E=n.regeneratorRuntime;if(E)return void(O&&(t.exports=E));E=n.regeneratorRuntime=O?t.exports:{},E.wrap=e;var P="suspendedStart",j="suspendedYield",F="executing",M="completed",A={},N={};N[w]=function(){return this};var T=Object.getPrototypeOf,I=T&&T(T(d([])));I&&I!==b&&m.call(I,w)&&(N=I);var k=c.prototype=o.prototype=Object.create(N);u.prototype=k.constructor=c,c.constructor=u,c[_]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(k),t},E.awrap=function(t){return{__await:t}},f(a.prototype),a.prototype[S]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,r,i){var o=new a(e(t,n,r,i));return E.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},f(k),k[_]="Generator",k.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=g),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),c=m.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=g),A}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(158))}])</script><script src="/./main.0cf68a.js"></script><script>!function(){!function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)}("/slider.e37972.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Tree</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">分布式</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">前端</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">他人好文</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Dubbo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Javaweb</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Kubernetes</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Flink</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">测试</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">JVM</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">高并发</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Mybatis</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Dynamic Programming</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">查找</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">贪心</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">栈、队列、堆</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">二刷未AC</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">字符串</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">回溯</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">位运算</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">双指针</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Math</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">sql</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">链表</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">hash</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">排序</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">数组</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">数据库</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Nginx</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">架构</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">spring</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">项目管理</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">maven</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">工具使用</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">shiro</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">搜索</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">密码学</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">操作系统</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">职业发展</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">网络</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">工作</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">数据结构与算法</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">设计模式</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">武汉工程大学在读 VX:y18372879804</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>